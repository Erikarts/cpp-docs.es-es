---
title: CListCtrl (clase)
ms.date: 11/04/2016
f1_keywords:
- CListCtrl
- AFXCMN/CListCtrl
- AFXCMN/CListCtrl::CListCtrl
- AFXCMN/CListCtrl::ApproximateViewRect
- AFXCMN/CListCtrl::Arrange
- AFXCMN/CListCtrl::CancelEditLabel
- AFXCMN/CListCtrl::Create
- AFXCMN/CListCtrl::CreateDragImage
- AFXCMN/CListCtrl::CreateEx
- AFXCMN/CListCtrl::DeleteAllItems
- AFXCMN/CListCtrl::DeleteColumn
- AFXCMN/CListCtrl::DeleteItem
- AFXCMN/CListCtrl::DrawItem
- AFXCMN/CListCtrl::EditLabel
- AFXCMN/CListCtrl::EnableGroupView
- AFXCMN/CListCtrl::EnsureVisible
- AFXCMN/CListCtrl::FindItem
- AFXCMN/CListCtrl::GetBkColor
- AFXCMN/CListCtrl::GetBkImage
- AFXCMN/CListCtrl::GetCallbackMask
- AFXCMN/CListCtrl::GetCheck
- AFXCMN/CListCtrl::GetColumn
- AFXCMN/CListCtrl::GetColumnOrderArray
- AFXCMN/CListCtrl::GetColumnWidth
- AFXCMN/CListCtrl::GetCountPerPage
- AFXCMN/CListCtrl::GetEditControl
- AFXCMN/CListCtrl::GetEmptyText
- AFXCMN/CListCtrl::GetExtendedStyle
- AFXCMN/CListCtrl::GetFirstSelectedItemPosition
- AFXCMN/CListCtrl::GetFocusedGroup
- AFXCMN/CListCtrl::GetGroupCount
- AFXCMN/CListCtrl::GetGroupInfo
- AFXCMN/CListCtrl::GetGroupInfoByIndex
- AFXCMN/CListCtrl::GetGroupMetrics
- AFXCMN/CListCtrl::GetGroupRect
- AFXCMN/CListCtrl::GetGroupState
- AFXCMN/CListCtrl::GetHeaderCtrl
- AFXCMN/CListCtrl::GetHotCursor
- AFXCMN/CListCtrl::GetHotItem
- AFXCMN/CListCtrl::GetHoverTime
- AFXCMN/CListCtrl::GetImageList
- AFXCMN/CListCtrl::GetInsertMark
- AFXCMN/CListCtrl::GetInsertMarkColor
- AFXCMN/CListCtrl::GetInsertMarkRect
- AFXCMN/CListCtrl::GetItem
- AFXCMN/CListCtrl::GetItemCount
- AFXCMN/CListCtrl::GetItemData
- AFXCMN/CListCtrl::GetItemIndexRect
- AFXCMN/CListCtrl::GetItemPosition
- AFXCMN/CListCtrl::GetItemRect
- AFXCMN/CListCtrl::GetItemSpacing
- AFXCMN/CListCtrl::GetItemState
- AFXCMN/CListCtrl::GetItemText
- AFXCMN/CListCtrl::GetNextItem
- AFXCMN/CListCtrl::GetNextItemIndex
- AFXCMN/CListCtrl::GetNextSelectedItem
- AFXCMN/CListCtrl::GetNumberOfWorkAreas
- AFXCMN/CListCtrl::GetOrigin
- AFXCMN/CListCtrl::GetOutlineColor
- AFXCMN/CListCtrl::GetSelectedColumn
- AFXCMN/CListCtrl::GetSelectedCount
- AFXCMN/CListCtrl::GetSelectionMark
- AFXCMN/CListCtrl::GetStringWidth
- AFXCMN/CListCtrl::GetSubItemRect
- AFXCMN/CListCtrl::GetTextBkColor
- AFXCMN/CListCtrl::GetTextColor
- AFXCMN/CListCtrl::GetTileInfo
- AFXCMN/CListCtrl::GetTileViewInfo
- AFXCMN/CListCtrl::GetToolTips
- AFXCMN/CListCtrl::GetTopIndex
- AFXCMN/CListCtrl::GetView
- AFXCMN/CListCtrl::GetViewRect
- AFXCMN/CListCtrl::GetWorkAreas
- AFXCMN/CListCtrl::HasGroup
- AFXCMN/CListCtrl::HitTest
- AFXCMN/CListCtrl::InsertColumn
- AFXCMN/CListCtrl::InsertGroup
- AFXCMN/CListCtrl::InsertGroupSorted
- AFXCMN/CListCtrl::InsertItem
- AFXCMN/CListCtrl::InsertMarkHitTest
- AFXCMN/CListCtrl::IsGroupViewEnabled
- AFXCMN/CListCtrl::IsItemVisible
- AFXCMN/CListCtrl::MapIDToIndex
- AFXCMN/CListCtrl::MapIndexToID
- AFXCMN/CListCtrl::MoveGroup
- AFXCMN/CListCtrl::MoveItemToGroup
- AFXCMN/CListCtrl::RedrawItems
- AFXCMN/CListCtrl::RemoveAllGroups
- AFXCMN/CListCtrl::RemoveGroup
- AFXCMN/CListCtrl::Scroll
- AFXCMN/CListCtrl::SetBkColor
- AFXCMN/CListCtrl::SetBkImage
- AFXCMN/CListCtrl::SetCallbackMask
- AFXCMN/CListCtrl::SetCheck
- AFXCMN/CListCtrl::SetColumn
- AFXCMN/CListCtrl::SetColumnOrderArray
- AFXCMN/CListCtrl::SetColumnWidth
- AFXCMN/CListCtrl::SetExtendedStyle
- AFXCMN/CListCtrl::SetGroupInfo
- AFXCMN/CListCtrl::SetGroupMetrics
- AFXCMN/CListCtrl::SetHotCursor
- AFXCMN/CListCtrl::SetHotItem
- AFXCMN/CListCtrl::SetHoverTime
- AFXCMN/CListCtrl::SetIconSpacing
- AFXCMN/CListCtrl::SetImageList
- AFXCMN/CListCtrl::SetInfoTip
- AFXCMN/CListCtrl::SetInsertMark
- AFXCMN/CListCtrl::SetInsertMarkColor
- AFXCMN/CListCtrl::SetItem
- AFXCMN/CListCtrl::SetItemCount
- AFXCMN/CListCtrl::SetItemCountEx
- AFXCMN/CListCtrl::SetItemData
- AFXCMN/CListCtrl::SetItemIndexState
- AFXCMN/CListCtrl::SetItemPosition
- AFXCMN/CListCtrl::SetItemState
- AFXCMN/CListCtrl::SetItemText
- AFXCMN/CListCtrl::SetOutlineColor
- AFXCMN/CListCtrl::SetSelectedColumn
- AFXCMN/CListCtrl::SetSelectionMark
- AFXCMN/CListCtrl::SetTextBkColor
- AFXCMN/CListCtrl::SetTextColor
- AFXCMN/CListCtrl::SetTileInfo
- AFXCMN/CListCtrl::SetTileViewInfo
- AFXCMN/CListCtrl::SetToolTips
- AFXCMN/CListCtrl::SetView
- AFXCMN/CListCtrl::SetWorkAreas
- AFXCMN/CListCtrl::SortGroups
- AFXCMN/CListCtrl::SortItems
- AFXCMN/CListCtrl::SortItemsEx
- AFXCMN/CListCtrl::SubItemHitTest
- AFXCMN/CListCtrl::Update
helpviewer_keywords:
- CListCtrl [MFC], CListCtrl
- CListCtrl [MFC], ApproximateViewRect
- CListCtrl [MFC], Arrange
- CListCtrl [MFC], CancelEditLabel
- CListCtrl [MFC], Create
- CListCtrl [MFC], CreateDragImage
- CListCtrl [MFC], CreateEx
- CListCtrl [MFC], DeleteAllItems
- CListCtrl [MFC], DeleteColumn
- CListCtrl [MFC], DeleteItem
- CListCtrl [MFC], DrawItem
- CListCtrl [MFC], EditLabel
- CListCtrl [MFC], EnableGroupView
- CListCtrl [MFC], EnsureVisible
- CListCtrl [MFC], FindItem
- CListCtrl [MFC], GetBkColor
- CListCtrl [MFC], GetBkImage
- CListCtrl [MFC], GetCallbackMask
- CListCtrl [MFC], GetCheck
- CListCtrl [MFC], GetColumn
- CListCtrl [MFC], GetColumnOrderArray
- CListCtrl [MFC], GetColumnWidth
- CListCtrl [MFC], GetCountPerPage
- CListCtrl [MFC], GetEditControl
- CListCtrl [MFC], GetEmptyText
- CListCtrl [MFC], GetExtendedStyle
- CListCtrl [MFC], GetFirstSelectedItemPosition
- CListCtrl [MFC], GetFocusedGroup
- CListCtrl [MFC], GetGroupCount
- CListCtrl [MFC], GetGroupInfo
- CListCtrl [MFC], GetGroupInfoByIndex
- CListCtrl [MFC], GetGroupMetrics
- CListCtrl [MFC], GetGroupRect
- CListCtrl [MFC], GetGroupState
- CListCtrl [MFC], GetHeaderCtrl
- CListCtrl [MFC], GetHotCursor
- CListCtrl [MFC], GetHotItem
- CListCtrl [MFC], GetHoverTime
- CListCtrl [MFC], GetImageList
- CListCtrl [MFC], GetInsertMark
- CListCtrl [MFC], GetInsertMarkColor
- CListCtrl [MFC], GetInsertMarkRect
- CListCtrl [MFC], GetItem
- CListCtrl [MFC], GetItemCount
- CListCtrl [MFC], GetItemData
- CListCtrl [MFC], GetItemIndexRect
- CListCtrl [MFC], GetItemPosition
- CListCtrl [MFC], GetItemRect
- CListCtrl [MFC], GetItemSpacing
- CListCtrl [MFC], GetItemState
- CListCtrl [MFC], GetItemText
- CListCtrl [MFC], GetNextItem
- CListCtrl [MFC], GetNextItemIndex
- CListCtrl [MFC], GetNextSelectedItem
- CListCtrl [MFC], GetNumberOfWorkAreas
- CListCtrl [MFC], GetOrigin
- CListCtrl [MFC], GetOutlineColor
- CListCtrl [MFC], GetSelectedColumn
- CListCtrl [MFC], GetSelectedCount
- CListCtrl [MFC], GetSelectionMark
- CListCtrl [MFC], GetStringWidth
- CListCtrl [MFC], GetSubItemRect
- CListCtrl [MFC], GetTextBkColor
- CListCtrl [MFC], GetTextColor
- CListCtrl [MFC], GetTileInfo
- CListCtrl [MFC], GetTileViewInfo
- CListCtrl [MFC], GetToolTips
- CListCtrl [MFC], GetTopIndex
- CListCtrl [MFC], GetView
- CListCtrl [MFC], GetViewRect
- CListCtrl [MFC], GetWorkAreas
- CListCtrl [MFC], HasGroup
- CListCtrl [MFC], HitTest
- CListCtrl [MFC], InsertColumn
- CListCtrl [MFC], InsertGroup
- CListCtrl [MFC], InsertGroupSorted
- CListCtrl [MFC], InsertItem
- CListCtrl [MFC], InsertMarkHitTest
- CListCtrl [MFC], IsGroupViewEnabled
- CListCtrl [MFC], IsItemVisible
- CListCtrl [MFC], MapIDToIndex
- CListCtrl [MFC], MapIndexToID
- CListCtrl [MFC], MoveGroup
- CListCtrl [MFC], MoveItemToGroup
- CListCtrl [MFC], RedrawItems
- CListCtrl [MFC], RemoveAllGroups
- CListCtrl [MFC], RemoveGroup
- CListCtrl [MFC], Scroll
- CListCtrl [MFC], SetBkColor
- CListCtrl [MFC], SetBkImage
- CListCtrl [MFC], SetCallbackMask
- CListCtrl [MFC], SetCheck
- CListCtrl [MFC], SetColumn
- CListCtrl [MFC], SetColumnOrderArray
- CListCtrl [MFC], SetColumnWidth
- CListCtrl [MFC], SetExtendedStyle
- CListCtrl [MFC], SetGroupInfo
- CListCtrl [MFC], SetGroupMetrics
- CListCtrl [MFC], SetHotCursor
- CListCtrl [MFC], SetHotItem
- CListCtrl [MFC], SetHoverTime
- CListCtrl [MFC], SetIconSpacing
- CListCtrl [MFC], SetImageList
- CListCtrl [MFC], SetInfoTip
- CListCtrl [MFC], SetInsertMark
- CListCtrl [MFC], SetInsertMarkColor
- CListCtrl [MFC], SetItem
- CListCtrl [MFC], SetItemCount
- CListCtrl [MFC], SetItemCountEx
- CListCtrl [MFC], SetItemData
- CListCtrl [MFC], SetItemIndexState
- CListCtrl [MFC], SetItemPosition
- CListCtrl [MFC], SetItemState
- CListCtrl [MFC], SetItemText
- CListCtrl [MFC], SetOutlineColor
- CListCtrl [MFC], SetSelectedColumn
- CListCtrl [MFC], SetSelectionMark
- CListCtrl [MFC], SetTextBkColor
- CListCtrl [MFC], SetTextColor
- CListCtrl [MFC], SetTileInfo
- CListCtrl [MFC], SetTileViewInfo
- CListCtrl [MFC], SetToolTips
- CListCtrl [MFC], SetView
- CListCtrl [MFC], SetWorkAreas
- CListCtrl [MFC], SortGroups
- CListCtrl [MFC], SortItems
- CListCtrl [MFC], SortItemsEx
- CListCtrl [MFC], SubItemHitTest
- CListCtrl [MFC], Update
ms.assetid: fe08a1ca-4b05-4ff7-a12a-ee4c765a2197
ms.openlocfilehash: 850c16420606452414cbe284c5f9f25031859c93
ms.sourcegitcommit: c3093251193944840e3d0a068ecc30e6449624ba
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/04/2019
ms.locfileid: "57304527"
---
# <a name="clistctrl-class"></a>CListCtrl (clase)

Encapsula la funcionalidad de un "control de vista de lista", que muestra una colección de elementos cada uno de los cuales consta de un icono (de una lista de imágenes) y una etiqueta.

## <a name="syntax"></a>Sintaxis

```
class CListCtrl : public CWnd
```

## <a name="members"></a>Miembros

### <a name="public-constructors"></a>Constructores públicos

|Name|Descripción|
|----------|-----------------|
|[CListCtrl::CListCtrl](#clistctrl)|Construye un objeto `CListCtrl`.|

### <a name="public-methods"></a>Métodos públicos

|Name|Descripción|
|----------|-----------------|
|[CListCtrl::ApproximateViewRect](#approximateviewrect)|Determina el ancho y alto necesario para mostrar los elementos de un control de vista de lista.|
|[CListCtrl::Arrange](#arrange)|Alinea los elementos en una cuadrícula.|
|[CListCtrl::CancelEditLabel](#canceleditlabel)|Cancela la operación de edición de texto de elemento.|
|[CListCtrl::Create](#create)|Crea un control de lista y lo adjunta a un `CListCtrl` objeto.|
|[CListCtrl::CreateDragImage](#createdragimage)|Crea una lista de imágenes de arrastre para un elemento especificado.|
|[CListCtrl::CreateEx](#createex)|Crea un control de lista con los estilos extendidos de Windows especificados y lo asocia a un `CListCtrl` objeto.|
|[CListCtrl::DeleteAllItems](#deleteallitems)|Elimina todos los elementos del control.|
|[CListCtrl::DeleteColumn](#deletecolumn)|Elimina una columna desde el control de vista de lista.|
|[CListCtrl::DeleteItem](#deleteitem)|Elimina un elemento del control.|
|[CListCtrl::DrawItem](#drawitem)|Se llama cuando un aspecto visual de un control dibujado por el propietario cambia.|
|[CListCtrl::EditLabel](#editlabel)|Comienza la edición en contexto del texto de un elemento.|
|[CListCtrl::EnableGroupView](#enablegroupview)|Habilita o deshabilita si los elementos de un control de vista de lista se muestran como un grupo.|
|[CListCtrl::EnsureVisible](#ensurevisible)|Garantiza que un elemento está visible.|
|[CListCtrl::FindItem](#finditem)|Busca un elemento de vista de lista con las características especificadas.|
|[CListCtrl::GetBkColor](#getbkcolor)|Recupera el color de fondo de un control de vista de lista.|
|[CListCtrl::GetBkImage](#getbkimage)|Recupera la imagen de fondo actual de un control de vista de lista.|
|[CListCtrl::GetCallbackMask](#getcallbackmask)|Recupera la máscara de devolución de llamada para un control de vista de lista.|
|[CListCtrl::GetCheck](#getcheck)|Recupera el estado de la imagen de estado asociada a un elemento de visualización actual.|
|[CListCtrl::GetColumn](#getcolumn)|Recupera los atributos de columna de un control.|
|[CListCtrl::GetColumnOrderArray](#getcolumnorderarray)|Recupera el orden de las columnas (de izquierda a derecha) de un control de vista de lista.|
|[CListCtrl::GetColumnWidth](#getcolumnwidth)|Recupera el ancho de una columna en la vista de informe o vista de lista.|
|[CListCtrl::GetCountPerPage](#getcountperpage)|Calcula el número de elementos que se pueden ajustar verticalmente en un control de vista de lista.|
|[CListCtrl::GetEditControl](#geteditcontrol)|Recupera el identificador de control de edición utilizado para editar el texto de un elemento.|
|[CListCtrl::GetEmptyText](#getemptytext)|Recupera la cadena para mostrar si el control de vista de lista actual está vacío.|
|[CListCtrl::GetExtendedStyle](#getextendedstyle)|Recupera los estilos extendidos actuales de un control de vista de lista.|
|[CListCtrl::GetFirstSelectedItemPosition](#getfirstselecteditemposition)|Recupera la posición del primer elemento de vista de lista seleccionado en un control de vista de lista.|
|[CListCtrl::GetFocusedGroup](#getfocusedgroup)|Recupera el grupo que tiene el foco de teclado en el control de vista de lista actual.|
|[CListCtrl::GetGroupCount](#getgroupcount)|Recupera el número de grupos en el control de vista de lista actual.|
|[CListCtrl::GetGroupInfo](#getgroupinfo)|Obtiene la información para un grupo especificado del control de vista de lista.|
|[CListCtrl::GetGroupInfoByIndex](#getgroupinfobyindex)|Recupera información sobre un grupo especificado en el control de vista de lista actual.|
|[CListCtrl::GetGroupMetrics](#getgroupmetrics)|Recupera las métricas de un grupo.|
|[CListCtrl::GetGroupRect](#getgrouprect)|Recupera el rectángulo delimitador para un grupo especificado en el control de vista de lista actual.|
|[CListCtrl::GetGroupState](#getgroupstate)|Recupera el estado de un grupo especificado en el control de vista de lista actual.|
|[CListCtrl::GetHeaderCtrl](#getheaderctrl)|Recupera el control de encabezado de un control de vista de lista.|
|[CListCtrl::GetHotCursor](#gethotcursor)|Recupera el cursor usado cuando se habilita el seguimiento activo para un control de vista de lista.|
|[CListCtrl::GetHotItem](#gethotitem)|Recupera el elemento de vista de lista actualmente bajo el cursor.|
|[CListCtrl::GetHoverTime](#gethovertime)|Recupera el tiempo de desplazamiento actual de un control de vista de lista.|
|[CListCtrl::GetImageList](#getimagelist)|Recupera el identificador de una lista de imágenes que se usa para dibujar elementos de vista de lista.|
|[CListCtrl::GetInsertMark](#getinsertmark)|Recupera la posición actual de la marca de inserción.|
|[CListCtrl::GetInsertMarkColor](#getinsertmarkcolor)|Recupera el color actual de la marca de inserción.|
|[CListCtrl::GetInsertMarkRect](#getinsertmarkrect)|Recupera el rectángulo que delimita el punto de inserción.|
|[CListCtrl::GetItem](#getitem)|Recupera los atributos del elemento de vista de lista.|
|[CListCtrl::GetItemCount](#getitemcount)|Recupera el número de elementos en un control de vista de lista.|
|[CListCtrl::GetItemData](#getitemdata)|Recupera el valor específico de la aplicación asociado a un elemento.|
|[CListCtrl::GetItemIndexRect](#getitemindexrect)|Recupera el rectángulo delimitador para la totalidad o parte de un subelemento en el control de vista de lista actual.|
|[CListCtrl::GetItemPosition](#getitemposition)|Recupera la posición de un elemento de vista de lista.|
|[CListCtrl::GetItemRect](#getitemrect)|Recupera el rectángulo delimitador de un elemento.|
|[CListCtrl::GetItemSpacing](#getitemspacing)|Calcula el espaciado entre los elementos del control de vista de lista actual.|
|[CListCtrl::GetItemState](#getitemstate)|Recupera el estado de un elemento de vista de lista.|
|[CListCtrl::GetItemText](#getitemtext)|Recupera el texto de un elemento de vista de lista o el subelemento.|
|[CListCtrl::GetNextItem](#getnextitem)|Busca un elemento de vista de lista con las propiedades especificadas y con la relación especificada a un elemento determinado.|
|[CListCtrl::GetNextItemIndex](#getnextitemindex)|Recupera el índice del elemento en el control de vista de lista actual que tiene un conjunto de propiedades especificado.|
|[CListCtrl::GetNextSelectedItem](#getnextselecteditem)|Recupera el índice de una posición de elemento de vista de lista y la posición del siguiente artículo de vista de lista seleccionado para efectuar una iteración.|
|[CListCtrl::GetNumberOfWorkAreas](#getnumberofworkareas)|Recupera el número actual de áreas de trabajo para un control de vista de lista.|
|[CListCtrl::GetOrigin](#getorigin)|Recupera el origen de la vista actual para un control de vista de lista.|
|[CListCtrl::GetOutlineColor](#getoutlinecolor)|Recupera el color del borde de un control de vista de lista.|
|[CListCtrl::GetSelectedColumn](#getselectedcolumn)|Recupera el índice de la columna actualmente seleccionada en el control de lista.|
|[CListCtrl::GetSelectedCount](#getselectedcount)|Recupera el número de elementos seleccionados en el control de vista de lista.|
|[CListCtrl::GetSelectionMark](#getselectionmark)|Recupera la marca de selección de un control de vista de lista.|
|[CListCtrl::GetStringWidth](#getstringwidth)|Determina el ancho de columna mínimo necesario para mostrar toda la cadena especificada.|
|[CListCtrl::GetSubItemRect](#getsubitemrect)|Recupera el rectángulo delimitador de un elemento en un control de vista de lista.|
|[CListCtrl::GetTextBkColor](#gettextbkcolor)|Recupera el color de fondo del texto de un control de vista de lista.|
|[CListCtrl::GetTextColor](#gettextcolor)|Recupera el color del texto de un control de vista de lista.|
|[CListCtrl::GetTileInfo](#gettileinfo)|Recupera información sobre un icono en un control de vista de lista.|
|[CListCtrl::GetTileViewInfo](#gettileviewinfo)|Recupera información sobre un control de vista de lista en la vista en mosaico.|
|[CListCtrl::GetToolTips](#gettooltips)|Recupera el control de información sobre herramientas que utiliza el control de vista de lista para mostrar información sobre herramientas.|
|[CListCtrl::GetTopIndex](#gettopindex)|Recupera el índice del primer elemento visible.|
|[CListCtrl::GetView](#getview)|Obtiene la vista del control de vista de lista.|
|[CListCtrl::GetViewRect](#getviewrect)|Recupera el rectángulo delimitador de todos los elementos en el control de vista de lista.|
|[CListCtrl::GetWorkAreas](#getworkareas)|Recupera las áreas de trabajo actual de un control de vista de lista.|
|[CListCtrl::HasGroup](#hasgroup)|Determina si el control de vista de lista tiene el grupo especificado.|
|[CListCtrl::HitTest](#hittest)|Determina qué lista es el elemento de vista en una posición especificada.|
|[CListCtrl::InsertColumn](#insertcolumn)|Inserta una nueva columna en un control de vista de lista.|
|[CListCtrl::InsertGroup](#insertgroup)|Inserta un grupo en el control de vista de lista.|
|[CListCtrl::InsertGroupSorted](#insertgroupsorted)|Inserta el grupo especificado en una lista ordenada de los grupos.|
|[CListCtrl::InsertItem](#insertitem)|Inserta un nuevo elemento en un control de vista de lista.|
|[CListCtrl::InsertMarkHitTest](#insertmarkhittest)|Recupera el punto de inserción más cercano a un punto especificado.|
|[CListCtrl::IsGroupViewEnabled](#isgroupviewenabled)|Determina si la vista de grupo está habilitada para un control de vista de lista.|
|[CListCtrl::IsItemVisible](#isitemvisible)|Indica si un elemento especificado en el control de vista de lista actual está visible.|
|[CListCtrl::MapIDToIndex](#mapidtoindex)|El identificador único de un elemento en el control de vista de lista actual se asigna a un índice.|
|[CListCtrl::MapIndexToID](#mapindextoid)|El índice de un elemento en el control de vista de lista actual se asigna a un identificador único.|
|[CListCtrl::MoveGroup](#movegroup)|Mueve el grupo especificado.|
|[CListCtrl::MoveItemToGroup](#moveitemtogroup)|Mueve el que grupo especificado para el índice de base cero del control de vista de lista.|
|[CListCtrl::RedrawItems](#redrawitems)|Obliga a un control de vista de lista para volver a dibujar un intervalo de elementos.|
|[CListCtrl::RemoveAllGroups](#removeallgroups)|Quita todos los grupos de un control de vista de lista.|
|[CListCtrl::RemoveGroup](#removegroup)|Quita el grupo especificado desde el control de vista de lista.|
|[CListCtrl::Scroll](#scroll)|Desplaza el contenido de un control de vista de lista.|
|[CListCtrl::SetBkColor](#setbkcolor)|Establece el color de fondo del control de vista de lista.|
|[CListCtrl::SetBkImage](#setbkimage)|Establece la imagen de fondo actual de un control de vista de lista.|
|[CListCtrl::SetCallbackMask](#setcallbackmask)|Establece la máscara de devolución de llamada para un control de vista de lista.|
|[CListCtrl::SetCheck](#setcheck)|Conjuntos actual Mostrar estado de la imagen de estado asociada a un elemento.|
|[CListCtrl::SetColumn](#setcolumn)|Establece los atributos de una columna de vista de lista.|
|[CListCtrl::SetColumnOrderArray](#setcolumnorderarray)|Establece el orden de las columnas (de izquierda a derecha) de un control de vista de lista.|
|[CListCtrl::SetColumnWidth](#setcolumnwidth)|Cambia el ancho de una columna en la vista de informe o vista de lista.|
|[CListCtrl::SetExtendedStyle](#setextendedstyle)|Establece los estilos extendidos actuales de un control de vista de lista.|
|[CListCtrl::SetGroupInfo](#setgroupinfo)|Establece la información para el grupo de un control de vista de lista especificado.|
|[CListCtrl::SetGroupMetrics](#setgroupmetrics)|Establece las métricas de grupo de un control de vista de lista.|
|[CListCtrl::SetHotCursor](#sethotcursor)|Establece el cursor usado cuando se habilita el seguimiento activo para un control de vista de lista.|
|[CListCtrl::SetHotItem](#sethotitem)|Establece el elemento activo actual de un control de vista de lista.|
|[CListCtrl::SetHoverTime](#sethovertime)|Establece el tiempo de desplazamiento actual de un control de vista de lista.|
|[CListCtrl::SetIconSpacing](#seticonspacing)|Establece el espaciado entre los iconos en un control de vista de lista.|
|[CListCtrl::SetImageList](#setimagelist)|Asigna una lista de imágenes a un control de vista de lista.|
|[CListCtrl::SetInfoTip](#setinfotip)|Establece el texto de información sobre herramientas.|
|[CListCtrl::SetInsertMark](#setinsertmark)|Establece el punto de inserción a la posición definida.|
|[CListCtrl::SetInsertMarkColor](#setinsertmarkcolor)|Establece el color del punto de inserción.|
|[CListCtrl::SetItem](#setitem)|Establece los atributos del elemento de algunos o todos de una vista de lista.|
|[CListCtrl::SetItemCount](#setitemcount)|Prepara un control de vista de lista para agregar un gran número de elementos.|
|[CListCtrl::SetItemCountEx](#setitemcountex)|Establece el número de elementos de un control de vista de lista virtual.|
|[CListCtrl::SetItemData](#setitemdata)|Establece el valor del elemento específico de la aplicación.|
|[CListCtrl::SetItemIndexState](#setitemindexstate)|Establece el estado de un elemento en el control de vista de lista actual.|
|[CListCtrl::SetItemPosition](#setitemposition)|Mueve un elemento a una posición especificada en un control de vista de lista.|
|[CListCtrl::SetItemState](#setitemstate)|Cambia el estado de un elemento en un control de vista de lista.|
|[CListCtrl::SetItemText](#setitemtext)|Cambia el texto de un elemento de vista de lista o el subelemento.|
|[CListCtrl::SetOutlineColor](#setoutlinecolor)|Establece el color del borde de un control de vista de lista.|
|[CListCtrl::SetSelectedColumn](#setselectedcolumn)|Establece la columna seleccionada del control de vista de lista.|
|[CListCtrl::SetSelectionMark](#setselectionmark)|Establece la marca de selección de un control de vista de lista.|
|[CListCtrl::SetTextBkColor](#settextbkcolor)|Establece el color de fondo del texto en un control de vista de lista.|
|[CListCtrl::SetTextColor](#settextcolor)|Establece el color del texto de un control de vista de lista.|
|[CListCtrl::SetTileInfo](#settileinfo)|Establece la información para un icono del control de vista de lista.|
|[CListCtrl::SetTileViewInfo](#settileviewinfo)|Establece la información que usa un control de vista de lista en la vista en mosaico.|
|[CListCtrl::SetToolTips](#settooltips)|Establece el control de información sobre herramientas que va a usar el control de vista de lista para mostrar información sobre herramientas.|
|[CListCtrl::SetView](#setview)|Establece la vista del control de vista de lista.|
|[CListCtrl::SetWorkAreas](#setworkareas)|Establece el área donde se pueden mostrar los iconos en un control de vista de lista.|
|[CListCtrl::SortGroups](#sortgroups)|Ordena los grupos de una lista de control con una función definida por el usuario de vista.|
|[CListCtrl::SortItems](#sortitems)|Ordena los elementos de vista de lista con una función de comparación definido por la aplicación.|
|[CListCtrl::SortItemsEx](#sortitemsex)|Ordena los elementos de vista de lista con una función de comparación definido por la aplicación.|
|[CListCtrl::SubItemHitTest](#subitemhittest)|Determina qué elemento de vista de lista, si existe, está en una posición determinada.|
|[CListCtrl::Update](#update)|Obliga a volver a dibujar un elemento especificado.|

## <a name="remarks"></a>Comentarios

Además de un icono y una etiqueta, cada elemento puede tener información que se muestra en las columnas a la derecha del icono y etiqueta. Este control (y, por tanto, la `CListCtrl` clase) está disponible solo para programas que se ejecutan en Windows 95/98 y Windows NT versión 3.51 y versiones posteriores.

La siguiente es una breve descripción de la `CListCtrl` clase. Para obtener información conceptual detallada, vea [utilizando CListCtrl](../../mfc/using-clistctrl.md) y [controles](../../mfc/controls-mfc.md).

## <a name="views"></a>Vistas

Los controles de vista de lista pueden mostrar su contenido de cuatro maneras diferentes, denominados "vistas".

- Vista de iconos

   Cada elemento aparece como un icono de tamaño completo (32 x 32 píxeles) con una etiqueta debajo de él. El usuario puede arrastrar los elementos en cualquier ubicación en la ventana de vista de lista.

- Vista de iconos pequeños

   Cada elemento aparece como un icono pequeño (16 x 16 píxeles) con la etiqueta a la derecha de la misma. El usuario puede arrastrar los elementos en cualquier ubicación en la ventana de vista de lista.

- vista de lista

   Cada elemento aparece como un pequeño icono con una etiqueta a la derecha de la misma. Los elementos se organizan en columnas y no se pueden arrastrar a cualquier ubicación en la ventana de vista de lista.

- Vista de informe

   Cada elemento aparece en su propia línea, con información adicional que se organizan en columnas a la derecha. La columna de la izquierda contiene el pequeño icono y una etiqueta, y las columnas subsiguientes contienen los subelementos especificados por la aplicación. Un control de encabezado incrustado (clase [CHeaderCtrl](../../mfc/reference/cheaderctrl-class.md)) implementa estas columnas. Para obtener más información sobre el control de encabezado y las columnas de una vista de informe, vea [CListCtrl utilizando: Agregar columnas al Control (vista de informe)](../../mfc/adding-columns-to-the-control-report-view.md).

El estilo de vista de lista actual del control determina la vista actual. Para obtener más información sobre estos estilos y su uso, consulte [CListCtrl utilizando: Cambiar los estilos de Control de lista](../../mfc/changing-list-control-styles.md).

## <a name="extended-styles"></a>Estilos extendidos

Además de los estilos de lista estándar, la clase `CListCtrl` admite un gran conjunto de estilos extendidos, que proporciona funcionalidad enriquecida. Algunos ejemplos de esta funcionalidad:

- Mantenga la selección

   Cuando está habilitada, permite la selección automática de un elemento cuando el cursor permanece sobre el elemento durante un período de tiempo determinado.

- Vistas de lista virtual

   Cuando está habilitada, permite que el control admitir el máximo de elementos DWORD. Esto es posible mediante la colocación de la sobrecarga de administración de datos de elemento en la aplicación. Excepto la información de foco y selección de elementos, la aplicación debe administrar toda la información de elemento. Para obtener más información, consulte [CListCtrl utilizando: Controles de lista virtual](../../mfc/virtual-list-controls.md).

- Activación de uno y dos clics

   Cuando está habilitada, permite el seguimiento activo (resaltado automática del texto del elemento) y la activación de uno o dos clics del elemento resaltado.

- Arrastre y coloque la ordenación de columnas

   Cuando está habilitada, permite arrastrar y colocar reordenación de columnas en un control de vista de lista. Solo está disponible en la vista de informe.

Para obtener información sobre el uso de estos nuevos estilos extendidos, vea [CListCtrl utilizando: Cambiar los estilos de Control de lista](../../mfc/changing-list-control-styles.md).

## <a name="items-and-subitems"></a>Los elementos y subelementos

Cada elemento en un control de vista de lista se compone de un icono (de una lista de imágenes), una etiqueta, un estado actual y un valor definido por la aplicación (denominadas "elementos de datos"). Uno o varios subelementos también se pueden asociados con cada elemento. Un "subelemento" es una cadena que, en la vista de informe, se puede mostrar en una columna a la derecha del icono y una etiqueta de un elemento. Todos los elementos de un control de vista de lista deben tener el mismo número de subelementos.

Clase `CListCtrl` proporciona varias funciones para insertar, eliminar, buscar y modificar estos elementos. Para obtener más información, consulte [CListCtrl:: GetItem](#getitem), [CListCtrl::InsertItem](#insertitem), y [CListCtrl::FindItem](#finditem), [agregar elementos al Control](../adding-items-to-the-control.md), y [desplazamiento, organizar, ordenar y buscar en los controles de lista](../scrolling-arranging-sorting-and-finding-in-list-controls.md).

De forma predeterminada, el control de vista de lista es responsable de almacenar los atributos de icono y texto de un elemento. Sin embargo, además de estos tipos de elemento de la clase `CListCtrl` admite "elementos de devolución de llamada". Un "elemento de devolución de llamada" es un elemento de vista de lista para que la aplicación, en lugar del control, almacena el texto, icono o ambos. Una máscara de devolución de llamada se usa para especificar los atributos del elemento (texto o icono) proporcionados por la aplicación. Si una aplicación utiliza los elementos de devolución de llamada, debe ser capaz de proporcionar los atributos de texto y/o un icono a petición. Elementos de devolución de llamada son útiles cuando mantiene la aplicación ya parte de esta información. Para obtener más información, consulte [CListCtrl utilizando: Elementos de devolución de llamada y máscara de devolución de llamada](../callback-items-and-the-callback-mask.md).

## <a name="image-lists"></a>Listas de imágenes

Los iconos, imágenes de elemento de encabezado y aplicación - definen los Estados para ver los elementos de lista contenidos en varias listas de imágenes (implementado por la clase [CImageList](cimagelist-class.md)), que se cree y asigne al control de vista de lista. Cada control de vista de lista puede tener hasta cuatro tipos diferentes de listas de imágenes:

- Icono grande

   Se utiliza en la vista de iconos para iconos de tamaño completo.

- Icono pequeño

   Usa en el icono pequeño, lista y vistas de informe de versiones reducidas de los iconos utilizados en la vista de iconos.

- Estado definido por la aplicación

   Contiene las imágenes de estado, que se muestran al lado del icono de un elemento para indicar el estado definido por la aplicación.

- Elemento de encabezado

   Se utiliza en la vista de informe para imágenes pequeñas que aparecen en cada elemento del control de encabezado.

De forma predeterminada, un control de vista de lista destruye las listas de imágenes asignadas cuando se destruye; Sin embargo, el desarrollador puede personalizar este comportamiento mediante la destrucción de cada lista de imágenes cuando ya no se utiliza, según lo determinado por la aplicación. Para obtener más información, consulte [CListCtrl utilizando: Elementos de lista y listas de imágenes](../list-items-and-image-lists.md).

## <a name="inheritance-hierarchy"></a>Jerarquía de herencia

[CObject](cobject-class.md)

[CCmdTarget](ccmdtarget-class.md)

[CWnd](cwnd-class.md)

`CListCtrl`

## <a name="requirements"></a>Requisitos

**Encabezado:** afxcmn.h

## <a name="approximateviewrect"></a>  CListCtrl::ApproximateViewRect

Determina el ancho y alto necesario para mostrar los elementos de un control de vista de lista.

```
CSize ApproximateViewRect(
    CSize sz = CSize(-1,
-1),
    int iCount = -1) const;
```

### <a name="parameters"></a>Parámetros

*sz*<br/>
Las dimensiones de la propuesta del control, en píxeles. Si no se especifican las dimensiones, el marco usa los valores actuales del ancho o alto del control.

*iCount*<br/>
Número de elementos que se mostrará en el control. Si este parámetro es -1, el marco de trabajo usa el número total de elementos actualmente en el control.

### <a name="return-value"></a>Valor devuelto

Un `CSize` objeto que contiene el ancho aproximado y el alto necesario para mostrar los elementos, en píxeles.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_ApproximateViewRect](/windows/desktop/api/commctrl/nf-commctrl-listview_approximateviewrect), tal y como se describe en el SDK de Windows.

## <a name="arrange"></a>  CListCtrl::Arrange

Cambia de posición los elementos de una vista de iconos que se alinean en una cuadrícula.

```
BOOL Arrange(UINT nCode);
```

### <a name="parameters"></a>Parámetros

*nCode*<br/>
Especifica el estilo de alineación de los elementos. Puede ser uno de los siguientes valores:

- Alinea LVA_ALIGNLEFT elementos a lo largo del borde izquierdo de la ventana.

- Alinea LVA_ALIGNTOP elementos a lo largo del borde superior de la ventana.

- Elementos alinea LVA_DEFAULT según los estilos de alineación actual de la vista de lista (el valor predeterminado).

- LVA_SNAPTOGRID ajusta todos los iconos en la posición de cuadrícula más cercana.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

El *nCode* parámetro especifica el estilo de alineación.

### <a name="example"></a>Ejemplo

```cpp
    // Align all of the list view control items along the top
    // of the window (the list view control must be in icon or
    // small icon mode).
    m_myListCtrl.Arrange(LVA_ALIGNTOP);
```

## <a name="canceleditlabel"></a>  CListCtrl::CancelEditLabel

Cancela la operación de edición de texto de elemento.

```
void CancelEditLabel();
```

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_CANCELEDITLABEL](/windows/desktop/Controls/lvm-canceleditlabel) del mensaje, como se describe en el SDK de Windows.

## <a name="clistctrl"></a>  CListCtrl::CListCtrl

Construye un objeto `CListCtrl`.

```
CListCtrl();
```

## <a name="create"></a>  CListCtrl::Create

Crea un control de lista y lo adjunta a un `CListCtrl` objeto.

```
virtual BOOL Create(
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Parámetros

*dwStyle*<br/>
Especifica el estilo del control de lista. Aplicar cualquier combinación de los estilos de control de lista al control. Consulte [estilos de ventana de vista de lista](/windows/desktop/Controls/list-view-window-styles) en el SDK de Windows para obtener una lista completa de estos estilos. Conjunto específico de un control mediante estilos extendidos [SetExtendedStyle](#setextendedstyle).

*rect*<br/>
Especifica el tamaño y la posición del control de lista. Puede ser un `CRect` objeto o un [RECT](https://msdn.microsoft.com/library/windows/desktop/dd162897) estructura.

*pParentWnd*<br/>
Especifica la lista ventana del control primario, normalmente un `CDialog`. No debe ser NULL.

*nID*<br/>
Especifica el identificador. del control de lista

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

Construir un `CListCtrl` en dos pasos. En primer lugar, llame al constructor y, a continuación, llame a `Create`, que crea el control de vista de lista y lo adjunta a la `CListCtrl` objeto.

Para aplicar estilos extendidos de Windows para el objeto de lista de control, llame al [CreateEx](#createex) en lugar de `Create`.

### <a name="example"></a>Ejemplo

```cpp
    m_myListCtrl.Create(
        WS_CHILD|WS_VISIBLE|WS_BORDER|LVS_REPORT|LVS_EDITLABELS,
        CRect(10,10,400,200), pParentWnd, IDD_MYLISTCTRL);
```

## <a name="createex"></a>  CListCtrl::CreateEx

Crea un control (una ventana secundaria) y lo asocia a la `CListCtrl` objeto.

```
virtual BOOL CreateEx(
    DWORD dwExStyle,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Parámetros

*dwExStyle*<br/>
Especifica el estilo extendido del control que se está creando. Para obtener una lista de los estilos extendidos de Windows, consulte el *dwExStyle* parámetro [CreateWindowEx](/windows/desktop/api/winuser/nf-winuser-createwindowexa) en el SDK de Windows.

*dwStyle*<br/>
Especifica el estilo del control de lista. Aplicar cualquier combinación de los estilos de control de lista al control. Para obtener una lista completa de estos estilos, consulte [estilos de ventana de vista de lista](/windows/desktop/Controls/list-view-window-styles) en el SDK de Windows.

*rect*<br/>
Una referencia a un [RECT](https://msdn.microsoft.com/library/windows/desktop/dd162897) estructura que describe el tamaño y posición de la ventana que se creará, en coordenadas de cliente de *pParentWnd*.

*pParentWnd*<br/>
Un puntero a la ventana que es primario del control.

*nID*<br/>
Identificador de ventana secundaria. del control

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

Use `CreateEx` en lugar de [crear](#create) para aplicar estilos extendidos de Windows, especificados por el prólogo de estilo extendido de Windows **WS_EX_**.

`CreateEx` crea el control con los estilos extendidos de Windows especificados por *dwExStyle*. Para establecer los estilos extendidos específicos a un control, llame a [SetExtendedStyle](#setextendedstyle). Por ejemplo, usar `CreateEx` para establecer estos estilos como WS_EX_CONTEXTHELP, pero usa `SetExtendedStyle` para establecer estos estilos como LVS_EX_FULLROWSELECT. Para obtener más información, vea los estilos que se describe en el tema [estilos extendidos de vista de lista](/windows/desktop/Controls/extended-list-view-styles) en el SDK de Windows.

## <a name="createdragimage"></a>  CListCtrl::CreateDragImage

Crea una lista de la imagen de arrastre para el elemento especificado por *nItem*.

```
CImageList* CreateDragImage(
    int nItem,
    LPPOINT lpPoint);
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento cuya lista de imágenes de arrastre que se va a crearse.

*lpPoint*<br/>
Dirección de un [punto](https://msdn.microsoft.com/library/windows/desktop/dd162805) coordina la estructura que recibe la ubicación inicial de la esquina superior izquierda de la imagen, en la vista.

### <a name="return-value"></a>Valor devuelto

Un puntero a la lista de imágenes de arrastre si se realiza correctamente; en caso contrario, es NULL.

### <a name="remarks"></a>Comentarios

La `CImageList` objeto es permanente y debe eliminarlo cuando termine. Por ejemplo:

```cpp
        CImageList* pImageList = m_myListCtrl.CreateDragImage(nItem, &point);

        // do something

        delete pImageList;
```

## <a name="deleteallitems"></a>  CListCtrl::DeleteAllItems

Elimina todos los elementos de control de vista de lista.

```
BOOL DeleteAllItems();
```

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

```cpp
    // Delete all of the items from the list view control.
    m_myListCtrl.DeleteAllItems();
    ASSERT(m_myListCtrl.GetItemCount() == 0);
```

## <a name="deletecolumn"></a>  CListCtrl::DeleteColumn

Elimina una columna desde el control de vista de lista.

```
BOOL DeleteColumn(int nCol);
```

### <a name="parameters"></a>Parámetros

*nCol*<br/>
Índice de la columna va a eliminar.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

```cpp
        int nColumnCount = m_myListCtrl.GetHeaderCtrl()->GetItemCount();

        // Delete all of the columns.
        for (int i=0; i < nColumnCount; i++)
        {
            m_myListCtrl.DeleteColumn(0);
        }
```

## <a name="deleteitem"></a>  CListCtrl::DeleteItem

Elimina un elemento de un control de vista de lista.

```
BOOL DeleteItem(int nItem);
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Especifica el índice del elemento que se va a eliminar.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

```cpp
        int nCount = m_myListCtrl.GetItemCount();

        // Delete all of the items from the list view control.
        for (int i=0; i < nCount; i++)
        {
            m_myListCtrl.DeleteItem(0);
        }
```

## <a name="drawitem"></a>  CListCtrl::DrawItem

Lo llama el marco cuando un aspecto visual de un cambios de control de vista de lista dibujado por el propietario.

```
virtual void DrawItem(LPDRAWITEMSTRUCT lpDrawItemStruct);
```

### <a name="parameters"></a>Parámetros

*lpDrawItemStruct*<br/>
Un puntero largo a un `DRAWITEMSTRUCT` estructura que contiene información sobre el tipo de dibujo necesaria.

### <a name="remarks"></a>Comentarios

El `itemAction` miembro de la [DRAWITEMSTRUCT](/windows/desktop/api/winuser/ns-winuser-tagdrawitemstruct) estructura define la acción de dibujo que se realiza.

De forma predeterminada, esta función miembro no hace nada. Reemplace esta función miembro para implementar un dibujado por el propietario del dibujo `CListCtrl` objeto.

La aplicación debe restaurar todos los objetos de interfaz (GDI) de dispositivo de gráficos seleccionados para proporciona el contexto de presentación en *lpDrawItemStruct* antes de este miembro de la función termina.

## <a name="editlabel"></a>  CListCtrl::EditLabel

Comienza la edición en contexto del texto de un elemento.

```
CEdit* EditLabel(int nItem);
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento de vista de lista que se pueden editar.

### <a name="return-value"></a>Valor devuelto

Si es correcto, un puntero a la `CEdit` objeto que se usa para editar el texto del elemento; en caso contrario, NULL.

### <a name="remarks"></a>Comentarios

Un control de vista de lista que tiene el estilo de ventana LVS_EDITLABELS permite al usuario editar etiquetas de elemento en su lugar. El usuario comienza a editar, haga clic en la etiqueta de un elemento que tiene el foco.

Use esta función para comenzar a editar en lugar del texto del elemento de vista de lista especificado.

### <a name="example"></a>Ejemplo

```cpp
        // Make sure the focus is set to the list view control.
        m_myListCtrl.SetFocus();

        // Show the edit control on the label of the first
        // item in the list view control.
        CEdit* pmyEdit = m_myListCtrl.EditLabel(1);
        ASSERT(pmyEdit != NULL);
```

## <a name="enablegroupview"></a>  CListCtrl::EnableGroupView

Habilita o deshabilita si los elementos de un control de vista de lista se muestran como un grupo.

```
LRESULT EnableGroupView(BOOL fEnable);
```

### <a name="parameters"></a>Parámetros

*fEnable*<br/>
Indica si activar un control listview al grupo de los elementos mostrados. TRUE para habilitar la agrupación; FALSE para deshabilitarla.

### <a name="return-value"></a>Valor devuelto

Devuelve uno de los siguientes valores:

- **0** la capacidad para mostrar la vista de lista de elementos como un grupo ya está habilitado o deshabilitado.

- **1** correctamente se cambió el estado del control.

- **-1** error en la operación.

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_ENABLEGROUPVIEW](/windows/desktop/Controls/lvm-enablegroupview) del mensaje, como se describe en el SDK de Windows.

## <a name="ensurevisible"></a>  CListCtrl::EnsureVisible

Garantiza que un elemento de vista de lista sea como mínimo parcialmente visible.

```
BOOL EnsureVisible(
    int nItem,
    BOOL bPartialOK);
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento de vista de lista que está visible.

*bPartialOK*<br/>
Especifica si la visibilidad parcial es aceptable.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

Si es necesario, se desplaza el control de vista de lista. Si el *bPartialOK* parámetro es distinto de cero, no hay desplazamiento se produce si el elemento está parcialmente visible.

### <a name="example"></a>Ejemplo

```cpp
        // Ensure that the last item is visible.
        int nCount = m_myListCtrl.GetItemCount();
        if (nCount > 0)
            m_myListCtrl.EnsureVisible(nCount-1, FALSE);
```

## <a name="finditem"></a>  CListCtrl::FindItem

Busca un elemento de vista de lista con las características especificadas.

```
int FindItem(
    LVFINDINFO* pFindInfo,
    int nStart = -1) const;
```

### <a name="parameters"></a>Parámetros

*pFindInfo*<br/>
Un puntero a un [LVFINDINFO](/windows/desktop/api/commctrl/ns-commctrl-taglvfindinfoa) estructura que contiene información sobre el elemento que se va a buscar.

*nStart*<br/>
Índice del elemento que se va a comenzar la búsqueda con, o -1 para iniciar desde el principio. El elemento situado en *Ncomenzar* se excluye de la búsqueda si *Ncomenzar* no es igual a -1.

### <a name="return-value"></a>Valor devuelto

El índice del elemento si se realiza correctamente o -1 en caso contrario.

### <a name="remarks"></a>Comentarios

El *pFindInfo* parámetro señala a una `LVFINDINFO` estructura que contiene información que se usa para buscar un elemento de vista de lista.

### <a name="example"></a>Ejemplo

```cpp
        LVFINDINFO info;
        int nIndex;

        info.flags = LVFI_PARTIAL|LVFI_STRING;
        info.psz = _T("item");

        // Delete all of the items that begin with the string.
        while ((nIndex = m_myListCtrl.FindItem(&info)) != -1)
        {
            m_myListCtrl.DeleteItem(nIndex);
        }
```

## <a name="getbkcolor"></a>  CListCtrl::GetBkColor

Recupera el color de fondo de un control de vista de lista.

```
COLORREF GetBkColor() const;
```

### <a name="return-value"></a>Valor devuelto

Un valor de 32 bits que se usa para especificar un color RGB.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CListCtrl::SetBkColor](#setbkcolor).

## <a name="getbkimage"></a>  CListCtrl::GetBkImage

Recupera la imagen de fondo actual de un control de vista de lista.

```
BOOL GetBkImage(LVBKIMAGE* plvbkImage) const;
```

### <a name="parameters"></a>Parámetros

*plvbkImage*<br/>
Un puntero a un `LVBKIMAGE` estructura que contiene la imagen de fondo actual de la vista de lista.

### <a name="return-value"></a>Valor devuelto

Devuelve cero si se realiza correctamente, o cero en caso contrario.

### <a name="remarks"></a>Comentarios

Este método implementa el comportamiento de la macro de Win32, [ListView_GetBkImage](/windows/desktop/api/commctrl/nf-commctrl-listview_getbkimage), tal y como se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

```cpp
        LVBKIMAGE bki;

        // If no background image is set for the list view control use
        // the Microsoft homepage image as the background image.
        if (m_myListCtrl.GetBkImage(&bki) && (bki.ulFlags == LVBKIF_SOURCE_NONE))
        {
            m_myListCtrl.SetBkImage(
                _T("http://www.microsoft.com/library/images/gifs/homepage/microsoft.gif"),
                TRUE);
        }
```

## <a name="getcallbackmask"></a>  CListCtrl::GetCallbackMask

Recupera la máscara de devolución de llamada para un control de vista de lista.

```
UINT GetCallbackMask() const;
```

### <a name="return-value"></a>Valor devuelto

Máscara de devolución de llamada del control de vista de lista.

### <a name="remarks"></a>Comentarios

Un "elemento de devolución de llamada" es un elemento de vista de lista para que la aplicación, en lugar del control, almacena el texto, icono o ambos. Aunque un control de vista de lista puede almacenar estos atributos para usted, puede utilizar los elementos de devolución de llamada si mantiene la aplicación ya parte de esta información. La máscara de devolución de llamada especifica los bits de estado de elemento son mantenidos por la aplicación, y se aplica a todo el control, en lugar de a un elemento específico. La máscara de devolución de llamada es cero de forma predeterminada, lo que significa que el control realiza el seguimiento de todos los Estados del elemento. Si una aplicación utiliza los elementos de devolución de llamada o especifica una máscara de devolución de llamada distinto de cero, debe ser capaz de proporcionar atributos de elemento de vista de lista a petición.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CListCtrl:: SetCallbackMask](#setcallbackmask).

## <a name="getcheck"></a>  CListCtrl::GetCheck

Recupera el estado de la imagen de estado que está asociado con un elemento de visualización actual.

```
BOOL GetCheck(int nItem) const;
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice de base cero de un elemento de control de lista.

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el elemento está seleccionado, en caso contrario, 0.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_GetCheckState](/windows/desktop/api/commctrl/nf-commctrl-listview_getcheckstate), tal y como se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CListCtrl::SetCheck](#setcheck).

## <a name="getcolumn"></a>  CListCtrl::GetColumn

Recupera los atributos de columna del control de vista de lista.

```
BOOL GetColumn(
    int nCol,
    LVCOLUMN* pColumn) const;
```

### <a name="parameters"></a>Parámetros

*nCol*<br/>
Índice de columna la cuyos atributos se van a recuperar.

*pColumn*<br/>
Dirección de un [LVCOLUMN](/windows/desktop/api/commctrl/ns-commctrl-taglvcolumna) estructura que especifica la información para recuperar y recibe información acerca de la columna. El `mask` miembro especifica qué columna de atributos para recuperar. Si el `mask` miembro especifica el valor de LVCF_TEXT el `pszText` miembro debe contener la dirección del búfer que recibe el texto del elemento y el `cchTextMax` miembro debe especificar el tamaño del búfer.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

El `LVCOLUMN` estructura contiene información sobre una columna en la vista de informe.

### <a name="example"></a>Ejemplo

```cpp
        LVCOLUMN col;

        col.mask = LVCF_WIDTH;

        // Double the column width of the first column.
        if (m_myListCtrl.GetColumn(0, &col))
        {
            col.cx *= 2;
            m_myListCtrl.SetColumn(0, &col);
        }
```

## <a name="getcolumnorderarray"></a>  CListCtrl::GetColumnOrderArray

Recupera el orden de las columnas (de izquierda a derecha) de un control de vista de lista.

```
BOOL GetColumnOrderArray(
    LPINT piArray,
    int iCount = -1);
```

### <a name="parameters"></a>Parámetros

*piArray*<br/>
Un puntero a un búfer que contendrá los valores de índice de las columnas en el control de vista de lista. El búfer debe ser suficientemente grande como para contener el número total de columnas en el control de vista de lista.

*iCount*<br/>
Número de columnas en el control de vista de lista. Si este parámetro es -1, el número de columnas se recupera automáticamente el marco de trabajo.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_GetColumnOrderArray](/windows/desktop/api/commctrl/nf-commctrl-listview_getcolumnorderarray), tal y como se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

```cpp
        // Reverse the order of the columns in the list view control
        // (i.e. make the first column the last, the last column
        // the first, and so on...).
        CHeaderCtrl* pHeaderCtrl = m_myListCtrl.GetHeaderCtrl();

        if (pHeaderCtrl != NULL)
        {
            int  nColumnCount = pHeaderCtrl->GetItemCount();
            LPINT pnOrder = (LPINT) malloc(nColumnCount*sizeof(int));
            ASSERT(pnOrder != NULL);
m_myListCtrl.GetColumnOrderArray(pnOrder, nColumnCount);

            int i, j, nTemp;
            for (i = 0, j = nColumnCount-1; i < j; i++, j--)
            {
                nTemp = pnOrder[i];
                pnOrder[i] = pnOrder[j];
                pnOrder[j] = nTemp;
            }

            m_myListCtrl.SetColumnOrderArray(nColumnCount, pnOrder);
            free(pnOrder);
        }
```

## <a name="getcolumnwidth"></a>  CListCtrl::GetColumnWidth

Recupera el ancho de una columna en la vista de informe o vista de lista.

```
int GetColumnWidth(int nCol) const;
```

### <a name="parameters"></a>Parámetros

*nCol*<br/>
Especifica el índice de la columna cuyo ancho es va a recuperar.

### <a name="return-value"></a>Valor devuelto

El ancho, en píxeles, de la columna especificada por *nCol*.

### <a name="example"></a>Ejemplo

```cpp
        // Increase the column width of the second column by 20.
        int nWidth = m_myListCtrl.GetColumnWidth(1);
        m_myListCtrl.SetColumnWidth(1, 20 + nWidth);
```

## <a name="getcountperpage"></a>  CListCtrl::GetCountPerPage

Calcula el número de elementos que se pueden ajustar verticalmente en el área visible de un control de vista de lista en vista de informes o la vista de lista.

```
int GetCountPerPage() const;
```

### <a name="return-value"></a>Valor devuelto

El número de elementos que se pueden ajustar verticalmente en el área visible de un control de vista de lista en vista de informes o la vista de lista.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CListCtrl::GetTopIndex](#gettopindex).

## <a name="geteditcontrol"></a>  CListCtrl::GetEditControl

Recupera el identificador de control de edición utilizado para editar el texto del elemento de vista de lista.

```
CEdit* GetEditControl() const;
```

### <a name="return-value"></a>Valor devuelto

Si es correcto, un puntero a la [CEdit](cedit-class.md) objeto que se usa para editar el texto del elemento; en caso contrario, NULL.

### <a name="example"></a>Ejemplo

```cpp
        // The string replacing the text in the edit control.
        LPCTSTR lpszmyString = _T("custom label!");

        // If possible, replace the text in the label edit control.
        CEdit* pEdit = m_myListCtrl.GetEditControl();

        if (pEdit != NULL)
        {
            pEdit->SetWindowText(lpszmyString);
        }
```

## <a name="getemptytext"></a>  CListCtrl::GetEmptyText

Recupera la cadena para mostrar si el control de vista de lista actual está vacío.

```
CString GetEmptyText() const;
```

### <a name="return-value"></a>Valor devuelto

Un [CString](../../atl-mfc-shared/reference/cstringt-class.md) que contiene el texto para mostrar si el control está vacío.

### <a name="remarks"></a>Comentarios

Este método envía el [LVM_GETEMPTYTEXT](/windows/desktop/Controls/lvm-getemptytext) mensaje, que se describe en el SDK de Windows.

## <a name="getextendedstyle"></a>  CListCtrl::GetExtendedStyle

Recupera los estilos extendidos actuales de un control de vista de lista.

```
DWORD GetExtendedStyle();
```

### <a name="return-value"></a>Valor devuelto

Una combinación de los estilos extendidos actualmente en uso por la lista de control de vista. Para obtener una lista descriptiva de estos estilos extendidos, vea el [estilos extendidos de vista de lista](/windows/desktop/Controls/extended-list-view-styles) tema en el SDK de Windows.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_GetExtendedListViewStyle](/windows/desktop/api/commctrl/nf-commctrl-listview_getextendedlistviewstyle), tal y como se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CListCtrl:: SetExtendedStyle](#setextendedstyle).

## <a name="getfirstselecteditemposition"></a>  CListCtrl::GetFirstSelectedItemPosition

Obtiene la posición del primer elemento seleccionado en el control de vista de lista.

```
POSITION GetFirstSelectedItemPosition() const;
```

### <a name="return-value"></a>Valor devuelto

Un valor de posición que se puede usar para la iteración o recuperación de objetos de puntero; Es NULL si no hay elementos seleccionados.

### <a name="example"></a>Ejemplo

Ejemplo de código siguiente muestra el uso de esta función.

```cpp
        POSITION pos = m_myListCtrl.GetFirstSelectedItemPosition();
        if (pos == NULL)
        {
            TRACE(_T("No items were selected!\n"));
        }
        else
        {
            while (pos)
            {
                int nItem = m_myListCtrl.GetNextSelectedItem(pos);
                TRACE(_T("Item %d was selected!\n"), nItem);
                // you could do your own processing on nItem here
            }
        }
```

## <a name="getfocusedgroup"></a>  CListCtrl::GetFocusedGroup

Recupera el grupo que tiene el foco de teclado en el control de vista de lista actual.

```
int GetFocusedGroup() const;
```

### <a name="return-value"></a>Valor devuelto

El índice del grupo cuyo estado es LVGS_FOCUSED, si hay un grupo; en caso contrario, es -1.

### <a name="remarks"></a>Comentarios

Este método envía el [LVM_GETFOCUSEDGROUP](/windows/desktop/Controls/lvm-getfocusedgroup) mensaje, que se describe en el SDK de Windows. Para obtener más información, consulte el valor LVGS_FOCUSED de la `state` miembro de la [LVGROUP que se](/windows/desktop/api/commctrl/ns-commctrl-taglvgroup) estructura.

## <a name="getgroupcount"></a>  CListCtrl::GetGroupCount

Recupera el número de grupos en el control de vista de lista actual.

```
int GetGroupCount()const;
```

### <a name="return-value"></a>Valor devuelto

El número de grupos en el control de vista de lista.

### <a name="remarks"></a>Comentarios

Este método envía el [LVM_GETGROUPCOUNT](/windows/desktop/Controls/lvm-getgroupcount) mensaje, como se describe en el SDK de Windows-->.

## <a name="getgroupinfo"></a>  CListCtrl::GetGroupInfo

Obtiene la información para un grupo especificado del control de vista de lista.

```
int GetGroupInfo(
    int iGroupId,
    PLVGROUP pgrp) const;
```

### <a name="parameters"></a>Parámetros

*iGroupId*<br/>
El identificador del grupo cuya información se va a recuperar.

*pgrp*<br/>
Un puntero a la [LVGROUP que se](/windows/desktop/api/commctrl/ns-commctrl-taglvgroup) que contiene información sobre el grupo especificado.

### <a name="return-value"></a>Valor devuelto

Devuelve el identificador del grupo si se realiza correctamente, o -1 en caso contrario.

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_GETGROUPINFO](/windows/desktop/Controls/lvm-getgroupinfo) del mensaje, como se describe en el SDK de Windows.

## <a name="getgroupinfobyindex"></a>  CListCtrl::GetGroupInfoByIndex

Recupera información sobre un grupo especificado en el control de vista de lista actual.

```
BOOL GetGroupInfoByIndex(
    int iIndex,
    PLVGROUP pGroup) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*iIndex*|[in] Índice de base cero de un grupo.|
|*pGroup*|[out] Puntero a un [LVGROUP que se](/windows/desktop/api/commctrl/ns-commctrl-taglvgroup) estructura que recibe información acerca del grupo especificado por el *iÍndice* parámetro.<br /><br /> El llamador es responsable de inicializar los miembros de la [LVGROUP que se](/windows/desktop/api/commctrl/ns-commctrl-taglvgroup) estructura. Establecer el `cbSize` miembro para el tamaño de la estructura y las marcas de la `mask` miembro para especificar la información para recuperar.|

### <a name="return-value"></a>Valor devuelto

TRUE si este método se realiza correctamente; en caso contrario, FALSE.

### <a name="remarks"></a>Comentarios

Este método envía el [LVM_GETGROUPINFOBYINDEX](https://msdn.microsoft.com/library/windows/desktop/bb774933) mensaje, como se describe en el SDK de Windows-->.

### <a name="example"></a>Ejemplo

El ejemplo de código siguiente define una variable, `m_listCtrl`, que se usa para tener acceso al control de vista de lista actual. Esta variable se utiliza en el siguiente ejemplo.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se muestra el `GetGroupInfoByIndex` método. En una sección anterior de este código de ejemplo que hemos creado un control de vista de lista que muestra dos columnas tituladas "ClientID" y "Grade" en una vista de informe. El ejemplo de código siguiente recupera información sobre el grupo cuyo índice es 0, si existe un grupo.
```cpp
    // GetGroupInfoByIndex
    const int GROUP_HEADER_BUFFER_SIZE = 40;

// Initialize the structure
    LVGROUP gInfo = {0};
    gInfo.cbSize = sizeof(LVGROUP);
    wchar_t wstrHeadGet[GROUP_HEADER_BUFFER_SIZE] = {0};
    gInfo.cchHeader = GROUP_HEADER_BUFFER_SIZE;
    gInfo.pszHeader = wstrHeadGet;
    gInfo.mask = (LVGF_ALIGN | LVGF_STATE | LVGF_HEADER | LVGF_GROUPID);
    gInfo.state = LVGS_NORMAL;
    gInfo.uAlign  = LVGA_HEADER_LEFT;

    BOOL bRet = m_listCtrl.GetGroupInfoByIndex( 0, &gInfo );
    if (bRet == TRUE) {
        CString strHeader = CString( gInfo.pszHeader );
        CString str;
        str.Format(_T("Header: '%s'"), strHeader);
        AfxMessageBox(str, MB_ICONINFORMATION);
    }
    else
    {
        AfxMessageBox(_T("No group information was retrieved."));
    }
```

## <a name="getgroupmetrics"></a>  CListCtrl::GetGroupMetrics

Recupera las métricas de un grupo.

```
void GetGroupMetrics(PLVGROUPMETRICS pGroupMetrics) const;
```

### <a name="parameters"></a>Parámetros

*pGroupMetrics*<br/>
Un puntero a un [LVGROUPMETRICS](/windows/desktop/api/commctrl/ns-commctrl-taglvgroupmetrics) que contiene la información de las métricas de grupo.

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_GETGROUPMETRICS](/windows/desktop/Controls/lvm-getgroupmetrics) del mensaje, como se describe en el SDK de Windows.

## <a name="getgrouprect"></a>  CListCtrl::GetGroupRect

Recupera el rectángulo delimitador para un grupo especificado en el control de vista de lista actual.

```
BOOL GetGroupRect(
    int iGroupId,
    LPRECT lpRect,
    int iCoords = LVGGR_GROUP) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*iGroupId*|[in] Especifica un grupo.|
|*lpRect*|[in, out] Puntero a un [RECT](https://msdn.microsoft.com/library/windows/desktop/dd162897) estructura. Si este método se realiza correctamente, la estructura recibe las coordenadas del rectángulo del grupo especificado por *iGroupId*.|
|*iCoords*|[in] Especifica las coordenadas del rectángulo para recuperar. Use uno de estos valores:<br /><br /> -LVGGR_GROUP - las coordenadas (valor predeterminado) de todo el grupo expandido.<br />-LVGGR_HEADER - las coordenadas de la cabecera (grupo contraído).<br />-LVGGR_SUBSETLINK - coordenadas del vínculo de subconjunto (subconjunto de marcado).|

### <a name="return-value"></a>Valor devuelto

TRUE si este método se realiza correctamente; en caso contrario, FALSE.

### <a name="remarks"></a>Comentarios

El llamador es responsable de asignar la [RECT](https://msdn.microsoft.com/library/windows/desktop/dd162897) estructura que señala el *pRect* parámetro.

Este método envía el [LVM_GETGROUPRECT](/windows/desktop/Controls/lvm-getgrouprect) mensaje, que se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

El ejemplo de código siguiente define una variable, `m_listCtrl`, que se usa para tener acceso al control de vista de lista actual. Esta variable se utiliza en el siguiente ejemplo.
```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se muestra el `GetGroupRect` método. En una sección anterior de este ejemplo de código, creamos un control de vista de lista que muestra dos columnas tituladas "ClientID" y "Grade" en una vista de informe. En el ejemplo de código siguiente se dibuja un rectángulo 3D alrededor del grupo cuyo índice es 0, si existe un grupo.

```cpp
    // GetGroupRect

    // Get the graphics rectangle that surrounds group 0.
    CRect rect;
    BOOL bRet = m_listCtrl.GetGroupRect( 0, &rect, LVGGR_GROUP);
    // Draw a blue rectangle around group 0.
    if (bRet == TRUE) {
        m_listCtrl.GetDC()->Draw3dRect( &rect, RGB(0, 0, 255), RGB(0, 0, 255));
    }
    else {
        AfxMessageBox(_T("No group information was retrieved."), MB_ICONINFORMATION);
    }
```

## <a name="getgroupstate"></a>  CListCtrl::GetGroupState

Recupera el estado de un grupo especificado en el control de vista de lista actual.

```
UINT GetGroupState(
    int iGroupId,
    DWORD dwMask) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*iGroupId*|[in] Índice de base cero de un grupo.|
|*dwMask*|[in] Máscara que especifica el valor de estado para recuperar para el grupo especificado. Para obtener más información, consulte el `mask` miembro de la [LVGROUP que se](/windows/desktop/api/commctrl/ns-commctrl-taglvgroup) estructura.|

### <a name="return-value"></a>Valor devuelto

El estado solicitado para el grupo especificado, o 0 si no se encuentra el grupo.

### <a name="remarks"></a>Comentarios

El valor devuelto es el resultado de una operación AND bit a bit en el *dwMask* parámetro y el valor de la `state` miembro de un [LVGROUP que se](/windows/desktop/api/commctrl/ns-commctrl-taglvgroup) estructura que representa el control de vista de lista actual.

Este método envía el [LVM_GETGROUPSTATE](/windows/desktop/Controls/lvm-getgroupstate) mensaje, que se describe en el SDK de Windows. Para obtener más información, consulte el [ListView_GetGroupState](/windows/desktop/api/commctrl/nf-commctrl-listview_getgroupstate) macro.

## <a name="getheaderctrl"></a>  CListCtrl::GetHeaderCtrl

Recupera el control de encabezado de un control de vista de lista.

```
CHeaderCtrl* GetHeaderCtrl();
```

### <a name="return-value"></a>Valor devuelto

Un puntero al control de encabezado, utilizado por el control de vista de lista.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_GetHeader](/windows/desktop/api/commctrl/nf-commctrl-listview_getheader), tal y como se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CListCtrl::GetColumnOrderArray](#getcolumnorderarray).

## <a name="gethotcursor"></a>  CListCtrl::GetHotCursor

Recupera el cursor usado cuando se habilita el seguimiento activo para un control de vista de lista.

```
HCURSOR GetHotCursor();
```

### <a name="return-value"></a>Valor devuelto

El identificador del recurso de cursor activo actual que se va a usar el control de vista de lista.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_GetHotCursor](/windows/desktop/api/commctrl/nf-commctrl-listview_gethotcursor), tal y como se describe en el SDK de Windows. El cursor activo, solo es visible cuando se habilita la selección al mantener el mouse, aparece cuando el cursor pasa sobre cualquier elemento de vista de lista. Selección de mantener el mouse se habilita estableciendo el LVS_EX_TRACKSELECT estilo extendido.

### <a name="example"></a>Ejemplo

```cpp
        // Set the hot cursor to be the system app starting cursor.
        HCURSOR hCursor = ::LoadCursor(NULL, IDC_APPSTARTING);
        m_myListCtrl.SetHotCursor(hCursor);
        ASSERT(m_myListCtrl.GetHotCursor() == hCursor);
```

## <a name="gethotitem"></a>  CListCtrl::GetHotItem

Recupera el elemento de vista de lista actualmente bajo el cursor.

```
int GetHotItem();
```

### <a name="return-value"></a>Valor devuelto

El índice del elemento activo actual del control de vista de lista.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_GetHotItem](/windows/desktop/api/commctrl/nf-commctrl-listview_gethotitem), tal y como se describe en el SDK de Windows. El elemento activo se define como el elemento seleccionado actualmente al frecuente de seguimiento (y mantenga la selección) está habilitado.

Si está habilitado el seguimiento activo, cuando un usuario se detiene sobre un elemento de vista de lista, se resalta automáticamente la etiqueta del elemento sin el uso de un botón del mouse.

### <a name="example"></a>Ejemplo

```cpp
    // Set the hot item to the first item only if no other item is
    // highlighted.
    if (m_myListCtrl.GetHotItem() == -1)
        m_myListCtrl.SetHotItem(0);
```

## <a name="gethovertime"></a>  CListCtrl::GetHoverTime

Recupera el tiempo de desplazamiento actual de un control de vista de lista.

```
DWORD GetHoverTime() const;
```

### <a name="return-value"></a>Valor devuelto

Devuelve el retraso, en milisegundos, que debe mantenga el cursor del mouse sobre un elemento antes de que está seleccionado. Si el valor devuelto es -1, el tiempo de activación es el tiempo de activación de forma predeterminada.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_GetHoverTime](/windows/desktop/api/commctrl/nf-commctrl-listview_gethovertime), tal y como se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

```cpp
        // If the hover time is the default set to 1 sec.
        DWORD dwTime = m_myListCtrl.GetHoverTime();
        if (dwTime == -1)
            m_myListCtrl.SetHoverTime(1000);
```

## <a name="getimagelist"></a>  CListCtrl::GetImageList

Recupera el identificador de una lista de imágenes que se usa para dibujar elementos de vista de lista.

```
CImageList* GetImageList(int nImageList) const;
```

### <a name="parameters"></a>Parámetros

*nImageList*<br/>
Valor que especifica qué lista de imágenes para recuperar. Puede ser uno de estos valores:

- Lista de imágenes de LVSIL_NORMAL con iconos grandes.

- Lista de imágenes de LVSIL_SMALL con iconos pequeños.

- Lista de imágenes de LVSIL_STATE con imágenes de estado.

### <a name="return-value"></a>Valor devuelto

Un puntero a la lista de imágenes que se usa para dibujar elementos de vista de lista.

### <a name="example"></a>Ejemplo

```cpp
        ASSERT(m_myListCtrl.GetImageList(LVSIL_NORMAL) == NULL);
m_myListCtrl.SetImageList(&m_lcImageList, LVSIL_NORMAL);
        ASSERT(m_myListCtrl.GetImageList(LVSIL_NORMAL) == &m_lcImageList);
```

## <a name="getinsertmark"></a>  CListCtrl::GetInsertMark

Recupera la posición actual de la marca de inserción.

```
BOOL GetInsertMark(LPLVINSERTMARK lvim) const;
```

### <a name="parameters"></a>Parámetros

*lvim*<br/>
Un puntero a un [LVINSERTMARK](/windows/desktop/api/commctrl/ns-commctrl-lvinsertmark) estructura que contiene la información de la marca de inserción.

### <a name="return-value"></a>Valor devuelto

Devuelve TRUE si se realiza correctamente o falso en caso contrario. Se devuelve FALSE si el tamaño en el `cbSize` miembro de la `LVINSERTMARK` estructura no es igual al tamaño real de la estructura.

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_GETINSERTMARK](/windows/desktop/Controls/lvm-getinsertmark) del mensaje, como se describe en el SDK de Windows.

## <a name="getinsertmarkcolor"></a>  CListCtrl::GetInsertMarkColor

Recupera el color actual de la marca de inserción.

```
COLORREF GetInsertMarkColor() const;
```

### <a name="return-value"></a>Valor devuelto

Devuelve un [COLORREF](/windows/desktop/gdi/colorref) estructura que contiene el color del punto de inserción.

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_GETINSERTMARKCOLOR](/windows/desktop/Controls/lvm-getinsertmarkcolor) del mensaje, como se describe en el SDK de Windows.

## <a name="getinsertmarkrect"></a>  CListCtrl::GetInsertMarkRect

Recupera el rectángulo que delimita el punto de inserción.

```
int GetInsertMarkRect(LPRECT pRect) const;
```

### <a name="parameters"></a>Parámetros

*pRect*<br/>
Puntero a un `RECT` estructura que contiene las coordenadas de un rectángulo que delimita el punto de inserción.

### <a name="return-value"></a>Valor devuelto

Devuelve uno de los siguientes valores:

- **0** se encontró ningún punto de inserción.

- **1** se encontró el punto de inserción.

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_GETINSERTMARKRECT](/windows/desktop/Controls/lvm-getinsertmarkrect) del mensaje, como se describe en el SDK de Windows.

## <a name="getitem"></a>  CListCtrl::GetItem

Recupera algunos o todos los atributos del elemento de vista de lista.

```
BOOL GetItem(LVITEM* pItem) const;
```

### <a name="parameters"></a>Parámetros

*pItem*<br/>
Puntero a un [LVITEM](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) estructura que recibe los atributos del elemento.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

El `LVITEM` estructura especifica o recibe los atributos de un elemento de vista de lista.

## <a name="getitemcount"></a>  CListCtrl::GetItemCount

Recupera el número de elementos en un control de vista de lista.

```
int GetItemCount() const;
```

### <a name="return-value"></a>Valor devuelto

El número de elementos en la lista de control de vista.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CListCtrl::DeleteItem](#deleteitem).

## <a name="getitemdata"></a>  CListCtrl::GetItemData

Recupera el valor específico de la aplicación de 32 bits asociado al elemento especificado por `nItem`.

```
DWORD_PTR GetItemData(int nItem) const;
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento lista cuyos datos se van a recuperar.

### <a name="return-value"></a>Valor devuelto

Un valor específico de la aplicación de 32 bits asociado al elemento especificado.

### <a name="remarks"></a>Comentarios

Este valor es el `lParam` miembro de la [LVITEM](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) estructura, como se describe en el SDK de Windows

### <a name="example"></a>Ejemplo

```cpp
    // If any item's data is equal to zero then reset it to -1.
    for (int i=0; i < m_myListCtrl.GetItemCount(); i++)
    {
        if (m_myListCtrl.GetItemData(i) == 0)
        {
            m_myListCtrl.SetItemData(i, (DWORD) -1);
        }
    }
```

## <a name="getitemindexrect"></a>  CListCtrl::GetItemIndexRect

Recupera el rectángulo delimitador para la totalidad o parte de un subelemento en el control de vista de lista actual.

```
BOOL GetItemIndexRect(
    PLVITEMINDEX pItemIndex,
    int iColumn,
    int rectType,
    LPRECT pRect) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*pItemIndex*|[in] Puntero a un [LVITEMINDEX](https://msdn.microsoft.com/library/windows/desktop/bb774762) estructura para el elemento primario del subelemento.<br /><br /> El llamador es responsable de asignar y establecer los miembros de la [LVITEMINDEX](https://msdn.microsoft.com/library/windows/desktop/bb774762) estructura. Este parámetro no puede ser NULL.|
|*iColumn*|[in] Índice de base cero de una columna en el control.|
|*rectType*|[in] Parte del subelemento de vista de lista que se recupera el rectángulo delimitador. Especifique uno de los siguientes valores:<br /><br /> LVIR_BOUNDS - devuelve el rectángulo delimitador del subelemento todo, incluido el icono y una etiqueta.<br /><br /> LVIR_ICON - devuelve el rectángulo delimitador del icono o el icono pequeño del subelemento.<br /><br /> LVIR_LABEL - devuelve el rectángulo delimitador del texto del subelemento.|
|*pRect*|[out] Puntero a un [RECT](https://msdn.microsoft.com/library/windows/desktop/dd162897) estructura que recibe información sobre el rectángulo delimitador del subelemento.<br /><br /> El llamador es responsable de asignar la [RECT](https://msdn.microsoft.com/library/windows/desktop/dd162897) estructura. Este parámetro no puede ser NULL.|

### <a name="return-value"></a>Valor devuelto

TRUE si este método se realiza correctamente; en caso contrario, FALSE.

### <a name="remarks"></a>Comentarios

Este método envía el [LVM_GETITEMINDEXRECT](/windows/desktop/Controls/lvm-getitemindexrect) mensaje, que se describe en el SDK de Windows. Para obtener más información, consulte [ListView_GetItemIndexRect Macro](/windows/desktop/api/commctrl/nf-commctrl-listview_getitemindexrect).

### <a name="example"></a>Ejemplo

El ejemplo de código siguiente define una variable, `m_listCtrl`, que se usa para tener acceso al control de vista de lista actual. Esta variable se utiliza en el siguiente ejemplo.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se muestra el `GetGroupRect` método. Antes de escribir este código de ejemplo que hemos creado un control de vista de lista que muestra dos columnas tituladas "ClientID" y "Grade" en una vista de informe. En el ejemplo de código siguiente se dibuja un rectángulo 3D alrededor del subelemento segundo en las dos columnas.

```cpp
    // GetItemIndexRect
    // Get the rectangle that bounds the second item in the first group.
    LVITEMINDEX lvItemIndex;
    lvItemIndex.iGroup = 0;
    lvItemIndex.iItem = 1;
    CRect rect;
    BOOL bRet = m_listCtrl.GetItemIndexRect(
        &lvItemIndex, 0, LVIR_BOUNDS, &rect);

    // Draw a red rectangle around the item.
    m_listCtrl.GetDC()->Draw3dRect( &rect, RGB(255, 0, 0), RGB(255, 0, 0) );
```

## <a name="getitemposition"></a>  CListCtrl::GetItemPosition

Recupera la posición de un elemento de vista de lista.

```
BOOL GetItemPosition(
    int nItem,
    LPPOINT lpPoint) const;
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento cuya posición se va a recuperar.

*lpPoint*<br/>
Dirección de un [punto](https://msdn.microsoft.com/library/windows/desktop/dd162805) coordina la estructura que recibe la posición de la esquina superior izquierda del elemento en la vista.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

```cpp
        POINT pt;

        // Move all items in the list control 100 pixels to the right.
        UINT i, nCount = m_myListCtrl.GetItemCount();

        for (i=0; i < nCount; i++)
        {
            m_myListCtrl.GetItemPosition(i, &pt);
            pt.x += 100;
            m_myListCtrl.SetItemPosition(i, pt);
        }
```

## <a name="getitemrect"></a>  CListCtrl::GetItemRect

Recupera el rectángulo delimitador para la totalidad o parte de un elemento en la vista actual.

```
BOOL GetItemRect(
    int nItem,
    LPRECT lpRect,
    UINT nCode) const;
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento cuya posición se va a recuperar.

*lpRect*<br/>
Dirección de un [RECT](https://msdn.microsoft.com/library/windows/desktop/dd162897) estructura que recibe el rectángulo delimitador.

*nCode*<br/>
Parte del elemento de vista de lista que se va a recuperar el rectángulo delimitador. Puede ser uno de estos valores:

- LVIR_BOUNDS devuelve el rectángulo delimitador del elemento completo, incluido el icono y una etiqueta.

- LVIR_ICON devuelve el rectángulo delimitador del icono o el icono pequeño.

- LVIR_LABEL devuelve el rectángulo delimitador del texto del elemento.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

```cpp
// OnClick is the handler for the NM_CLICK notification
void CListCtrlDlg::OnClick(NMHDR* pNMHDR, LRESULT* pResult)
{
    UNREFERENCED_PARAMETER(pResult);
LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;

    // Get the current mouse location and convert it to client
    // coordinates.
    CPoint pos( ::GetMessagePos() );
    ScreenToClient(&pos);

    // Get indexes of the first and last visible items in
    // the listview control.
    int index = m_myListCtrl.GetTopIndex();
    int last_visible_index = index + m_myListCtrl.GetCountPerPage();
    if (last_visible_index > m_myListCtrl.GetItemCount())
        last_visible_index = m_myListCtrl.GetItemCount();

    // Loop until number visible items has been reached.
    while (index <= last_visible_index)
    {
        // Get the bounding rectangle of an item. If the mouse
        // location is within the bounding rectangle of the item,
        // you know you have found the item that was being clicked.
        CRect r;
        m_myListCtrl.GetItemRect(index, &r, LVIR_BOUNDS);
        if (r.PtInRect(pia->ptAction))
        {
            UINT flag = LVIS_SELECTED | LVIS_FOCUSED;
            m_myListCtrl.SetItemState(index, flag, flag);
            break;
        }

        // Get the next item in listview control.
        index++;
    }
}
```

## <a name="getitemspacing"></a>  CListCtrl::GetItemSpacing

Calcula el espaciado entre los elementos del control de vista de lista actual.

```
BOOL GetItemSpacing(
    BOOL fSmall,
    int* pnHorzSpacing,
    int* pnVertSpacing) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*fSmall*|[in] Vista para que se va a recuperar el espaciado de elemento. Especifique TRUE para la vista de iconos pequeños, o FALSE para la vista de iconos.|
|*pnHorzSpacing*|[out] Contiene el espaciado horizontal entre los elementos.|
|*pnVertSpacing*|[out] Contiene el espaciado vertical entre los elementos.|

### <a name="return-value"></a>Valor devuelto

TRUE si este método se realiza correctamente; en caso contrario, FALSE.

### <a name="remarks"></a>Comentarios

Este método envía el [LVM_GETITEMSPACING](/windows/desktop/Controls/lvm-getitemspacing) mensaje, que se describe en el SDK de Windows.

## <a name="getitemstate"></a>  CListCtrl::GetItemState

Recupera el estado de un elemento de vista de lista.

```
UINT GetItemState(
    int nItem,
    UINT nMask) const;
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento cuyo estado se va a recuperar.

*nMask*<br/>
Máscara que especifica qué del estado del elemento de marcas para devolver.

### <a name="return-value"></a>Valor devuelto

Ver el elemento las marcas de estado de la lista especificada.

### <a name="remarks"></a>Comentarios

Estado de un elemento especificado por el `state` miembro de la [LVITEM](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) estructura, como se describe en el SDK de Windows. Al especificar o cambiar el estado de un elemento, el `stateMask` miembro especifica los bits de estado que desee cambiar.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CListCtrl::GetTopIndex](#gettopindex).

## <a name="getitemtext"></a>  CListCtrl::GetItemText

Recupera el texto de un elemento de vista de lista o el subelemento.

```
int GetItemText(
    int nItem,
    int nSubItem,
    LPTSTR lpszText,
    int nLen) const;

CString GetItemText(
    int nItem,
    int nSubItem) const;
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento cuyo texto se va a recuperar.

*nSubItem*<br/>
Especifica el subelemento cuyo texto está va a recuperar.

*lpszText*<br/>
Puntero a una cadena que va a recibir el texto del elemento.

*nLen*<br/>
Longitud del búfer que apunta *lpszText*.

### <a name="return-value"></a>Valor devuelto

La versión devolver **int** devuelve la longitud de la cadena recuperada.

La versión de devolver un `CString` devuelve el texto del elemento.

### <a name="remarks"></a>Comentarios

Si *nSubItem* es cero, esta función recupera la etiqueta del elemento; si *nSubItem* es distinto de cero, recupera el texto del subelemento. Para obtener más información sobre el argumento del subelemento, vea la explicación de la [LVITEM](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) estructura en el SDK de Windows.

## <a name="getnextitem"></a>  CListCtrl::GetNextItem

Busca una lista de ve el elemento que tiene las propiedades especificadas y que mantiene la relación especificada a un elemento determinado.

```
int GetNextItem(
    int nItem,
    int nFlags) const;
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento que se va a empezar a realizar búsquedas con, o -1 para buscar el primer elemento que coincide con las marcas especificadas. El elemento especificado en sí se excluye de la búsqueda.

*nFlags*<br/>
Relación geométrica del elemento solicitado para el elemento especificado y el estado del elemento solicitado. La relación geométrica puede ser uno de estos valores:

- LVNI_ABOVE busca un elemento que está encima del elemento especificado.

- LVNI_ALL busca un elemento subsiguiente por índice (el valor predeterminado).

- LVNI_BELOW busca un elemento que está por debajo del elemento especificado.

- LVNI_TOLEFT busca un elemento a la izquierda del elemento especificado.

- LVNI_TORIGHT busca un elemento a la derecha del elemento especificado.

El estado puede ser cero, o puede ser uno o varios de estos valores:

- LVNI_DROPHILITED el elemento tiene el indicador de estado LVIS_DROPHILITED.

- LVNI_FOCUSED el elemento tiene el indicador de estado LVIS_FOCUSED.

- LVNI_SELECTED el elemento tiene el indicador de estado LVIS_SELECTED.

Si un elemento no tiene todo el conjunto de indicadores de estado especificado, la búsqueda continúa con el siguiente elemento.

### <a name="return-value"></a>Valor devuelto

El índice del elemento siguiente si se realiza correctamente, o -1 en caso contrario.

## <a name="getnextitemindex"></a>  CListCtrl::GetNextItemIndex

Recupera el índice del elemento en el control de vista de lista actual que tiene un conjunto de propiedades especificado.

```
BOOL GetNextItemIndex(
    PLVITEMINDEX pItemIndex,
    int nFlags) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*pItemIndex*|[in, out] Puntero a la [LVITEMINDEX](https://msdn.microsoft.com/library/windows/desktop/bb774762) estructura que describe el elemento donde comienza la búsqueda o -1 para buscar el primer elemento que coincide con los marcadores en el *nFlags* parámetro.<br /><br /> Si este método se realiza correctamente, el `LVITEMINDEX` estructura describe el elemento encontrado en la búsqueda.|
|*nFlags*|[in] Una combinación bit a bit (OR) de marcadores que especifican cómo realizar la búsqueda.<br /><br /> La búsqueda puede depender del índice, el estado o la apariencia del elemento de destino o la posición física del elemento de destino en relación con el elemento especificado por el *pItemIndex* parámetro. Para obtener más información, consulte el *marcas* parámetro en el [LVM_GETNEXTITEMINDEX](https://msdn.microsoft.com/library/windows/desktop/bb761059) mensaje.|

### <a name="return-value"></a>Valor devuelto

TRUE si este método se realiza correctamente; en caso contrario, FALSE.

### <a name="remarks"></a>Comentarios

El llamador es responsable de asignar y establecer los miembros de la `LVITEMINDEX` estructura que señala el *pItemIndex* parámetro.

Este método envía el [LVM_GETNEXTITEMINDEX](https://msdn.microsoft.com/library/windows/desktop/bb761059) mensaje, que se describe en el SDK de Windows.

## <a name="getnextselecteditem"></a>  CListCtrl::GetNextSelectedItem

Obtiene el índice del elemento de lista identificado por *pos*, a continuación, establece *pos* en el valor de posición.

```
int GetNextSelectedItem(POSITION& pos) const;
```

### <a name="parameters"></a>Parámetros

*pos*<br/>
Una referencia a un valor de posición devuelto por una llamada anterior a `GetNextSelectedItem` o `GetFirstSelectedItemPosition`. El valor se actualiza a la siguiente posición de esta llamada.

### <a name="return-value"></a>Valor devuelto

El índice del elemento de lista identificado por *pos*.

### <a name="remarks"></a>Comentarios

Puede usar `GetNextSelectedItem` en un bucle de iteración de avance, si establece la posición inicial con una llamada a `GetFirstSelectedItemPosition`.

Debe asegurarse de que el valor de posición es válido. Si no es válido, se valida la versión de depuración de la biblioteca Microsoft Foundation Class.

### <a name="example"></a>Ejemplo

Ejemplo de código siguiente muestra el uso de esta función.

```cpp
        POSITION pos = m_myListCtrl.GetFirstSelectedItemPosition();
        if (pos == NULL)
        {
            TRACE(_T("No items were selected!\n"));
        }
        else
        {
            while (pos)
            {
                int nItem = m_myListCtrl.GetNextSelectedItem(pos);
                TRACE(_T("Item %d was selected!\n"), nItem);
                // you could do your own processing on nItem here
            }
        }
```

## <a name="getnumberofworkareas"></a>  CListCtrl::GetNumberOfWorkAreas

Recupera el número actual de áreas de trabajo para un control de vista de lista.

```
UINT GetNumberOfWorkAreas() const;
```

### <a name="return-value"></a>Valor devuelto

No se usa en este momento.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_GetNumberOfWorkAreas](/windows/desktop/api/commctrl/nf-commctrl-listview_getnumberofworkareas), tal y como se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

```cpp
        UINT i, uCount = m_myListCtrl.GetNumberOfWorkAreas();
        LPRECT lpRects = (LPRECT) malloc(uCount*sizeof(RECT));

        if (lpRects != NULL)
        {
            // Dump all of the work area dimensions.
            m_myListCtrl.GetWorkAreas(uCount, lpRects);

            for (i=0; i < uCount; i++)
            {
                TRACE(_T("Work area %d; left = %d, top = %d, right = %d, ")
                    _T("bottom = %d\r\n"),
                    i, lpRects[i].left, lpRects[i].top, lpRects[i].right,
                    lpRects[i].bottom);
            }

            free(lpRects);
        }
        else
        {
            TRACE(_T("Couldn't allocate enough memory!"));
        }
```

## <a name="getoutlinecolor"></a>  CListCtrl::GetOutlineColor

Recupera el color del borde de un control de vista de lista.

```
COLORREF GetOutlineColor() const;
```

### <a name="return-value"></a>Valor devuelto

Devuelve un [COLORREF](/windows/desktop/gdi/colorref) estructura que contiene el color del contorno.

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_GETOUTLINECOLOR](/windows/desktop/Controls/lvm-getoutlinecolor) del mensaje, como se describe en el SDK de Windows.

## <a name="getorigin"></a>  CListCtrl::GetOrigin

Recupera el origen de la vista actual para un control de vista de lista.

```
BOOL GetOrigin(LPPOINT lpPoint) const;
```

### <a name="parameters"></a>Parámetros

*lpPoint*<br/>
Dirección de un [punto](https://msdn.microsoft.com/library/windows/desktop/dd162805) estructura que recibe el origen de la vista.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero. Sin embargo, si el control está en vista de informe, el valor devuelto siempre es cero.

## <a name="getselectedcolumn"></a>  CListCtrl::GetSelectedColumn

Recupera el índice de la columna seleccionada actualmente en el control de lista.

```
UINT GetSelectedColumn() const;
```

### <a name="return-value"></a>Valor devuelto

El índice de la columna seleccionada.

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_GETSELECTEDCOLUMN](/windows/desktop/Controls/lvm-getselectedcolumn) del mensaje, como se describe en el SDK de Windows.

## <a name="getselectedcount"></a>  CListCtrl::GetSelectedCount

Recupera el número de elementos seleccionados en el control de vista de lista.

```
UINT GetSelectedCount() const;
```

### <a name="return-value"></a>Valor devuelto

El número de elementos seleccionados en el control de vista de lista.

### <a name="example"></a>Ejemplo

```cpp
        UINT i, uSelectedCount = m_myListCtrl.GetSelectedCount();
        int  nItem = -1;

        // Update all of the selected items.
        if (uSelectedCount > 0)
        {
            for (i=0; i < uSelectedCount; i++)
            {
                nItem = m_myListCtrl.GetNextItem(nItem, LVNI_SELECTED);
                ASSERT(nItem != -1);
                m_myListCtrl.Update(nItem);
            }
        }
```

## <a name="getselectionmark"></a>  CListCtrl::GetSelectionMark

Recupera la marca de selección de un control de vista de lista.

```
int GetSelectionMark();
```

### <a name="return-value"></a>Valor devuelto

La marca de selección de base cero, o -1 si no hay ninguna marca de selección.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_GetSelectionMark](/windows/desktop/api/commctrl/nf-commctrl-listview_getselectionmark), tal y como se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

```cpp
    // Set the selection mark to the first item only if no other item is
    // selected.
    if (m_myListCtrl.GetSelectionMark() == -1)
        m_myListCtrl.SetSelectionMark(0);
```

## <a name="getstringwidth"></a>  CListCtrl::GetStringWidth

Determina el ancho de columna mínimo necesario para mostrar toda la cadena especificada.

```
int GetStringWidth(LPCTSTR lpsz) const;
```

### <a name="parameters"></a>Parámetros

*lpsz*<br/>
Dirección de una cadena terminada en null es cuyo ancho se determine.

### <a name="return-value"></a>Valor devuelto

El ancho, en píxeles, de la cadena señalada por *lpsz*.

### <a name="remarks"></a>Comentarios

El ancho devuelto tiene en cuenta la fuente del control actual y los márgenes de columna, pero no el ancho de un icono pequeño.

### <a name="example"></a>Ejemplo

```cpp
        CString strColumn;
        int nWidth;

        // Insert six columns in the list view control. Make the width of
        // the column be the width of the column header plus 50%.
        for (int i = 0; i < 6; i++)
        {
            strColumn.Format(_T("column %d"), i);
            nWidth = 3*m_myListCtrl.GetStringWidth(strColumn)/2;
            m_myListCtrl.InsertColumn(i, strColumn, LVCFMT_LEFT, nWidth);
        }
```

## <a name="getsubitemrect"></a>  CListCtrl::GetSubItemRect

Recupera el rectángulo delimitador de un elemento en un control de vista de lista.

```
BOOL GetSubItemRect(
    int iItem,
    int iSubItem,
    int nArea,
    CRect& ref);
```

### <a name="parameters"></a>Parámetros

*iItem*<br/>
Índice del elemento del elemento primario del subelemento.

*iSubItem*<br/>
El índice basado en uno del subelemento.

*nArea*<br/>
Determina la parte del rectángulo (del subelemento de la vista de lista) va a recuperar. Se especifica la parte (etiqueta, icono o ambos) del rectángulo aplicando el operador OR bit a bit para uno o varios de los siguientes valores:

- LVIR_BOUNDS devuelve el rectángulo delimitador del elemento completo, incluido el icono y una etiqueta.

- LVIR_ICON devuelve el rectángulo delimitador del icono o el icono pequeño.

- LVIR_LABEL devuelve el rectángulo delimitador del elemento completo, incluido el icono y una etiqueta. Esto es idéntico a LVIR_BOUNDS.

*ref*<br/>
Hacer referencia a un [CRect](../../atl-mfc-shared/reference/crect-class.md) rectángulo delimitador del objeto que contiene las coordenadas del subelemento.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_GetSubItemRect](/windows/desktop/api/commctrl/nf-commctrl-listview_getsubitemrect), tal y como se describe en el SDK de Windows.

## <a name="gettextbkcolor"></a>  CListCtrl::GetTextBkColor

Recupera el color de fondo del texto de un control de vista de lista.

```
COLORREF GetTextBkColor() const;
```

### <a name="return-value"></a>Valor devuelto

Un valor de 32 bits que se usa para especificar un color RGB.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CListCtrl::SetTextBkColor](#settextbkcolor).

## <a name="gettextcolor"></a>  CListCtrl::GetTextColor

Recupera el color del texto de un control de vista de lista.

```
COLORREF GetTextColor() const;
```

### <a name="return-value"></a>Valor devuelto

Un valor de 32 bits que se usa para especificar un color RGB.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CListCtrl::SetTextColor](#settextcolor).

## <a name="gettileinfo"></a>  CListCtrl::GetTileInfo

Recupera información sobre un icono en un control de vista de lista.

```
BOOL GetTileInfo(PLVTILEINFO pti) const;
```

### <a name="parameters"></a>Parámetros

*pti*<br/>
Un puntero a un [LVTILEINFO](/windows/desktop/api/commctrl/ns-commctrl-taglvtileinfo) estructura que recibe la información de los iconos.

### <a name="return-value"></a>Valor devuelto

No se utiliza el valor devuelto.

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_GETTILEINFO](/windows/desktop/Controls/lvm-gettileinfo) del mensaje, como se describe en el SDK de Windows.

## <a name="gettileviewinfo"></a>  CListCtrl::GetTileViewInfo

Recupera información sobre un control de vista de lista en la vista en mosaico.

```
BOOL GetTileViewInfo(PLVTILEVIEWINFO ptvi) const;
```

### <a name="parameters"></a>Parámetros

*ptvi*<br/>
Un puntero a un [LVTILEVIEWINFO](/windows/desktop/api/commctrl/ns-commctrl-taglvtileviewinfo) estructura que recibe la información recuperada.

### <a name="return-value"></a>Valor devuelto

No se utiliza el valor devuelto.

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_GETTILEVIEWINFO](/windows/desktop/Controls/lvm-gettileviewinfo) del mensaje, como se describe en el SDK de Windows.

## <a name="gettooltips"></a>  CListCtrl::GetToolTips

Recupera el control de información sobre herramientas que utiliza el control de vista de lista para mostrar información sobre herramientas.

```
CToolTipCtrl* GetToolTips() const;
```

### <a name="return-value"></a>Valor devuelto

Un puntero a un [CToolTipCtrl](ctooltipctrl-class.md) objeto que va a usar el control de lista. Si el [crear](#create) función miembro usa el estilo LVS_NOTOOLTIPS, no hay información sobre herramientas se usa y se devuelve NULL.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento del mensaje de Win32 [LVM_GETTOOLTIPS](/windows/desktop/Controls/lvm-gettooltips), tal y como se describe en el SDK de Windows. La implementación de MFC `GetToolTips` devuelve un `CToolTipCtrl` objeto, que se usa el control de lista, en lugar de un identificador para un control de información sobre herramientas.

### <a name="example"></a>Ejemplo

```cpp
        CToolTipCtrl* pTip = m_myListCtrl.GetToolTips();
        if (NULL != pTip)
        {
            pTip->UpdateTipText(_T("I'm a list view!"), &m_myListCtrl,
                IDD_MYLISTCTRL);
        }
```

## <a name="gettopindex"></a>  CListCtrl::GetTopIndex

Recupera el índice del primer elemento visible en la vista de informes o la vista de lista.

```
int GetTopIndex() const;
```

### <a name="return-value"></a>Valor devuelto

El índice del primer elemento visible.

### <a name="example"></a>Ejemplo

```cpp
        // Make sure the focus is set to the list view control.
        m_myListCtrl.SetFocus();

        // Select all of the items that are completely visible.
        int n = m_myListCtrl.GetTopIndex();
        int nLast = n + m_myListCtrl.GetCountPerPage();

        for (; n < nLast; n++)
        {
            m_myListCtrl.SetItemState(n, LVIS_SELECTED, LVIS_SELECTED);
            ASSERT(m_myListCtrl.GetItemState(n, LVIS_SELECTED) == LVIS_SELECTED);
        }
```

## <a name="getview"></a>  CListCtrl::GetView

Obtiene la vista del control de vista de lista.

```
DWORD GetView() const;
```

### <a name="return-value"></a>Valor devuelto

La vista actual del control de vista de lista.

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_GETVIEW](/windows/desktop/Controls/lvm-getview) del mensaje, como se describe en el SDK de Windows.

## <a name="getviewrect"></a>  CListCtrl::GetViewRect

Recupera el rectángulo delimitador de todos los elementos en el control de vista de lista.

```
BOOL GetViewRect(LPRECT lpRect) const;
```

### <a name="parameters"></a>Parámetros

*lpRect*<br/>
Dirección de un [RECT](https://msdn.microsoft.com/library/windows/desktop/dd162897) estructura.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

La vista de lista debe estar en la vista de iconos o vista de iconos pequeños.

## <a name="getworkareas"></a>  CListCtrl::GetWorkAreas

Recupera las áreas de trabajo actual de un control de vista de lista.

```
void GetWorkAreas(
    int nWorkAreas,
    LPRECT prc) const;
```

### <a name="parameters"></a>Parámetros

*nWorkAreas*<br/>
El número de `RECT` estructuras contenidas en el *prc* matriz.

*prc*<br/>
Un puntero a una matriz de `RECT` estructuras (o [CRect](../../atl-mfc-shared/reference/crect-class.md) objetos) que reciben las áreas de trabajo del control de vista de lista. Valores de estas estructuras son en coordenadas de cliente.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_GetWorkAreas](/windows/desktop/api/commctrl/nf-commctrl-listview_getworkareas), tal y como se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CListCtrl::GetNumberOfWorkAreas](#getnumberofworkareas).

## <a name="hasgroup"></a>  CListCtrl::HasGroup

Determina si el control de vista de lista tiene el grupo especificado.

```
BOOL HasGroup(int iGroupId) const;
```

### <a name="parameters"></a>Parámetros

*iGroupId*<br/>
El identificador del grupo que se solicita.

### <a name="return-value"></a>Valor devuelto

Devuelve TRUE si se ejecuta correctamente, FALSE en caso de error.

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_HASGROUP](/windows/desktop/Controls/lvm-hasgroup) del mensaje, como se describe en el SDK de Windows.

## <a name="hittest"></a>  CListCtrl::HitTest

Determina qué elemento de vista de lista, si existe, está en una posición especificada.

```
int HitTest(LVHITTESTINFO* pHitTestInfo) const;

int HitTest(
    CPoint pt,
    UINT* pFlags = NULL) const;
```

### <a name="parameters"></a>Parámetros

*pHitTestInfo*<br/>
Dirección de un `LVHITTESTINFO` estructura que contiene la posición a los resultados de pruebas y que recibe información acerca de los resultados de la prueba de posicionamiento.

*pt*<br/>
Punto que va a probarse.

*pFlags*<br/>
Puntero a un entero que recibe información acerca de los resultados de la prueba. Vea la explicación de la `flags` miembro de la [LVHITTESTINFO](/windows/desktop/api/commctrl/ns-commctrl-taglvhittestinfo) estructura en el SDK de Windows.

### <a name="return-value"></a>Valor devuelto

El índice del elemento en la posición especificada por *pHitTestInfo*, si existe, o -1 en caso contrario.

### <a name="remarks"></a>Comentarios

Puede usar los valores de la estructura de LVHT_ABOVE, LVHT_BELOW, LVHT_TOLEFT y LVHT_TORIGHT `flag` miembro para determinar si se va a desplazar el contenido de un control de vista de lista. Dos de estas marcas se pueden combinar, por ejemplo, si la posición está por encima y a la izquierda del área cliente.

Puede comprobar que el valor LVHT_ONITEM de la estructura `flag` miembro para determinar si una posición especificada es a través de un elemento de vista de lista. Este valor es una operación OR bit a bit de los valores LVHT_ONITEMICON, LVHT_ONITEMLABEL y LVHT_ONITEMSTATEICON de la estructura `flag` miembro.

### <a name="example"></a>Ejemplo

```cpp
void CListCtrlDlg::OnRClick(NMHDR* pNMHDR, LRESULT* pResult)
{
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;
    CPoint point(pia->ptAction);

    // Select the item the user clicked on.
    UINT uFlags;
    int nItem = m_myListCtrl.HitTest(point, &uFlags);

    if (uFlags & LVHT_ONITEMLABEL)
    {
        m_myListCtrl.SetItem(nItem, 0, LVIF_STATE, NULL, 0, LVIS_SELECTED,
            LVIS_SELECTED, 0);
    }

    *pResult = 0;
}
```

## <a name="insertcolumn"></a>  CListCtrl::InsertColumn

Inserta una nueva columna en un control de vista de lista.

```
int InsertColumn(
    int nCol,
    const LVCOLUMN* pColumn);

int InsertColumn(
    int nCol,
    LPCTSTR lpszColumnHeading,
    int nFormat = LVCFMT_LEFT,
    int nWidth = -1,
    int nSubItem = -1);
```

### <a name="parameters"></a>Parámetros

*nCol*<br/>
El índice de la nueva columna.

*pColumn*<br/>
Dirección de un `LVCOLUMN` estructura que contiene los atributos de la nueva columna.

*lpszColumnHeading*<br/>
Dirección de una cadena que contiene el título de la columna.

*nFormat*<br/>
Entero que especifica la alineación de la columna. Puede ser uno de estos valores: LVCFMT_LEFT, LVCFMT_RIGHT o LVCFMT_CENTER.

*nWidth*<br/>
Ancho de la columna, en píxeles. Si este parámetro es -1, no se establece el ancho de columna.

*nSubItem*<br/>
Índice del subelemento asociado a la columna. Si este parámetro es -1, ningún subelemento se asocia con la columna.

### <a name="return-value"></a>Valor devuelto

El índice de la nueva columna si se realiza correctamente o -1 en caso contrario.

### <a name="remarks"></a>Comentarios

La columna situada en un control de vista de lista debe ser alineado a la izquierda.

El [LVCOLUMN](/windows/desktop/api/commctrl/ns-commctrl-taglvcolumna) estructura contiene los atributos de una columna en la vista de informe. También sirve para recibir información sobre una columna. Esta estructura se describe en el SDK de Windows.

## <a name="insertgroup"></a>  CListCtrl::InsertGroup

Inserta un grupo en el control de vista de lista.

```
LRESULT InsertGroup(
    int index,
    PLVGROUP pgrp);
```

### <a name="parameters"></a>Parámetros

*index*<br/>
Índice del elemento donde se insertará el grupo.

*pgrp*<br/>
Un puntero a un [LVGROUP que se](/windows/desktop/api/commctrl/ns-commctrl-taglvgroup) estructura que contiene el grupo va a agregar.

### <a name="return-value"></a>Valor devuelto

Devuelve el índice del elemento que se agregó el grupo a, o -1 si la operación produjo un error.

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_INSERTGROUP](/windows/desktop/Controls/lvm-insertgroup) del mensaje, como se describe en el SDK de Windows.

## <a name="insertgroupsorted"></a>  CListCtrl::InsertGroupSorted

Inserta el grupo especificado en una lista ordenada de los grupos.

```
LRESULT InsertGroupSorted(PLVINSERTGROUPSORTED pStructInsert);
```

### <a name="parameters"></a>Parámetros

*pStructInsert*<br/>
Un puntero a un [LVINSERTGROUPSORTED](/windows/desktop/api/commctrl/ns-commctrl-taglvinsertgroupsorted) estructura que contiene el grupo que se va a insertar.

### <a name="return-value"></a>Valor devuelto

No se utiliza el valor devuelto.

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_INSERTGROUPSORTED](/windows/desktop/Controls/lvm-insertgroupsorted) del mensaje, como se describe en el SDK de Windows.

## <a name="insertitem"></a>  CListCtrl::InsertItem

Inserta un elemento en el control de vista de lista.

```
int InsertItem(const LVITEM* pItem);

int InsertItem(
    int nItem,
    LPCTSTR lpszItem);

int InsertItem(
    int nItem,
    LPCTSTR lpszItem,
    int nImage);

int InsertItem(
    UINT nMask,
    int nItem,
    LPCTSTR lpszItem,
    UINT nState,
    UINT nStateMask,
    int nImage,
    LPARAM lParam);
```

### <a name="parameters"></a>Parámetros

*pItem*<br/>
Puntero a un [LVITEM](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) estructura que especifica los atributos del elemento, como se describe en el SDK de Windows.

*nItem*<br/>
Índice del elemento que se va a insertar.

*lpszItem*<br/>
Dirección de una cadena que contiene el elemento de la etiqueta o LPSTR_TEXTCALLBACK si el elemento es un elemento de devolución de llamada. Para obtener información sobre los elementos de devolución de llamada, vea [CListCtrl:: GetCallbackMask](#getcallbackmask).

*nImage*<br/>
Índice de imagen del elemento o I_IMAGECALLBACK si el elemento es un elemento de devolución de llamada. Para obtener información sobre los elementos de devolución de llamada, vea [CListCtrl:: GetCallbackMask](#getcallbackmask).

*nMask*<br/>
El *nMask* parámetro especifica qué elemento de los atributos pasados como parámetros son válidos. Puede tener uno o varios de los valores de máscara que se describen en [LVITEM estructura](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) en el SDK de Windows. Los valores válidos se pueden combinar con el operador OR bit a bit.

*nState*<br/>
Indica la imagen de superposición, la imagen de estado y estado del elemento. Vea los temas de Windows SDK [LVITEM estructura](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) para obtener más información y [Estados de elemento de vista de lista](/windows/desktop/Controls/list-view-item-states) para obtener una lista de marcas válidas.

*nStateMask*<br/>
Indica los bits del miembro de estado se pueden recuperar ni modificar. Consulte [LVITEM estructura](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) en el SDK de Windows para obtener más información.

*lParam*<br/>
Un valor específico de la aplicación de 32 bits asociado al elemento. Si se especifica este parámetro, debe establecer el *nMask* LVIF_PARAM de atributo.

### <a name="return-value"></a>Valor devuelto

El índice del elemento nuevo si se realiza correctamente o -1 en caso contrario.

### <a name="remarks"></a>Comentarios

Llamar a este método puede provocar que el mensaje LVM_INSERTITEM para enviarse a la ventana de control. El controlador de mensajes asociado para el control puede producir un error al establecer el texto del elemento en ciertas condiciones (como el uso de estilos de ventana como LVS_OWNERDRAW). Para obtener más información sobre estas condiciones, consulte [LVM_INSERTITEM](/windows/desktop/Controls/lvm-insertitem) en el SDK de Windows.

### <a name="example"></a>Ejemplo

```cpp
        CString strText;
        int nColumnCount = m_myListCtrl.GetHeaderCtrl()->GetItemCount();

        // Insert 10 items in the list view control.
        for (int i = 0; i < 10; i++)
        {
            strText.Format(TEXT("item %d"), i);

            // Insert the item, select every other item.
            m_myListCtrl.InsertItem(LVIF_TEXT | LVIF_STATE, i, strText,
                (i % 2) == 0 ? LVIS_SELECTED : 0, LVIS_SELECTED, 0, 0);

            // Initialize the text of the subitems.
            for (int j = 1; j < nColumnCount; j++)
            {
                strText.Format(TEXT("sub-item %d %d"), i, j);
                m_myListCtrl.SetItemText(i, j, strText);
            }
        }
```

## <a name="insertmarkhittest"></a>  CListCtrl::InsertMarkHitTest

Recupera el punto de inserción más cercano a un punto especificado.

```
int InsertMarkHitTest(
    LPPOINT pPoint,
    LPLVINSERTMARK lvim) const;
```

### <a name="parameters"></a>Parámetros

*pPoint*<br/>
Un puntero a un [punto](https://msdn.microsoft.com/library/windows/desktop/dd162805) coordina la estructura que contiene la prueba de posicionamiento, en relación con el área cliente del control de lista.

*lvim*<br/>
Un puntero a un [LVINSERTMARK](/windows/desktop/api/commctrl/ns-commctrl-lvinsertmark) estructura que especifica el punto de inserción más cercano a las coordenadas definidas por el parámetro de punto.

### <a name="return-value"></a>Valor devuelto

El punto de inserción más próximo al punto.

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_INSERTMARKHITTEST](/windows/desktop/Controls/lvm-insertmarkhittest) del mensaje, como se describe en el SDK de Windows.

## <a name="isgroupviewenabled"></a>  CListCtrl::IsGroupViewEnabled

Determina si la vista de grupo está habilitada para un control de vista de lista.

```
BOOL IsGroupViewEnabled() const;
```

### <a name="return-value"></a>Valor devuelto

Devuelve TRUE si la vista de grupo está habilitada, o FALSE en caso contrario.

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_ISGROUPVIEWENABLED](/windows/desktop/Controls/lvm-isgroupviewenabled) del mensaje, como se describe en el SDK de Windows.

## <a name="isitemvisible"></a>  CListCtrl::IsItemVisible

Indica si un elemento especificado en el control de vista de lista actual está visible.

```
BOOL IsItemVisible(int index) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*index*|[in] Índice de base cero de un elemento en el control de vista de lista actual.|

### <a name="return-value"></a>Valor devuelto

TRUE si el elemento especificado está visible; en caso contrario, FALSE.

### <a name="remarks"></a>Comentarios

Este método envía el [LVM_ISITEMVISIBLE](/windows/desktop/Controls/lvm-isitemvisible) mensaje, que se describe en el SDK de Windows.

## <a name="mapidtoindex"></a>  CListCtrl::MapIDToIndex

El identificador único de un elemento en el control de vista de lista actual se asigna a un índice.

```
UINT MapIDToIndex(UINT id) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*identificador*|[in] El identificador único de un elemento.|

### <a name="return-value"></a>Valor devuelto

El índice actual para el identificador especificado.

### <a name="remarks"></a>Comentarios

Un control list view internamente realiza un seguimiento de elementos por índice. Esto puede suponer problemas porque los índices pueden cambiar durante la vigencia del control. El control de vista de lista puede etiquetar un elemento con un identificador cuando se crea el elemento y puede usar este identificador para garantizar la exclusividad durante la vigencia del control de vista de lista.

Tenga en cuenta que en un entorno multiproceso se garantiza el índice solo en el subproceso que hospeda el control de vista de lista, no en subprocesos en segundo plano.

Este método envía el [LVM_MAPIDTOINDEX](https://msdn.microsoft.com/library/windows/desktop/bb761137) mensaje, que se describe en el SDK de Windows.

## <a name="mapindextoid"></a>  CListCtrl::MapIndexToID

El índice de un elemento en el control de vista de lista actual se asigna a un identificador único.

```
UINT MapIndexToID(UINT index) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*index*|[in] Índice de base cero de un elemento.|

### <a name="return-value"></a>Valor devuelto

Un identificador único para el elemento especificado.

### <a name="remarks"></a>Comentarios

Un control list view internamente realiza un seguimiento de elementos por índice. Esto puede suponer problemas porque los índices pueden cambiar durante la vigencia del control. El control de vista de lista puede etiquetar un elemento con un identificador cuando se crea el elemento. Puede usar este identificador para tener acceso a un elemento específico durante la vigencia del control de vista de lista.

Tenga en cuenta que en un entorno multiproceso se garantiza el índice solo en el subproceso que hospeda el control de vista de lista, no en subprocesos en segundo plano.

Este método envía el [LVM_MAPINDEXTOID](/windows/desktop/Controls/lvm-mapindextoid) mensaje, que se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

El ejemplo de código siguiente define una variable, `m_listCtrl`, que se usa para tener acceso al control de vista de lista actual. Esta variable se utiliza en el siguiente ejemplo.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se muestra el `MapIndexToID` método. En una sección anterior de este ejemplo de código, creamos un control de vista de lista que muestra dos columnas tituladas "ClientID" y "Grade" en una vista de informe. El ejemplo siguiente asigna el índice de cada elemento de vista de lista a un número de identificación y, a continuación, recupera el índice para cada número de identificación. Por último, el ejemplo se notifica si se recuperaron los índices originales.

```cpp
    // MapIndexToID
    int iCount = m_listCtrl.GetItemCount();
    UINT nId = 0;
    UINT nIndex = 0;
    for (int iIndexOriginal = 0; iIndexOriginal < iCount; iIndexOriginal++)
    {
        // Map index to ID.
        nId = m_listCtrl.MapIndexToID((UINT)iIndexOriginal);

        // Map ID to index.
        nIndex = m_listCtrl.MapIDToIndex(nId);

        if (nIndex != (UINT)(iIndexOriginal))
        {
            CString str;
            str.Format(_T("Mapped index (%d) is not equal to original index (%d)"),
                nIndex, (UINT)(iIndexOriginal));
            AfxMessageBox(str);
            return;
        }
    }
    AfxMessageBox(_T("The mapped indexes and original indexes are equal."),
        MB_ICONINFORMATION);
```

## <a name="movegroup"></a>  CListCtrl::MoveGroup

Mueve el que grupo especificado para el índice de base cero del control de vista de lista.

```
LRESULT MoveGroup(
    int iGroupId,
    int toIndex);
```

### <a name="parameters"></a>Parámetros

*iGroupId*<br/>
El identificador del grupo que se va a mover.

*toIndex*<br/>
Índice de base cero donde es el grupo va a mover.

### <a name="return-value"></a>Valor devuelto

No se utiliza el valor devuelto.

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_MOVEGROUP](/windows/desktop/Controls/lvm-movegroup) del mensaje, como se describe en el SDK de Windows.

## <a name="moveitemtogroup"></a>  CListCtrl::MoveItemToGroup

Mueve el elemento especificado en el grupo especificado.

```
void MoveItemToGroup(
    int idItemFrom,
    int idGroupTo);
```

### <a name="parameters"></a>Parámetros

*idItemFrom*<br/>
[in] El índice del elemento que se va a mover.

*idGroupTo*<br/>
[in] El identificador del grupo se moverá el elemento a.

### <a name="remarks"></a>Comentarios

> [!NOTE]
>  Este método no está implementado actualmente.

Este método emula la funcionalidad de la [LVM_MOVEITEMTOGROUP](/windows/desktop/Controls/lvm-moveitemtogroup) del mensaje, como se describe en el SDK de Windows.

## <a name="redrawitems"></a>  CListCtrl::RedrawItems

Obliga a un control de vista de lista para volver a dibujar un intervalo de elementos.

```
BOOL RedrawItems(
    int nFirst,
    int nLast);
```

### <a name="parameters"></a>Parámetros

*nFirst*<br/>
Índice del primer elemento que se vuelva a dibujar.

*nLast*<br/>
Índice del último elemento que se vuelva a dibujar.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

Los elementos especificados no se vuelven a dibujar realmente hasta que la ventana de vista de lista recibe un mensaje WM_PAINT. Para volver a dibujar inmediatamente, llame a la Windows [UpdateWindow](/windows/desktop/api/winuser/nf-winuser-updatewindow) función después de usar esta función.

## <a name="removeallgroups"></a>  CListCtrl::RemoveAllGroups

Quita todos los grupos de un control de vista de lista.

```
void RemoveAllGroups();
```

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_REMOVEALLGROUPS](/windows/desktop/Controls/lvm-removeallgroups) del mensaje, como se describe en el SDK de Windows.

## <a name="removegroup"></a>  CListCtrl::RemoveGroup

Quita el grupo especificado desde el control de vista de lista.

```
LRESULT RemoveGroup(int iGroupId);
```

### <a name="parameters"></a>Parámetros

*iGroupId*<br/>
El identificador del grupo que se va a quitar.

### <a name="return-value"></a>Valor devuelto

Lo contrario, devuelve el índice del grupo si se realiza correctamente, o -1.

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_REMOVEGROUP](/windows/desktop/Controls/lvm-removegroup) del mensaje, como se describe en el SDK de Windows.

## <a name="scroll"></a>  CListCtrl::Scroll

Desplaza el contenido de un control de vista de lista.

```
BOOL Scroll(CSize size);
```

### <a name="parameters"></a>Parámetros

*size*<br/>
Un `CSize` objeto que especifica la cantidad de desplazamiento horizontal y vertical, en píxeles. El `y` miembro de *tamaño* se divide por el alto, en píxeles, de la línea del control de vista de lista, y el control se desplaza por el número de líneas resultante.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

## <a name="setbkcolor"></a>  CListCtrl::SetBkColor

Establece el color de fondo del control de vista de lista.

```
BOOL SetBkColor(COLORREF cr);
```

### <a name="parameters"></a>Parámetros

*cr*<br/>
Color de fondo para establecer o el valor como CLR_NONE ningún color de fondo. Controles de vista de lista con los colores de fondo volver a dibujar a sí mismos significativamente más rápido que las que no tienen colores de fondo. Para obtener información, consulte [COLORREF](/windows/desktop/gdi/colorref) en el SDK de Windows.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

```cpp
        // Use the 3D button face color for the background.
        COLORREF crBkColor = ::GetSysColor(COLOR_3DFACE);
        m_myListCtrl.SetBkColor(crBkColor);
        ASSERT(m_myListCtrl.GetBkColor() == crBkColor);
```

## <a name="setbkimage"></a>  CListCtrl::SetBkImage

Establece la imagen de fondo de un control de vista de lista.

```
BOOL SetBkImage(LVBKIMAGE* plvbkImage);

BOOL SetBkImage(
    HBITMAP hbm,
    BOOL fTile = TRUE,
    int xOffsetPercent = 0,
    int yOffsetPercent = 0);

BOOL SetBkImage(
    LPTSTR pszUrl,
    BOOL fTile = TRUE,
    int xOffsetPercent = 0,
    int yOffsetPercent = 0);
```

### <a name="parameters"></a>Parámetros

*plvbkImage*<br/>
Dirección de un `LVBKIMAGE` estructura, que contiene la nueva información de la imagen de fondo.

*hbm*<br/>
Identificador de un mapa de bits.

*pszUrl*<br/>
Una cadena terminada en NULL que contiene la dirección URL de la imagen de fondo.

*fTile*<br/>
Distinto de cero si la imagen consiste en forma de mosaico en el fondo del control de vista de lista; en caso contrario, es 0.

*xOffsetPercent*<br/>
El desplazamiento, en píxeles, del borde izquierdo de la imagen, desde el origen del control de vista de lista.

*yOffsetPercent*<br/>
El desplazamiento, en píxeles, del borde superior de la imagen, desde el origen del control de vista de lista.

### <a name="return-value"></a>Valor devuelto

Devuelve cero si se realiza correctamente, o cero en caso contrario.

### <a name="remarks"></a>Comentarios

> [!NOTE]
>  Dado que `CListCtrl::SetBkImage` hace uso de la funcionalidad OLE y COM, las bibliotecas OLE deben inicializarse antes de usar `SetBkImage`. Es mejor inicializar las bibliotecas COM cuando se inicializa la aplicación y anular la inicialización de las bibliotecas cuando finaliza la aplicación. Esto se realiza automáticamente en MFC aplicaciones hacen uso de operaciones de DAO y ODBC, OLE vinculación/Embedding, OLE Automation o tecnología de ActiveX.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CListCtrl::GetBkImage](#getbkimage).

## <a name="setcallbackmask"></a>  CListCtrl::SetCallbackMask

Establece la máscara de devolución de llamada para un control de vista de lista.

```
BOOL SetCallbackMask(UINT nMask);
```

### <a name="parameters"></a>Parámetros

*nMask*<br/>
Nuevo valor de la máscara de devolución de llamada.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

```cpp
    // Set the callback mask so that only the selected and focused states
    // are stored for each item.
    m_myListCtrl.SetCallbackMask(LVIS_SELECTED|LVIS_FOCUSED);
    ASSERT(m_myListCtrl.GetCallbackMask() ==
        (LVIS_SELECTED|LVIS_FOCUSED));
```

## <a name="setcheck"></a>  CListCtrl::SetCheck

Determina si está visible la imagen del estado de un elemento de control de lista.

```
BOOL SetCheck(
    int nItem,
    BOOL fCheck = TRUE);
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice de base cero de un elemento de control de lista.

*fCheck*<br/>
Especifica si la imagen del estado del elemento debe estar visible o no. De forma predeterminada, *fCheck* es TRUE y la imagen de estado está visible. Si *fCheck* es FALSE, no está visible.

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el elemento está activado, en caso contrario, 0.

### <a name="example"></a>Ejemplo

```cpp
        int nCount = m_myListCtrl.GetItemCount();
        BOOL fCheck = FALSE;

        // Set the check state of every other item to TRUE and
        // all others to FALSE.
        for (int i = 0; i < nCount; i++)
        {
            m_myListCtrl.SetCheck(i, fCheck);
            ASSERT((m_myListCtrl.GetCheck(i) && fCheck) ||
                (!m_myListCtrl.GetCheck(i) && !fCheck));
            fCheck = !fCheck;
        }
```

## <a name="setcolumn"></a>  CListCtrl::SetColumn

Establece los atributos de una columna de vista de lista.

```
BOOL SetColumn(
    int nCol,
    const LVCOLUMN* pColumn);
```

### <a name="parameters"></a>Parámetros

*nCol*<br/>
Índice de la columna cuyos atributos se van a establecerse.

*pColumn*<br/>
Dirección de un [LVCOLUMN](/windows/desktop/api/commctrl/ns-commctrl-taglvcolumna) estructura que contiene la nueva columna de atributos, como se describe en el SDK de Windows. La estructura `mask` miembro especifica qué columna de atributos para establecer. Si el `mask` miembro especifica LVCF_TEXT, la estructura del valor `pszText` miembro es la dirección de una cadena terminada en null y la estructura `cchTextMax` miembro se omite.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CListCtrl::GetColumn](#getcolumn).

## <a name="setcolumnorderarray"></a>  CListCtrl::SetColumnOrderArray

Establece el orden de las columnas (de izquierda a derecha) de un control de vista de lista.

```
BOOL SetColumnOrderArray(
    int iCount,
    LPINT piArray);
```

### <a name="parameters"></a>Parámetros

*piArray*<br/>
Un puntero a un búfer que contiene los valores de índice de las columnas en el control de vista de lista (de izquierda a derecha). El búfer debe ser suficientemente grande como para contener el número total de columnas en el control de vista de lista.

*iCount*<br/>
Número de columnas en el control de vista de lista.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_SetColumnOrderArray](/windows/desktop/api/commctrl/nf-commctrl-listview_setcolumnorderarray), tal y como se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CListCtrl::GetColumnOrderArray](#getcolumnorderarray).

## <a name="setcolumnwidth"></a>  CListCtrl::SetColumnWidth

Cambia el ancho de una columna en la vista de informe o vista de lista.

```
BOOL SetColumnWidth(
    int nCol,
    int cx);
```

### <a name="parameters"></a>Parámetros

*nCol*<br/>
Índice de la columna para que el ancho se va a establecer. En la vista de lista, este parámetro debe ser 0.

*cx*<br/>
El nuevo ancho de la columna. Puede ser LVSCW_AUTOSIZE o LVSCW_AUTOSIZE_USEHEADER, como se describe en [LVM_SETCOLUMNWIDTH](/windows/desktop/Controls/lvm-setcolumnwidth) en el SDK de Windows.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

## <a name="setextendedstyle"></a>  CListCtrl::SetExtendedStyle

Establece los estilos extendidos actuales de un control de vista de lista.

```
DWORD SetExtendedStyle(DWORD dwNewStyle);
```

### <a name="parameters"></a>Parámetros

*dwNewStyle*<br/>
Una combinación de los estilos extendidos que va a usar el control de vista de lista. Para obtener una lista descriptiva de estos estilos, vea el [estilos extendidos de vista de lista](/windows/desktop/Controls/extended-list-view-styles) tema en el SDK de Windows.

### <a name="return-value"></a>Valor devuelto

Una combinación de los estilos extendidos anteriores utilizado por el control de vista de lista.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_SetExtendedListViewStyle](/windows/desktop/api/commctrl/nf-commctrl-listview_setextendedlistviewstyle), tal y como se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

```cpp
    // Allow the header controls item to be movable by the user.
    m_myListCtrl.SetExtendedStyle
        (m_myListCtrl.GetExtendedStyle()|LVS_EX_HEADERDRAGDROP);
```

## <a name="setgroupinfo"></a>  CListCtrl::SetGroupInfo

Establece la información que describe el grupo especificado del control de vista de lista actual.

```
int SetGroupInfo(
    int iGroupId,
    PLVGROUP pgrp);
```

### <a name="parameters"></a>Parámetros

*iGroupId*<br/>
El identificador del grupo cuya información se establece.

*pgrp*<br/>
Puntero a un [LVGROUP que se](/windows/desktop/api/commctrl/ns-commctrl-taglvgroup) estructura que contiene la información para establecer. El llamador es responsable de asignar esta estructura y la configuración de sus miembros.

### <a name="return-value"></a>Valor devuelto

El identificador del grupo si el método se realiza correctamente; en caso contrario, es -1.

### <a name="remarks"></a>Comentarios

Este método envía el [LVM_SETGROUPINFO](/windows/desktop/Controls/lvm-setgroupinfo) mensaje, que se describe en el SDK de Windows.

## <a name="setgroupmetrics"></a>  CListCtrl::SetGroupMetrics

Establece las métricas de grupo de un control de vista de lista.

```
void SetGroupMetrics(PLVGROUPMETRICS pGroupMetrics);
```

### <a name="parameters"></a>Parámetros

*pGroupMetrics*<br/>
Un puntero a un [LVGROUPMETRICS](/windows/desktop/api/commctrl/ns-commctrl-taglvgroupmetrics) estructura que contiene la información de las métricas de grupo debe establecerse.

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_SETGROUPMETRICS](/windows/desktop/Controls/lvm-setgroupmetrics) del mensaje, como se describe en el SDK de Windows.

## <a name="sethotcursor"></a>  CListCtrl::SetHotCursor

Establece el cursor usado cuando se habilita el seguimiento activo para un control de vista de lista.

```
HCURSOR SetHotCursor(HCURSOR hc);
```

### <a name="parameters"></a>Parámetros

*hc*<br/>
Identificador de un recurso de cursor, utilizado para representar el cursor activo.

### <a name="return-value"></a>Valor devuelto

El identificador del recurso de cursor activos anterior usando el control de vista de lista.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_SetHotCursor](/windows/desktop/api/commctrl/nf-commctrl-listview_sethotcursor), tal y como se describe en el SDK de Windows.

El cursor activo, solo es visible cuando se habilita la selección al mantener el mouse, aparece cuando el cursor pasa sobre cualquier elemento de vista de lista. Selección de mantener el mouse se habilita estableciendo el LVS_EX_TRACKSELECT estilo extendido.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CListCtrl::GetHotCursor](#gethotcursor).

## <a name="sethotitem"></a>  CListCtrl::SetHotItem

Establece el elemento activo actual de un control de vista de lista.

```
int SetHotItem(int iIndex);
```

### <a name="parameters"></a>Parámetros

*iIndex*<br/>
Índice de base cero del elemento que se establecerá como el elemento activo.

### <a name="return-value"></a>Valor devuelto

Índice de base cero del elemento activo anteriormente.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_SetHotItem](/windows/desktop/api/commctrl/nf-commctrl-listview_sethotitem), tal y como se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CListCtrl::GetHotItem](#gethotitem).

## <a name="sethovertime"></a>  CListCtrl::SetHoverTime

Establece el tiempo de desplazamiento actual de un control de vista de lista.

```
DWORD SetHoverTime(DWORD dwHoverTime = (DWORD)-1);
```

### <a name="parameters"></a>Parámetros

*dwHoverTime*<br/>
El retraso nuevo, en milisegundos, que debe mantenga el cursor del mouse sobre un elemento antes de que está seleccionado. Si se pasa el valor predeterminado, se establece la hora a la hora de mantener el mouse de forma predeterminada.

### <a name="return-value"></a>Valor devuelto

El tiempo al mantener el puntero anterior, en milisegundos.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_SetHoverTime](/windows/desktop/api/commctrl/nf-commctrl-listview_sethovertime), tal y como se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CListCtrl::GetHoverTime](#gethovertime).

## <a name="seticonspacing"></a>  CListCtrl::SetIconSpacing

Establece el espaciado entre los iconos en un control de vista de lista.

```
CSize SetIconSpacing(
    int cx,
    int cy);

CSize SetIconSpacing(CSize size);
```

### <a name="parameters"></a>Parámetros

*cx*<br/>
Distancia (en píxeles) entre los iconos en el eje x.

*cy*<br/>
Distancia (en píxeles) entre los iconos en el eje y.

*size*<br/>
Un `CSize` objeto que especifica la distancia (en píxeles) entre los iconos en la x - y ejes.

### <a name="return-value"></a>Valor devuelto

Un [CSize](../../atl-mfc-shared/reference/csize-class.md) objeto que contiene los valores anteriores para el espaciado de icono.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_SetIconSpacing](/windows/desktop/api/commctrl/nf-commctrl-listview_seticonspacing), tal y como se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

```cpp
    // Leave lots of space between icons.
    m_myListCtrl.SetIconSpacing(CSize(100, 100));
```

## <a name="setimagelist"></a>  CListCtrl::SetImageList

Asigna una lista de imágenes a un control de vista de lista.

```
CImageList* SetImageList(
    CImageList* pImageList,
    int nImageListType);
```

### <a name="parameters"></a>Parámetros

*pImageList*<br/>
Puntero a la lista de imágenes para asignar.

*nImageListType*<br/>
Tipo de lista de imágenes. Puede ser uno de estos valores:

- Lista de imágenes de LVSIL_NORMAL con iconos grandes.

- Lista de imágenes de LVSIL_SMALL con iconos pequeños.

- Lista de imágenes de LVSIL_STATE con imágenes de estado.

### <a name="return-value"></a>Valor devuelto

Un puntero a la lista de la imagen anterior.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CListCtrl::GetImageList](#getimagelist).

## <a name="setinfotip"></a>  CListCtrl::SetInfoTip

Establece el texto de información sobre herramientas.

```
BOOL SetInfoTip(PLVSETINFOTIP plvInfoTip);
```

### <a name="parameters"></a>Parámetros

*plvInfoTip*<br/>
Un puntero a un [LVFSETINFOTIP](/windows/desktop/api/commctrl/ns-commctrl-taglvsetinfotip) estructura que contiene la información que debe establecerse.

### <a name="return-value"></a>Valor devuelto

Devuelve TRUE si se ejecuta correctamente, FALSE en caso de error.

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_SETINFOTIP](/windows/desktop/Controls/lvm-setinfotip) del mensaje, como se describe en el SDK de Windows.

## <a name="setinsertmark"></a>  CListCtrl::SetInsertMark

Establece el punto de inserción a la posición definida.

```
BOOL SetInsertMark(LPLVINSERTMARK lvim);
```

### <a name="parameters"></a>Parámetros

*lvim*<br/>
Un puntero a un [LVINSERTMARK](/windows/desktop/api/commctrl/ns-commctrl-lvinsertmark) estructura que especifica dónde se establecerá el punto de inserción.

### <a name="return-value"></a>Valor devuelto

Devuelve TRUE si se realiza correctamente o falso en caso contrario. Se devuelve FALSE si el tamaño en el `cbSize` miembro de la `LVINSERTMARK` estructura no es igual al tamaño real de la estructura o al punto de inserción no se aplica en la vista actual.

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_SETINSERTMARK](/windows/desktop/Controls/lvm-setinsertmark) del mensaje, como se describe en el SDK de Windows.

## <a name="setinsertmarkcolor"></a>  CListCtrl::SetInsertMarkColor

Establece el color del punto de inserción.

```
COLORREF SetInsertMarkColor(COLORREF color);
```

### <a name="parameters"></a>Parámetros

*color*<br/>
Un [COLORREF](/windows/desktop/gdi/colorref) estructura que especifica el color para establecer el punto de inserción.

### <a name="return-value"></a>Valor devuelto

Devuelve un `COLORREF` estructura que contiene el color anterior.

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_SETINSERTMARKCOLOR](/windows/desktop/Controls/lvm-setinsertmarkcolor) del mensaje, como se describe en el SDK de Windows.

## <a name="setitem"></a>  CListCtrl::SetItem

Establece los atributos del elemento de algunos o todos de una vista de lista.

```
BOOL SetItem(const LVITEM* pItem);

BOOL SetItem(
    int nItem,
    int nSubItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam);

BOOL SetItem(
    int nItem,
    int nSubItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam,
    int nIndent);
```

### <a name="parameters"></a>Parámetros

*pItem*<br/>
Dirección de un [LVITEM](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) estructura que contiene el nuevo elemento de atributos, como se describe en el SDK de Windows. La estructura `iItem` y `iSubItem` miembros identifican el elemento o subelemento y la estructura `mask` miembro especifica qué atributos que se van a establecer. Para obtener más información sobre la `mask` miembro, vea el **comentarios**.

*nItem*<br/>
Índice del elemento cuyos atributos se van a establecerse.

*nSubItem*<br/>
Índice del subelemento cuyos atributos se van a establecerse.

*nMask*<br/>
Especifica los atributos que deben establecerse (consulte la sección Comentarios).

*lpszItem*<br/>
Dirección de la cadena terminada en null que especifica la etiqueta del elemento.

*nImage*<br/>
Índice de la imagen del elemento dentro de la lista de imágenes.

*nState*<br/>
Especifica valores para los Estados se puede cambiar (consulte la sección Comentarios).

*nStateMask*<br/>
Especifica qué estados se puede cambiar (consulte la sección Comentarios).

*lParam*<br/>
Un valor de específicos de la aplicación de 32 bits que se asociará con el elemento.

*nIndent*<br/>
Ancho, en píxeles, de la sangría. Si *nIndent* es menor que el ancho mínimo definido por el sistema, el nuevo ancho se establece en el mínimo definido por el sistema

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

El `iItem` y `iSubItem` los miembros de la `LVITEM` estructura y el *nItem* y *nSubItem* parámetros identifican el elemento y el subelemento cuyos atributos se van a establecerse.

El `mask` miembro de la `LVITEM` estructura y el *nMask* parámetro especificar a qué elemento atributos que se van a establecer:

- LVIF_TEXT el `pszText` miembro o el *lpszItem* parámetro es la dirección de una cadena terminada en null; la `cchTextMax` miembro se omite.

- LVIF_STATE el `stateMask` miembro o *nStateMask* parámetro especifica qué elemento Estados para cambiar y `state` miembro o *nState* parámetro contiene los valores de esos Estados.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CListCtrl::HitTest](#hittest).

## <a name="setitemcount"></a>  CListCtrl::SetItemCount

Prepara un control de vista de lista para agregar un gran número de elementos.

```
void SetItemCount(int nItems);
```

### <a name="parameters"></a>Parámetros

*nItems*<br/>
Número de elementos que finalmente contendrá el control.

### <a name="remarks"></a>Comentarios

Para establecer el número de elementos de un control de vista de lista virtual, consulte [CListCtrl::SetItemCountEx](#setitemcountex).

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_SetItemCount](/windows/desktop/api/commctrl/nf-commctrl-listview_setitemcount), tal y como se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

```cpp
        CString str;

        // Add 1024 items to the list view control.
        m_myListCtrl.SetItemCount(1024);

        for (int i = 0; i < 1024; i++)
        {
            str.Format(TEXT("item %d"), i);
            m_myListCtrl.InsertItem(i, str);
        }
```

## <a name="setitemcountex"></a>  CListCtrl::SetItemCountEx

Establece el número de elementos de un control de vista de lista virtual.

```
BOOL SetItemCountEx(
    int iCount,
    DWORD dwFlags = LVSICF_NOINVALIDATEALL);
```

### <a name="parameters"></a>Parámetros

*iCount*<br/>
Número de elementos que finalmente contendrá el control.

*dwFlags*<br/>
Especifica el comportamiento del control de vista de lista después de restablecer el número de elementos. Este valor puede ser una combinación de las siguientes acciones:

- LVSICF_NOINVALIDATEALL el control de vista de lista no volverá a dibujarse a menos que los elementos afectados están actualmente en la vista. Este es el valor predeterminado.

- El control de vista de lista LVSICF_NOSCROLL no cambiará la posición de desplazamiento cuando el elemento contar los cambios.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_SetItemCountEx](/windows/desktop/api/commctrl/nf-commctrl-listview_setitemcountex), como se describe en el SDKand Windows solo debe llamarse para las vistas de lista virtual.

### <a name="example"></a>Ejemplo

```cpp
        CString str;

        // Add 1024 items to the list view control.

        // Force my virtual list view control to allocate
        // enough memory for my 1024 items.
        m_myVirtualListCtrl.SetItemCountEx(1024, LVSICF_NOSCROLL|
            LVSICF_NOINVALIDATEALL);

        for (int i = 0; i < 1024; i++)
        {
            str.Format(TEXT("item %d"), i);
            m_myVirtualListCtrl.InsertItem(i, str);
        }
```

## <a name="setitemdata"></a>  CListCtrl::SetItemData

Establece el valor específico de la aplicación de 32 bits asociado al elemento especificado por *nItem*.

```
BOOL SetItemData(int nItem, DWORD_PTR dwData);
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento de lista cuyos datos se va a establecer.

*dwData*<br/>
Un valor de 32 bits que se asociará con el elemento.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

Este valor es el `lParam` miembro de la [LVITEM](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) estructura, como se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

```cpp
    // Set the data of each item to be equal to its index.
    for (int i = 0; i < m_myListCtrl.GetItemCount(); i++)
    {
        m_myListCtrl.SetItemData(i, i);
    }
```

## <a name="setitemindexstate"></a>  CListCtrl::SetItemIndexState

Establece el estado de un elemento en el control de vista de lista actual.

```
BOOL SetItemIndexState(
    PLVITEMINDEX pItemIndex,
    DWORD dwState,
    DWORD dwMask) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*pItemIndex*|[in] Puntero a un [LVITEMINDEX](https://msdn.microsoft.com/library/windows/desktop/bb774762) estructura que describe un elemento. El llamador es responsable de asignar esta estructura y la configuración de sus miembros.|
|*dwState*|[in] El estado se establece el elemento, que es una combinación bit a bit de [una lista de Estados de elemento de vista](/windows/desktop/Controls/list-view-item-states). Especifique cero para restablecer o una para establecer un estado.|
|*dwMask*|[in] Una máscara de los bits válidas del estado especificado por el *"_mfc_CTabCtrl.3a3a.GetItem"* parámetro. Especificar una combinación bit a bit (OR) de [una lista de Estados de elemento de vista](/windows/desktop/Controls/list-view-item-states).|

### <a name="return-value"></a>Valor devuelto

TRUE si este método se realiza correctamente; en caso contrario, FALSE.

### <a name="remarks"></a>Comentarios

Para obtener más información sobre la *"_mfc_CTabCtrl.3a3a.GetItem"* parámetro, vea [Estados de elemento de vista de lista](/windows/desktop/Controls/list-view-item-states).

Para obtener más información sobre la *dwMask* parámetro, vea el *stateMask* miembro de la [LVITEM](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) estructura.

Este método envía el [LVM_SETITEMINDEXSTATE](/windows/desktop/Controls/lvm-setitemindexstate) mensaje, que se describe en el SDK de Windows.

## <a name="setitemposition"></a>  CListCtrl::SetItemPosition

Mueve un elemento a una posición especificada en un control de vista de lista.

```
BOOL SetItemPosition(
    int nItem,
    POINT pt);
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento cuya posición se va a establecer.

*pt*<br/>
Un [punto](https://msdn.microsoft.com/library/windows/desktop/dd162805) coordina la estructura que especifica la nueva posición en la vista, de la esquina superior izquierda del elemento.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

El control debe estar en el icono o la vista de iconos pequeños.

Si el control de vista de lista tiene el estilo LVS_AUTOARRANGE, la vista de lista se organiza después de establece la posición del elemento.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CListCtrl::GetItemPosition](#getitemposition).

## <a name="setitemstate"></a>  CListCtrl::SetItemState

Cambia el estado de un elemento en un control de vista de lista.

```
BOOL SetItemState(
    int nItem,
    LVITEM* pItem);

BOOL SetItemState(
    int nItem,
    UINT nState,
    UINT nMask);
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento cuyo estado se va a establecer.

*pItem*<br/>
Dirección de un [LVITEM](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) estructura, como se describe en el SDK de Windows. La estructura `stateMask` miembro especifica el estado de bits para el cambio y la estructura `state` miembro contiene los nuevos valores para esos bits. Se omiten los demás miembros.

*nState*<br/>
Nuevos valores para los bits de estado. Para obtener una lista de valores posibles, vea [CListCtrl::GetNextItem](#getnextitem) y [LVITEM](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) miembro de estado.

*nMask*<br/>
Especifica el estado de bits para cambiar de máscara. Este valor corresponde al miembro de stateMask el [LVITEM](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) estructura.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

"Estado" de un elemento es un valor que especifica la disponibilidad del artículo, que indica las acciones del usuario o en caso contrario, refleja el estado del artículo. Un control de vista de lista cambia algunos bits de estado, por ejemplo, cuando el usuario selecciona un elemento. Una aplicación podría cambiar otros bits de estado para deshabilitar u ocultar el elemento, o para especificar una imagen de estado o la imagen de superposición.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CListCtrl::GetTopIndex](#gettopindex).

## <a name="setitemtext"></a>  CListCtrl::SetItemText

Cambia el texto de un elemento de vista de lista o el subelemento.

```
BOOL SetItemText(
    int nItem,
    int nSubItem,
    LPCTSTR lpszText);
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento cuyo texto se va a establecer.

*nSubItem*<br/>
Índice del subelemento, o cero para establecer la etiqueta del elemento.

*lpszText*<br/>
Puntero a una cadena que contiene el texto del elemento nuevo.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

Este método no está pensado para su uso con los controles que contiene el estilo de ventana LVS_OWNERDATA (de hecho, esto hará que una aserción en las compilaciones de depuración). Para obtener más información acerca de este estilo de control de lista, consulte [información general sobre controles de vista de lista](/windows/desktop/Controls/list-view-controls-overview).

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CListCtrl::InsertItem](#insertitem).

## <a name="setoutlinecolor"></a>  CListCtrl::SetOutlineColor

Establece el color del borde de un control de vista de lista si el [LVS_EX_BORDERSELECT](/windows/desktop/Controls/list-view-window-styles) se establece el estilo de ventana extendidos.

```
COLORREF SetOutlineColor(COLORREF color);
```

### <a name="parameters"></a>Parámetros

*color*<br/>
El nuevo [COLORREF](/windows/desktop/gdi/colorref) estructura que contiene el color del contorno.

### <a name="return-value"></a>Valor devuelto

La anterior `COLORREF` estructura que contiene el color del contorno

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_SETOUTLINECOLOR](/windows/desktop/Controls/lvm-setoutlinecolor) del mensaje, como se describe en el SDK de Windows.

## <a name="setselectedcolumn"></a>  CListCtrl::SetSelectedColumn

Establece la columna seleccionada del control de vista de lista.

```
LRESULT SetSelectedColumn(int iCol);
```

### <a name="parameters"></a>Parámetros

*iCol*<br/>
El índice de la columna que se seleccionen.

### <a name="return-value"></a>Valor devuelto

No se utiliza el valor devuelto.

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_SETSELECTEDCOLUMN](/windows/desktop/Controls/lvm-setselectedcolumn) del mensaje, como se describe en el SDK de Windows.

## <a name="setselectionmark"></a>  CListCtrl::SetSelectionMark

Establece la marca de selección de un control de vista de lista.

```
int SetSelectionMark(int iIndex);
```

### <a name="parameters"></a>Parámetros

*iIndex*<br/>
Índice de base cero del primer elemento en una selección múltiple.

### <a name="return-value"></a>Valor devuelto

La marca de selección anterior, o -1 si se ha producido ninguna marca de selección.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_SetSelectionMark](/windows/desktop/api/commctrl/nf-commctrl-listview_setselectionmark), tal y como se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CListCtrl::GetSelectionMark](#getselectionmark).

## <a name="settextbkcolor"></a>  CListCtrl::SetTextBkColor

Establece el color de fondo del texto en un control de vista de lista.

```
BOOL SetTextBkColor(COLORREF cr);
```

### <a name="parameters"></a>Parámetros

*cr*<br/>
Un COLORREF que especifica el color de fondo del texto nuevo. Para obtener información, consulte [COLORREF](/windows/desktop/gdi/colorref) en el SDK de Windows.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

```cpp
        // Use the 3D button face color for the background.
        COLORREF crBkColor = ::GetSysColor(COLOR_3DFACE);
        m_myListCtrl.SetTextBkColor(crBkColor);
        ASSERT(m_myListCtrl.GetTextBkColor() == crBkColor);
```

## <a name="settextcolor"></a>  CListCtrl::SetTextColor

Establece el color del texto de un control de vista de lista.

```
BOOL SetTextColor(COLORREF cr);
```

### <a name="parameters"></a>Parámetros

*cr*<br/>
Un COLORREF que especifica el color del texto nuevo. Para obtener información, consulte [COLORREF](/windows/desktop/gdi/colorref) en el SDK de Windows.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

```cpp
    // Use the window text color for
    // the item text of the list view control.
    COLORREF crTextColor = ::GetSysColor(COLOR_WINDOWTEXT);
    m_myListCtrl.SetTextColor(crTextColor);
    ASSERT(m_myListCtrl.GetTextColor() == crTextColor);
```

## <a name="settileinfo"></a>  CListCtrl::SetTileInfo

Establece la información para un icono del control de vista de lista.

```
BOOL SetTileInfo(PLVTILEINFO pti);
```

### <a name="parameters"></a>Parámetros

*pti*<br/>
Un puntero a un [LVTILEINFO](/windows/desktop/api/commctrl/ns-commctrl-taglvtileinfo) estructura que contiene la información que debe establecerse.

### <a name="return-value"></a>Valor devuelto

Devuelve TRUE si se ejecuta correctamente, FALSE en caso de error.

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_SETTILEINFO](/windows/desktop/Controls/lvm-settileinfo) del mensaje, como se describe en el SDK de Windows.

## <a name="settileviewinfo"></a>  CListCtrl::SetTileViewInfo

Establece la información que usa un control de vista de lista en la vista en mosaico.

```
BOOL SetTileViewInfo(PLVTILEVIEWINFO ptvi);
```

### <a name="parameters"></a>Parámetros

*ptvi*<br/>
Un puntero a un [LVTILEVIEWINFO](/windows/desktop/api/commctrl/ns-commctrl-taglvtileviewinfo) estructura que contiene la información para establecer.

### <a name="return-value"></a>Valor devuelto

Devuelve TRUE si se ejecuta correctamente, FALSE en caso de error.

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_SETTILEVIEWINFO](/windows/desktop/Controls/lvm-settileviewinfo) del mensaje, como se describe en el SDK de Windows.

## <a name="settooltips"></a>  CListCtrl::SetToolTips

Establece el control de información sobre herramientas que va a usar el control de vista de lista para mostrar información sobre herramientas.

```
CToolTipCtrl* SetToolTips(CToolTipCtrl* pWndTip);
```

### <a name="parameters"></a>Parámetros

*pWndTip*<br/>
Un puntero a un `CToolTipCtrl` objeto que se va a usar el control de lista.

### <a name="return-value"></a>Valor devuelto

Un puntero a un [CToolTipCtrl](ctooltipctrl-class.md) objeto que contiene la información sobre herramientas usado previamente por el control o NULL si no hay información sobre herramientas se ha usado anteriormente.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento del mensaje de Win32 [LVM_SETTOOLTIPS](/windows/desktop/Controls/lvm-settooltips), tal y como se describe en el SDK de Windows.

Para no usar informaciones sobre herramientas, indican el estilo LVS_NOTOOLTIPS al crear el `CListCtrl` objeto.

## <a name="setview"></a>  CListCtrl::SetView

Establece la vista del control de vista de lista.

```
DWORD SetView(int iView);
```

### <a name="parameters"></a>Parámetros

*iView*<br/>
La vista que se seleccionen.

### <a name="return-value"></a>Valor devuelto

Lo contrario, devuelve 1 si se realiza correctamente, o -1. Por ejemplo, se devuelve -1 si la vista no es válida.

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_SETVIEW](/windows/desktop/Controls/lvm-setview) del mensaje, como se describe en el SDK de Windows.

## <a name="setworkareas"></a>  CListCtrl::SetWorkAreas

Establece el área donde se pueden mostrar los iconos en un control de vista de lista.

```
void SetWorkAreas(
    int nWorkAreas,
    LPRECT lpRect);
```

### <a name="parameters"></a>Parámetros

*nWorkAreas*<br/>
El número de `RECT` estructuras (o [CRect](../../atl-mfc-shared/reference/crect-class.md) objetos) en la matriz señalada por *lpRect*.

*lpRect*<br/>
La dirección de una matriz de `RECT` estructuras (o `CRect` objetos) que especifican las nuevas áreas de trabajo del control de vista de lista. Estas áreas deben especificarse en coordenadas de cliente. Si este parámetro es NULL, el área de trabajo se establecerá en el área cliente del control.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_SetWorkAreas](/windows/desktop/api/commctrl/nf-commctrl-listview_setworkareas), tal y como se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

```cpp
    // Remove all working areas.
    m_myListCtrl.SetWorkAreas(0, NULL);
```

## <a name="sortgroups"></a>  CListCtrl::SortGroups

Utiliza una función de comparación definido por la aplicación para ordenar grupos por Id. de dentro de un control de vista de lista.

```
BOOL SortGroups(
    PFNLVGROUPCOMPARE _pfnGroupCompare,
    LPVOID _plv);
```

### <a name="parameters"></a>Parámetros

*_pfnGroupCompare*<br/>
Un puntero a la función de comparación de grupo.

*_plv*<br/>
Un puntero void.

### <a name="return-value"></a>Valor devuelto

Devuelve TRUE si se ejecuta correctamente, FALSE en caso de error.

### <a name="remarks"></a>Comentarios

Esta función miembro emula la funcionalidad de la [LVM_SORTGROUPS](/windows/desktop/Controls/lvm-sortgroups) del mensaje, como se describe en el SDK de Windows.

## <a name="sortitems"></a>  CListCtrl::SortItems

Ordena los elementos de vista de lista mediante el uso de una función de comparación definido por la aplicación.

```
BOOL SortItems(
    PFNLVCOMPARE pfnCompare,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>Parámetros

*pfnCompare*<br/>
[in] Dirección de la función de comparación definido por la aplicación.

La operación de ordenación llama a la función de comparación de cada vez que el orden relativo de dos elementos de lista debe determinarse. La función de comparación debe ser un miembro estático de una clase o una función independiente que no es un miembro de cualquier clase.

*dwData*<br/>
[in] Valor definido por la aplicación que se pasa a la función de comparación.

### <a name="return-value"></a>Valor devuelto

TRUE si el método es correcto; en caso contrario, FALSE.

### <a name="remarks"></a>Comentarios

Este método cambia el índice de cada elemento para reflejar la nueva secuencia.

La función de comparación, *pfnCompare*, tiene el formato siguiente:

```
int CALLBACK CompareFunc(LPARAM lParam1,
    LPARAM lParam2,
    LPARAM lParamSort);
```
La función de comparación debe devolver un valor negativo si el primer elemento debería preceder el segundo, un valor positivo si el primer elemento que debe seguir el segundo, o cero si los dos elementos son iguales.

El *lParam1* parámetro es el valor de 32 bits asociado con el primer elemento que se compara con, y el *lParam2* parámetro es el valor asociado con el segundo elemento. Estos son los valores que se especificaron en el *lParam* miembro de elementos [LVITEM](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) estructura al que se insertaron en la lista. El *lParamSort* parámetro es el mismo que el *dwData* valor.

Este método envía el [LVM_SORTITEMS](/windows/desktop/Controls/lvm-sortitems) mensaje, que se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

La siguiente es una función de comparación simple que da como resultado los elementos se ordenen por sus *lParam* valores.

```cpp
// Sort items by associated lParam
int CALLBACK CListCtrlDlg::MyCompareProc(LPARAM lParam1, LPARAM lParam2,
    LPARAM lParamSort)
{
    UNREFERENCED_PARAMETER(lParamSort);
return (int)(lParam1 - lParam2);
}
```

```cpp
// Sort the items by passing in the comparison function.
void CListCtrlDlg::Sort()
{
    m_myListCtrl.SortItems(&CListCtrlDlg::MyCompareProc, 0);
}
```

## <a name="sortitemsex"></a>  CListCtrl::SortItemsEx

Ordena los elementos del control de vista de lista actual utilizando una función de comparación definido por la aplicación.

```
BOOL SortItemsEx(
    PFNLVCOMPARE pfnCompare,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*pfnCompare*|[in] Dirección de la función de comparación definido por la aplicación.<br /><br /> La operación de ordenación llama a la función de comparación de cada vez que el orden relativo de dos elementos de lista debe determinarse. La función de comparación debe ser un miembro estático de una clase o una función independiente que no es un miembro de cualquier clase.|
|*dwData*|[in] Valor definido por la aplicación pasa a la función de comparación.|

### <a name="return-value"></a>Valor devuelto

TRUE si este método se realiza correctamente; en caso contrario, FALSE.

### <a name="remarks"></a>Comentarios

Este método cambia el índice de cada elemento para reflejar la nueva secuencia.

La función de comparación, *pfnCompare*, tiene el formato siguiente:

```
int CALLBACK CompareFunc(LPARAM lParam1,
    LPARAM lParam2,
    LPARAM lParamSort);
```
Este mensaje es similar a [LVM_SORTITEMS](/windows/desktop/Controls/lvm-sortitems), excepto para el tipo de información que se pasa a la función de comparación. En [LVM_SORTITEMS](/windows/desktop/Controls/lvm-sortitems), *lParam1* y *lParam2* son los valores de los elementos que se va a comparar. En [LVM_SORTITEMSEX](/windows/desktop/Controls/lvm-sortitemsex), *lParam1* es el índice actual del primer elemento para comparar y *lParam2* es el índice actual del segundo elemento. Puede enviar un [LVM_GETITEMTEXT](/windows/desktop/Controls/lvm-getitemtext) mensaje para recuperar más información sobre un elemento.

La función de comparación debe devolver un valor negativo si el primer elemento debería preceder el segundo, un valor positivo si el primer elemento que debe seguir el segundo, o cero si los dos elementos son iguales.

> [!NOTE]
>  Durante el proceso de ordenación, el contenido de la vista de lista es inestable. Si la función de devolución de llamada envía los mensajes al control de vista de lista distinto [LVM_GETITEM](/windows/desktop/Controls/lvm-getitem), los resultados son impredecibles.

Este método envía el [LVM_SORTITEMSEX](/windows/desktop/Controls/lvm-sortitemsex) mensaje, que se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

El ejemplo de código siguiente define una variable, `m_listCtrl`, que se usa para tener acceso al control de vista de lista actual. Esta variable se utiliza en el siguiente ejemplo.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se muestra el `SortItemEx` método. En una sección anterior de este ejemplo de código, creamos un control de vista de lista que muestra dos columnas tituladas "ClientID" y "Grade" en una vista de informe. En el ejemplo de código siguiente se ordena la tabla con los valores de la columna "Nivel".

```cpp
// The ListCompareFunc() method is a global function used by SortItemEx().
int CALLBACK ListCompareFunc(
                             LPARAM lParam1,
                             LPARAM lParam2,
                             LPARAM lParamSort)
{
    CListCtrl* pListCtrl = (CListCtrl*) lParamSort;
    CString    strItem1 = pListCtrl->GetItemText(static_cast<int>(lParam1), 1);
    CString    strItem2 = pListCtrl->GetItemText(static_cast<int>(lParam2), 1)
    int x1 = _tstoi(strItem1.GetBuffer());
    int x2 = _tstoi(strItem2.GetBuffer());
    int result = 0;
    if ((x1 - x2) < 0)
        result = -1;
    else if ((x1 - x2) == 0)
        result = 0;
    else
        result = 1;

    return result;
}

void CCListCtrl_s2Dlg::OnBnClickedButton1()
{
    // SortItemsEx
    m_listCtrl.SortItemsEx( ListCompareFunc, (LPARAM)&m_listCtrl );
}
```

## <a name="subitemhittest"></a>  CListCtrl::SubItemHitTest

Determina qué elemento de vista de lista, si existe, está en una posición determinada.

```
int SubItemHitTest(LPLVHITTESTINFO pInfo);
```

### <a name="parameters"></a>Parámetros

*pInfo*<br/>
Un puntero a la [LVHITTESTINFO](/windows/desktop/api/commctrl/ns-commctrl-taglvhittestinfo) estructura.

### <a name="return-value"></a>Valor devuelto

El índice basado en uno del elemento o subelemento, que se está probando (si existe) o -1 en caso contrario.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_SubItemHitTest](/windows/desktop/api/commctrl/nf-commctrl-listview_subitemhittest), tal y como se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

```cpp
void CListCtrlDlg::OnDblClk(NMHDR* pNMHDR, LRESULT* pResult)
{
    UNREFERENCED_PARAMETER(pResult);
LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;
    LVHITTESTINFO lvhti;

    // Clear the subitem text the user clicked on.
    lvhti.pt = pia->ptAction;
    m_myListCtrl.SubItemHitTest(&lvhti);

    if (lvhti.flags & LVHT_ONITEMLABEL)
    {
        m_myListCtrl.SetItemText(lvhti.iItem, lvhti.iSubItem, NULL);
    }
}
```

## <a name="update"></a>  CListCtrl::Update

Obliga al control de vista de lista para volver a dibujar el elemento especificado por *nItem*.

```
BOOL Update(int nItem);
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento que se puede actualizar.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

Esta función también organiza el control de vista de lista si tiene el estilo LVS_AUTOARRANGE.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CListCtrl::GetSelectedCount](#getselectedcount).

## <a name="see-also"></a>Vea también

[Ejemplo de MFC ROWLIST](../../visual-cpp-samples.md)<br/>
[CWnd (clase)](cwnd-class.md)<br/>
[Gráfico de jerarquías](../hierarchy-chart.md)<br/>
[CImageList (clase)](cimagelist-class.md)
