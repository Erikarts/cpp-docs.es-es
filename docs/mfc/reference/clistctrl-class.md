---
title: CListCtrl (clase)
ms.date: 06/13/2019
f1_keywords:
- CListCtrl
- AFXCMN/CListCtrl
- AFXCMN/CListCtrl::CListCtrl
- AFXCMN/CListCtrl::ApproximateViewRect
- AFXCMN/CListCtrl::Arrange
- AFXCMN/CListCtrl::CancelEditLabel
- AFXCMN/CListCtrl::Create
- AFXCMN/CListCtrl::CreateDragImage
- AFXCMN/CListCtrl::CreateEx
- AFXCMN/CListCtrl::DeleteAllItems
- AFXCMN/CListCtrl::DeleteColumn
- AFXCMN/CListCtrl::DeleteItem
- AFXCMN/CListCtrl::DrawItem
- AFXCMN/CListCtrl::EditLabel
- AFXCMN/CListCtrl::EnableGroupView
- AFXCMN/CListCtrl::EnsureVisible
- AFXCMN/CListCtrl::FindItem
- AFXCMN/CListCtrl::GetBkColor
- AFXCMN/CListCtrl::GetBkImage
- AFXCMN/CListCtrl::GetCallbackMask
- AFXCMN/CListCtrl::GetCheck
- AFXCMN/CListCtrl::GetColumn
- AFXCMN/CListCtrl::GetColumnOrderArray
- AFXCMN/CListCtrl::GetColumnWidth
- AFXCMN/CListCtrl::GetCountPerPage
- AFXCMN/CListCtrl::GetEditControl
- AFXCMN/CListCtrl::GetEmptyText
- AFXCMN/CListCtrl::GetExtendedStyle
- AFXCMN/CListCtrl::GetFirstSelectedItemPosition
- AFXCMN/CListCtrl::GetFocusedGroup
- AFXCMN/CListCtrl::GetGroupCount
- AFXCMN/CListCtrl::GetGroupInfo
- AFXCMN/CListCtrl::GetGroupInfoByIndex
- AFXCMN/CListCtrl::GetGroupMetrics
- AFXCMN/CListCtrl::GetGroupRect
- AFXCMN/CListCtrl::GetGroupState
- AFXCMN/CListCtrl::GetHeaderCtrl
- AFXCMN/CListCtrl::GetHotCursor
- AFXCMN/CListCtrl::GetHotItem
- AFXCMN/CListCtrl::GetHoverTime
- AFXCMN/CListCtrl::GetImageList
- AFXCMN/CListCtrl::GetInsertMark
- AFXCMN/CListCtrl::GetInsertMarkColor
- AFXCMN/CListCtrl::GetInsertMarkRect
- AFXCMN/CListCtrl::GetItem
- AFXCMN/CListCtrl::GetItemCount
- AFXCMN/CListCtrl::GetItemData
- AFXCMN/CListCtrl::GetItemIndexRect
- AFXCMN/CListCtrl::GetItemPosition
- AFXCMN/CListCtrl::GetItemRect
- AFXCMN/CListCtrl::GetItemSpacing
- AFXCMN/CListCtrl::GetItemState
- AFXCMN/CListCtrl::GetItemText
- AFXCMN/CListCtrl::GetNextItem
- AFXCMN/CListCtrl::GetNextItemIndex
- AFXCMN/CListCtrl::GetNextSelectedItem
- AFXCMN/CListCtrl::GetNumberOfWorkAreas
- AFXCMN/CListCtrl::GetOrigin
- AFXCMN/CListCtrl::GetOutlineColor
- AFXCMN/CListCtrl::GetSelectedColumn
- AFXCMN/CListCtrl::GetSelectedCount
- AFXCMN/CListCtrl::GetSelectionMark
- AFXCMN/CListCtrl::GetStringWidth
- AFXCMN/CListCtrl::GetSubItemRect
- AFXCMN/CListCtrl::GetTextBkColor
- AFXCMN/CListCtrl::GetTextColor
- AFXCMN/CListCtrl::GetTileInfo
- AFXCMN/CListCtrl::GetTileViewInfo
- AFXCMN/CListCtrl::GetToolTips
- AFXCMN/CListCtrl::GetTopIndex
- AFXCMN/CListCtrl::GetView
- AFXCMN/CListCtrl::GetViewRect
- AFXCMN/CListCtrl::GetWorkAreas
- AFXCMN/CListCtrl::HasGroup
- AFXCMN/CListCtrl::HitTest
- AFXCMN/CListCtrl::InsertColumn
- AFXCMN/CListCtrl::InsertGroup
- AFXCMN/CListCtrl::InsertGroupSorted
- AFXCMN/CListCtrl::InsertItem
- AFXCMN/CListCtrl::InsertMarkHitTest
- AFXCMN/CListCtrl::IsGroupViewEnabled
- AFXCMN/CListCtrl::IsItemVisible
- AFXCMN/CListCtrl::MapIDToIndex
- AFXCMN/CListCtrl::MapIndexToID
- AFXCMN/CListCtrl::MoveGroup
- AFXCMN/CListCtrl::MoveItemToGroup
- AFXCMN/CListCtrl::RedrawItems
- AFXCMN/CListCtrl::RemoveAllGroups
- AFXCMN/CListCtrl::RemoveGroup
- AFXCMN/CListCtrl::Scroll
- AFXCMN/CListCtrl::SetBkColor
- AFXCMN/CListCtrl::SetBkImage
- AFXCMN/CListCtrl::SetCallbackMask
- AFXCMN/CListCtrl::SetCheck
- AFXCMN/CListCtrl::SetColumn
- AFXCMN/CListCtrl::SetColumnOrderArray
- AFXCMN/CListCtrl::SetColumnWidth
- AFXCMN/CListCtrl::SetExtendedStyle
- AFXCMN/CListCtrl::SetGroupInfo
- AFXCMN/CListCtrl::SetGroupMetrics
- AFXCMN/CListCtrl::SetHotCursor
- AFXCMN/CListCtrl::SetHotItem
- AFXCMN/CListCtrl::SetHoverTime
- AFXCMN/CListCtrl::SetIconSpacing
- AFXCMN/CListCtrl::SetImageList
- AFXCMN/CListCtrl::SetInfoTip
- AFXCMN/CListCtrl::SetInsertMark
- AFXCMN/CListCtrl::SetInsertMarkColor
- AFXCMN/CListCtrl::SetItem
- AFXCMN/CListCtrl::SetItemCount
- AFXCMN/CListCtrl::SetItemCountEx
- AFXCMN/CListCtrl::SetItemData
- AFXCMN/CListCtrl::SetItemIndexState
- AFXCMN/CListCtrl::SetItemPosition
- AFXCMN/CListCtrl::SetItemState
- AFXCMN/CListCtrl::SetItemText
- AFXCMN/CListCtrl::SetOutlineColor
- AFXCMN/CListCtrl::SetSelectedColumn
- AFXCMN/CListCtrl::SetSelectionMark
- AFXCMN/CListCtrl::SetTextBkColor
- AFXCMN/CListCtrl::SetTextColor
- AFXCMN/CListCtrl::SetTileInfo
- AFXCMN/CListCtrl::SetTileViewInfo
- AFXCMN/CListCtrl::SetToolTips
- AFXCMN/CListCtrl::SetView
- AFXCMN/CListCtrl::SetWorkAreas
- AFXCMN/CListCtrl::SortGroups
- AFXCMN/CListCtrl::SortItems
- AFXCMN/CListCtrl::SortItemsEx
- AFXCMN/CListCtrl::SubItemHitTest
- AFXCMN/CListCtrl::Update
helpviewer_keywords:
- CListCtrl [MFC], CListCtrl
- CListCtrl [MFC], ApproximateViewRect
- CListCtrl [MFC], Arrange
- CListCtrl [MFC], CancelEditLabel
- CListCtrl [MFC], Create
- CListCtrl [MFC], CreateDragImage
- CListCtrl [MFC], CreateEx
- CListCtrl [MFC], DeleteAllItems
- CListCtrl [MFC], DeleteColumn
- CListCtrl [MFC], DeleteItem
- CListCtrl [MFC], DrawItem
- CListCtrl [MFC], EditLabel
- CListCtrl [MFC], EnableGroupView
- CListCtrl [MFC], EnsureVisible
- CListCtrl [MFC], FindItem
- CListCtrl [MFC], GetBkColor
- CListCtrl [MFC], GetBkImage
- CListCtrl [MFC], GetCallbackMask
- CListCtrl [MFC], GetCheck
- CListCtrl [MFC], GetColumn
- CListCtrl [MFC], GetColumnOrderArray
- CListCtrl [MFC], GetColumnWidth
- CListCtrl [MFC], GetCountPerPage
- CListCtrl [MFC], GetEditControl
- CListCtrl [MFC], GetEmptyText
- CListCtrl [MFC], GetExtendedStyle
- CListCtrl [MFC], GetFirstSelectedItemPosition
- CListCtrl [MFC], GetFocusedGroup
- CListCtrl [MFC], GetGroupCount
- CListCtrl [MFC], GetGroupInfo
- CListCtrl [MFC], GetGroupInfoByIndex
- CListCtrl [MFC], GetGroupMetrics
- CListCtrl [MFC], GetGroupRect
- CListCtrl [MFC], GetGroupState
- CListCtrl [MFC], GetHeaderCtrl
- CListCtrl [MFC], GetHotCursor
- CListCtrl [MFC], GetHotItem
- CListCtrl [MFC], GetHoverTime
- CListCtrl [MFC], GetImageList
- CListCtrl [MFC], GetInsertMark
- CListCtrl [MFC], GetInsertMarkColor
- CListCtrl [MFC], GetInsertMarkRect
- CListCtrl [MFC], GetItem
- CListCtrl [MFC], GetItemCount
- CListCtrl [MFC], GetItemData
- CListCtrl [MFC], GetItemIndexRect
- CListCtrl [MFC], GetItemPosition
- CListCtrl [MFC], GetItemRect
- CListCtrl [MFC], GetItemSpacing
- CListCtrl [MFC], GetItemState
- CListCtrl [MFC], GetItemText
- CListCtrl [MFC], GetNextItem
- CListCtrl [MFC], GetNextItemIndex
- CListCtrl [MFC], GetNextSelectedItem
- CListCtrl [MFC], GetNumberOfWorkAreas
- CListCtrl [MFC], GetOrigin
- CListCtrl [MFC], GetOutlineColor
- CListCtrl [MFC], GetSelectedColumn
- CListCtrl [MFC], GetSelectedCount
- CListCtrl [MFC], GetSelectionMark
- CListCtrl [MFC], GetStringWidth
- CListCtrl [MFC], GetSubItemRect
- CListCtrl [MFC], GetTextBkColor
- CListCtrl [MFC], GetTextColor
- CListCtrl [MFC], GetTileInfo
- CListCtrl [MFC], GetTileViewInfo
- CListCtrl [MFC], GetToolTips
- CListCtrl [MFC], GetTopIndex
- CListCtrl [MFC], GetView
- CListCtrl [MFC], GetViewRect
- CListCtrl [MFC], GetWorkAreas
- CListCtrl [MFC], HasGroup
- CListCtrl [MFC], HitTest
- CListCtrl [MFC], InsertColumn
- CListCtrl [MFC], InsertGroup
- CListCtrl [MFC], InsertGroupSorted
- CListCtrl [MFC], InsertItem
- CListCtrl [MFC], InsertMarkHitTest
- CListCtrl [MFC], IsGroupViewEnabled
- CListCtrl [MFC], IsItemVisible
- CListCtrl [MFC], MapIDToIndex
- CListCtrl [MFC], MapIndexToID
- CListCtrl [MFC], MoveGroup
- CListCtrl [MFC], MoveItemToGroup
- CListCtrl [MFC], RedrawItems
- CListCtrl [MFC], RemoveAllGroups
- CListCtrl [MFC], RemoveGroup
- CListCtrl [MFC], Scroll
- CListCtrl [MFC], SetBkColor
- CListCtrl [MFC], SetBkImage
- CListCtrl [MFC], SetCallbackMask
- CListCtrl [MFC], SetCheck
- CListCtrl [MFC], SetColumn
- CListCtrl [MFC], SetColumnOrderArray
- CListCtrl [MFC], SetColumnWidth
- CListCtrl [MFC], SetExtendedStyle
- CListCtrl [MFC], SetGroupInfo
- CListCtrl [MFC], SetGroupMetrics
- CListCtrl [MFC], SetHotCursor
- CListCtrl [MFC], SetHotItem
- CListCtrl [MFC], SetHoverTime
- CListCtrl [MFC], SetIconSpacing
- CListCtrl [MFC], SetImageList
- CListCtrl [MFC], SetInfoTip
- CListCtrl [MFC], SetInsertMark
- CListCtrl [MFC], SetInsertMarkColor
- CListCtrl [MFC], SetItem
- CListCtrl [MFC], SetItemCount
- CListCtrl [MFC], SetItemCountEx
- CListCtrl [MFC], SetItemData
- CListCtrl [MFC], SetItemIndexState
- CListCtrl [MFC], SetItemPosition
- CListCtrl [MFC], SetItemState
- CListCtrl [MFC], SetItemText
- CListCtrl [MFC], SetOutlineColor
- CListCtrl [MFC], SetSelectedColumn
- CListCtrl [MFC], SetSelectionMark
- CListCtrl [MFC], SetTextBkColor
- CListCtrl [MFC], SetTextColor
- CListCtrl [MFC], SetTileInfo
- CListCtrl [MFC], SetTileViewInfo
- CListCtrl [MFC], SetToolTips
- CListCtrl [MFC], SetView
- CListCtrl [MFC], SetWorkAreas
- CListCtrl [MFC], SortGroups
- CListCtrl [MFC], SortItems
- CListCtrl [MFC], SortItemsEx
- CListCtrl [MFC], SubItemHitTest
- CListCtrl [MFC], Update
ms.assetid: fe08a1ca-4b05-4ff7-a12a-ee4c765a2197
ms.openlocfilehash: c8f1b8a9ed0ca8437ba40e77b47448d1bb209d20
ms.sourcegitcommit: 3e8fa01f323bc5043a48a0c18b855d38af3648d4
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/06/2020
ms.locfileid: "78855658"
---
# <a name="clistctrl-class"></a>CListCtrl (clase)

Encapsula la funcionalidad de un "control de vista de lista", que muestra una colección de elementos cada uno de los cuales consta de un icono (de una lista de imágenes) y una etiqueta.

## <a name="syntax"></a>Sintaxis

```
class CListCtrl : public CWnd
```

## <a name="members"></a>Members

### <a name="public-constructors"></a>Constructores públicos

|Nombre|Descripción|
|----------|-----------------|
|[CListCtrl:: CListCtrl](#clistctrl)|Construye un objeto `CListCtrl`.|

### <a name="public-methods"></a>Métodos públicos

|Nombre|Descripción|
|----------|-----------------|
|[CListCtrl:: ApproximateViewRect](#approximateviewrect)|Determina el ancho y el alto necesarios para mostrar los elementos de un control de vista de lista.|
|[CListCtrl:: Arrange](#arrange)|Alinea elementos en una cuadrícula.|
|[CListCtrl:: CancelEditLabel](#canceleditlabel)|Cancela la operación de edición de texto del elemento.|
|[CListCtrl:: Create](#create)|Crea un control de lista y lo adjunta a un objeto `CListCtrl`.|
|[CListCtrl:: CreateDragImage](#createdragimage)|Crea una lista de imágenes de arrastre para un elemento especificado.|
|[CListCtrl:: CreateEx](#createex)|Crea un control de lista con los estilos extendidos de Windows especificados y lo adjunta a un objeto `CListCtrl`.|
|[CListCtrl::D eleteAllItems](#deleteallitems)|Elimina todos los elementos del control.|
|[CListCtrl::D eleteColumn](#deletecolumn)|Elimina una columna del control de vista de lista.|
|[CListCtrl::D eleteItem](#deleteitem)|Elimina un elemento del control.|
|[CListCtrl::D rawItem](#drawitem)|Se le llama cuando cambia el aspecto visual de un control dibujado por el propietario.|
|[CListCtrl:: EditLabel](#editlabel)|Comienza la edición en contexto del texto de un elemento.|
|[CListCtrl:: EnableGroupView](#enablegroupview)|Habilita o deshabilita si los elementos de un control de vista de lista se muestran como un grupo.|
|[CListCtrl:: EnsureVisible](#ensurevisible)|Garantiza que un elemento está visible.|
|[CListCtrl:: FindItem](#finditem)|Busca un elemento de vista de lista con las características especificadas.|
|[CListCtrl:: GetBkColor](#getbkcolor)|Recupera el color de fondo de un control de vista de lista.|
|[CListCtrl:: GetBkImage](#getbkimage)|Recupera la imagen de fondo actual de un control de vista de lista.|
|[CListCtrl:: GetCallbackMask](#getcallbackmask)|Recupera la máscara de devolución de llamada de un control de vista de lista.|
|[CListCtrl:: GetCheck](#getcheck)|Recupera el estado de presentación actual de la imagen de estado asociada a un elemento.|
|[CListCtrl:: Getcolumn (](#getcolumn)|Recupera los atributos de la columna de un control.|
|[CListCtrl:: GetColumnOrderArray](#getcolumnorderarray)|Recupera el orden de las columnas (de izquierda a derecha) de un control de vista de lista.|
|[CListCtrl:: GetColumnWidth](#getcolumnwidth)|Recupera el ancho de una columna en la vista de informe o la vista de lista.|
|[CListCtrl:: GetCountPerPage](#getcountperpage)|Calcula el número de elementos que pueden caber verticalmente en un control de vista de lista.|
|[CListCtrl:: GetEditControl](#geteditcontrol)|Recupera el identificador del control de edición que se usa para editar el texto de un elemento.|
|[CListCtrl:: GetEmptyText](#getemptytext)|Recupera la cadena que se va a mostrar si el control de vista de lista actual está vacío.|
|[CListCtrl:: GetExtendedStyle](#getextendedstyle)|Recupera los estilos extendidos actuales de un control de vista de lista.|
|[CListCtrl:: GetFirstSelectedItemPosition](#getfirstselecteditemposition)|Recupera la posición del primer elemento de vista de lista seleccionado en un control de vista de lista.|
|[CListCtrl:: GetFocusedGroup](#getfocusedgroup)|Recupera el grupo que tiene el foco de teclado en el control de vista de lista actual.|
|[CListCtrl:: GetGroupCount](#getgroupcount)|Recupera el número de grupos en el control de vista de lista actual.|
|[CListCtrl:: GetGroupInfo](#getgroupinfo)|Obtiene la información de un grupo especificado del control de vista de lista.|
|[CListCtrl:: GetGroupInfoByIndex](#getgroupinfobyindex)|Recupera información sobre un grupo especificado en el control de vista de lista actual.|
|[CListCtrl:: GetGroupMetrics](#getgroupmetrics)|Recupera las métricas de un grupo.|
|[CListCtrl:: GetGroupRect](#getgrouprect)|Recupera el rectángulo delimitador de un grupo especificado en el control de vista de lista actual.|
|[CListCtrl:: GetGroupState](#getgroupstate)|Recupera el estado de un grupo especificado en el control de vista de lista actual.|
|[CListCtrl:: GetHeaderCtrl](#getheaderctrl)|Recupera el control de encabezado de un control de vista de lista.|
|[CListCtrl:: GetHotCursor](#gethotcursor)|Recupera el cursor que se utiliza cuando se habilita el seguimiento activo para un control de vista de lista.|
|[CListCtrl:: GetHotItem](#gethotitem)|Recupera el elemento de vista de lista actualmente bajo el cursor.|
|[CListCtrl:: GetHoverTime](#gethovertime)|Recupera el tiempo de desplazamiento actual de un control de vista de lista.|
|[CListCtrl:: GetImageList](#getimagelist)|Recupera el identificador de una lista de imágenes utilizada para dibujar los elementos de la vista de lista.|
|[CListCtrl:: GetInsertMark](#getinsertmark)|Recupera la posición actual de la marca de inserción.|
|[CListCtrl:: GetInsertMarkColor](#getinsertmarkcolor)|Recupera el color actual de la marca de inserción.|
|[CListCtrl:: GetInsertMarkRect](#getinsertmarkrect)|Recupera el rectángulo que delimita el punto de inserción.|
|[CListCtrl:: GetItem](#getitem)|Recupera los atributos de un elemento de vista de lista.|
|[CListCtrl:: GetItemCount](#getitemcount)|Recupera el número de elementos de un control de vista de lista.|
|[CListCtrl:: GetItemData](#getitemdata)|Recupera el valor específico de la aplicación asociado a un elemento.|
|[CListCtrl:: GetItemIndexRect](#getitemindexrect)|Recupera el rectángulo delimitador para todo o parte de un subelemento en el control de vista de lista actual.|
|[CListCtrl:: GetItemPosition](#getitemposition)|Recupera la posición de un elemento de vista de lista.|
|[CListCtrl:: GetItemRect](#getitemrect)|Recupera el rectángulo delimitador de un elemento.|
|[CListCtrl:: GetItemSpacing](#getitemspacing)|Calcula el espaciado entre los elementos del control de vista de lista actual.|
|[CListCtrl:: GetItemState](#getitemstate)|Recupera el estado de un elemento de vista de lista.|
|[CListCtrl:: GetItemText](#getitemtext)|Recupera el texto de un elemento o subelemento de vista de lista.|
|[CListCtrl:: GetNextItem](#getnextitem)|Busca un elemento de vista de lista con las propiedades especificadas y con la relación especificada con un elemento determinado.|
|[CListCtrl:: GetNextItemIndex](#getnextitemindex)|Recupera el índice del elemento en el control de vista de lista actual que tiene un conjunto de propiedades especificado.|
|[CListCtrl:: GetNextSelectedItem](#getnextselecteditem)|Recupera el índice de una posición del elemento de vista de lista y la posición del siguiente elemento de vista de lista seleccionado para la iteración.|
|[CListCtrl:: GetNumberOfWorkAreas](#getnumberofworkareas)|Recupera el número actual de áreas de trabajo de un control de vista de lista.|
|[CListCtrl:: GetOrigin](#getorigin)|Recupera el origen de la vista actual para un control de vista de lista.|
|[CListCtrl:: GetOutlineColor](#getoutlinecolor)|Recupera el color del borde de un control de vista de lista.|
|[CListCtrl:: GetSelectedColumn](#getselectedcolumn)|Recupera el índice de la columna actualmente seleccionada en el control de lista.|
|[CListCtrl:: GetSelectedCount](#getselectedcount)|Recupera el número de elementos seleccionados en el control de vista de lista.|
|[CListCtrl:: GetSelectionMark](#getselectionmark)|Recupera la marca de selección de un control de vista de lista.|
|[CListCtrl:: GetStringWidth](#getstringwidth)|Determina el ancho de columna mínimo necesario para mostrar toda una cadena determinada.|
|[CListCtrl:: GetSubItemRect](#getsubitemrect)|Recupera el rectángulo delimitador de un elemento en un control de vista de lista.|
|[CListCtrl:: GetTextBkColor](#gettextbkcolor)|Recupera el color de fondo del texto de un control de vista de lista.|
|[CListCtrl:: GetTextColor](#gettextcolor)|Recupera el color del texto de un control de vista de lista.|
|[CListCtrl:: GetTileInfo](#gettileinfo)|Recupera información sobre un icono en un control de vista de lista.|
|[CListCtrl:: GetTileViewInfo](#gettileviewinfo)|Recupera información sobre un control de vista de lista en la vista de mosaico.|
|[CListCtrl:: GetToolTips](#gettooltips)|Recupera el control de información sobre herramientas que el control de vista de lista utiliza para mostrar la información sobre herramientas.|
|[CListCtrl:: GetTopIndex](#gettopindex)|Recupera el índice del elemento visible superior.|
|[CListCtrl:: GetView (](#getview)|Obtiene la vista del control de vista de lista.|
|[CListCtrl:: GetViewRect](#getviewrect)|Recupera el rectángulo delimitador de todos los elementos del control de vista de lista.|
|[CListCtrl:: GetWorkAreas](#getworkareas)|Recupera las áreas de trabajo actuales de un control de vista de lista.|
|[CListCtrl:: HasGroup](#hasgroup)|Determina si el control de vista de lista tiene el grupo especificado.|
|[CListCtrl:: HitTest](#hittest)|Determina qué elemento de vista de lista se encuentra en una posición especificada.|
|[CListCtrl:: InsertColumn](#insertcolumn)|Inserta una nueva columna en un control de vista de lista.|
|[CListCtrl:: InsertGroup](#insertgroup)|Inserta un grupo en el control de vista de lista.|
|[CListCtrl:: InsertGroupSorted](#insertgroupsorted)|Inserta el grupo especificado en una lista ordenada de grupos.|
|[CListCtrl:: InsertItem](#insertitem)|Inserta un nuevo elemento en un control de vista de lista.|
|[CListCtrl:: InsertMarkHitTest](#insertmarkhittest)|Recupera el punto de inserción más cercano a un punto especificado.|
|[CListCtrl:: IsGroupViewEnabled](#isgroupviewenabled)|Determina si la vista de grupo está habilitada para un control de vista de lista.|
|[CListCtrl:: IsItemVisible](#isitemvisible)|Indica si un elemento especificado en el control de vista de lista actual está visible.|
|[CListCtrl:: MapIDToIndex](#mapidtoindex)|Asigna el identificador único de un elemento en el control de vista de lista actual a un índice.|
|[CListCtrl:: MapIndexToID](#mapindextoid)|Asigna el índice de un elemento del control de vista de lista actual a un identificador único.|
|[CListCtrl:: MoveGroup](#movegroup)|Mueve el grupo especificado.|
|[CListCtrl:: MoveItemToGroup](#moveitemtogroup)|Mueve el grupo especificado al índice basado en cero especificado del control de vista de lista.|
|[CListCtrl:: RedrawItems](#redrawitems)|Obliga a un control de vista de lista a volver a dibujar un intervalo de elementos.|
|[CListCtrl:: RemoveAllGroups](#removeallgroups)|Quita todos los grupos de un control de vista de lista.|
|[CListCtrl:: RemoveGroup](#removegroup)|Quita el grupo especificado del control de vista de lista.|
|[CListCtrl:: scroll](#scroll)|Desplaza el contenido de un control de vista de lista.|
|[CListCtrl:: SetBkColor](#setbkcolor)|Establece el color de fondo del control de vista de lista.|
|[CListCtrl:: SetBkImage](#setbkimage)|Establece la imagen de fondo actual de un control de vista de lista.|
|[CListCtrl:: SetCallbackMask](#setcallbackmask)|Establece la máscara de devolución de llamada para un control de vista de lista.|
|[CListCtrl:: SetCheck](#setcheck)|Establece el estado de presentación actual de la imagen de estado asociada a un elemento.|
|[CListCtrl:: SetColumn](#setcolumn)|Establece los atributos de una columna de vista de lista.|
|[CListCtrl:: SetColumnOrderArray](#setcolumnorderarray)|Establece el orden de las columnas (de izquierda a derecha) de un control de vista de lista.|
|[CListCtrl:: SetColumnWidth](#setcolumnwidth)|Cambia el ancho de una columna en la vista de informe o la vista de lista.|
|[CListCtrl:: SetExtendedStyle](#setextendedstyle)|Establece los estilos extendidos actuales de un control de vista de lista.|
|[CListCtrl:: SetGroupInfo](#setgroupinfo)|Establece la información para el grupo especificado de un control de vista de lista.|
|[CListCtrl:: SetGroupMetrics](#setgroupmetrics)|Establece las métricas de grupo de un control de vista de lista.|
|[CListCtrl:: SetHotCursor](#sethotcursor)|Establece el cursor que se utiliza cuando se habilita el seguimiento activo para un control de vista de lista.|
|[CListCtrl:: SetHotItem](#sethotitem)|Establece el elemento activo actual de un control de vista de lista.|
|[CListCtrl:: SetHoverTime](#sethovertime)|Establece el tiempo de desplazamiento actual de un control de vista de lista.|
|[CListCtrl:: SetIconSpacing](#seticonspacing)|Establece el espaciado entre los iconos en un control de vista de lista.|
|[CListCtrl:: SetImageList](#setimagelist)|Asigna una lista de imágenes a un control de vista de lista.|
|[CListCtrl:: SetInfoTip](#setinfotip)|Establece el texto de la información sobre herramientas.|
|[CListCtrl:: SetInsertMark](#setinsertmark)|Establece el punto de inserción en la posición definida.|
|[CListCtrl:: SetInsertMarkColor](#setinsertmarkcolor)|Establece el color del punto de inserción.|
|[CListCtrl:: SetItem](#setitem)|Establece algunos o todos los atributos de un elemento de vista de lista.|
|[CListCtrl:: SetItemCount](#setitemcount)|Prepara un control de vista de lista para agregar un gran número de elementos.|
|[CListCtrl:: SetItemCountEx](#setitemcountex)|Establece el recuento de elementos de un control de vista de lista virtual.|
|[CListCtrl:: SetItemData](#setitemdata)|Establece el valor específico de la aplicación del elemento.|
|[CListCtrl:: SetItemIndexState](#setitemindexstate)|Establece el estado de un elemento en el control de vista de lista actual.|
|[CListCtrl:: SetItemPosition](#setitemposition)|Mueve un elemento a una posición especificada en un control de vista de lista.|
|[CListCtrl:: SetItemState](#setitemstate)|Cambia el estado de un elemento en un control de vista de lista.|
|[CListCtrl:: SetItemText](#setitemtext)|Cambia el texto de un elemento o subelemento de vista de lista.|
|[CListCtrl:: SetOutlineColor](#setoutlinecolor)|Establece el color del borde de un control de vista de lista.|
|[CListCtrl:: SetSelectedColumn](#setselectedcolumn)|Establece la columna seleccionada del control de vista de lista.|
|[CListCtrl:: SetSelectionMark](#setselectionmark)|Establece la marca de selección de un control de vista de lista.|
|[CListCtrl:: SetTextBkColor](#settextbkcolor)|Establece el color de fondo del texto en un control de vista de lista.|
|[CListCtrl:: SetTextColor](#settextcolor)|Establece el color del texto de un control de vista de lista.|
|[CListCtrl:: SetTileInfo](#settileinfo)|Establece la información de un icono del control de vista de lista.|
|[CListCtrl:: SetTileViewInfo](#settileviewinfo)|Establece la información que usa un control de vista de lista en la vista de mosaico.|
|[CListCtrl:: SetToolTips](#settooltips)|Establece el control de información sobre herramientas que el control de vista de lista usará para mostrar la información sobre herramientas.|
|[CListCtrl:: SetView](#setview)|Establece la vista del control de vista de lista.|
|[CListCtrl:: SetWorkAreas](#setworkareas)|Establece el área donde se pueden mostrar los iconos en un control de vista de lista.|
|[CListCtrl:: SortGroups](#sortgroups)|Ordena los grupos de un control de vista de lista con una función definida por el usuario.|
|[CListCtrl:: SortItems](#sortitems)|Ordena los elementos de la vista de lista mediante una función de comparación definida por la aplicación.|
|[CListCtrl:: SortItemsEx](#sortitemsex)|Ordena los elementos de la vista de lista mediante una función de comparación definida por la aplicación.|
|[CListCtrl:: SubItemHitTest](#subitemhittest)|Determina qué elemento de vista de lista, si existe, se encuentra en una posición determinada.|
|[CListCtrl:: Update](#update)|Obliga al control a volver a dibujar un elemento especificado.|

## <a name="remarks"></a>Observaciones

Además de un icono y una etiqueta, cada elemento puede tener información que se muestra en las columnas situadas a la derecha del icono y la etiqueta. Este control (y, por tanto, la clase `CListCtrl`) solo está disponible para programas que se ejecutan en Windows 95/98 y Windows NT versión 3,51 y versiones posteriores.

A continuación se encuentra una breve introducción a la clase `CListCtrl`. Para obtener una explicación detallada conceptual, vea [usar CListCtrl](../../mfc/using-clistctrl.md) y [controles](../../mfc/controls-mfc.md).

## <a name="views"></a>Vistas

Los controles de vista de lista pueden mostrar su contenido de cuatro maneras diferentes, denominadas "vistas".

- Vista de iconos

   Cada elemento aparece como un icono de tamaño completo (32 x 32 píxeles) con una etiqueta debajo. El usuario puede arrastrar los elementos a cualquier ubicación de la ventana de vista de lista.

- Vista de iconos pequeños

   Cada elemento aparece como un icono pequeño (16 x 16 píxeles) con la etiqueta a la derecha. El usuario puede arrastrar los elementos a cualquier ubicación de la ventana de vista de lista.

- Vista de lista

   Cada elemento aparece como un icono pequeño con una etiqueta a la derecha. Los elementos se organizan en columnas y no se pueden arrastrar a cualquier ubicación en la ventana vista de lista.

- Vista de informe

   Cada elemento aparece en su propia línea, con información adicional organizada en columnas a la derecha. La columna situada más a la izquierda contiene el icono y la etiqueta pequeños, y las columnas subsiguientes contienen los subelementos especificados por la aplicación. Un control de encabezado incrustado (clase [CHeaderCtrl](../../mfc/reference/cheaderctrl-class.md)) implementa estas columnas. Para obtener más información sobre el control de encabezado y las columnas de una vista de informe, vea [usar CListCtrl: Agregar columnas al control (vista de informe)](../../mfc/adding-columns-to-the-control-report-view.md).

El estilo de la vista de lista actual del control determina la vista actual. Para obtener más información sobre estos estilos y su uso, vea [usar CListCtrl: cambiar los estilos de control de lista](../../mfc/changing-list-control-styles.md).

## <a name="extended-styles"></a>Estilos extendidos

Además de los estilos de lista estándar, la clase `CListCtrl` admite un gran conjunto de estilos extendidos, lo que proporciona una funcionalidad enriquecida. Algunos ejemplos de esta funcionalidad son:

- Selección del mouse

   Cuando está habilitada, permite la selección automática de un elemento cuando el cursor permanece sobre el elemento durante un determinado período de tiempo.

- Vistas de lista virtual

   Cuando está habilitada, permite que el control admita hasta elementos DWORD. Esto es posible si se coloca la sobrecarga de administrar los datos de los elementos en la aplicación. A excepción de la selección de elementos y la información de enfoque, la aplicación debe administrar toda la información de los elementos. Para obtener más información, vea [usar CListCtrl: controles de lista virtual](../../mfc/virtual-list-controls.md).

- Activación de uno y dos clics

   Cuando está habilitada, permite el seguimiento activo (resaltado automático del texto del elemento) y la activación de uno o dos clics del elemento resaltado.

- Arrastrar y colocar el orden de las columnas

   Cuando está habilitada, permite la reordenación de las columnas en un control de vista de lista. Solo está disponible en la vista de informe.

Para obtener información sobre el uso de estos nuevos estilos extendidos, vea [usar CListCtrl: cambiar los estilos de control de lista](../../mfc/changing-list-control-styles.md).

## <a name="items-and-subitems"></a>Elementos y subelementos

Cada elemento de un control de vista de lista consta de un icono (de una lista de imágenes), una etiqueta, un estado actual y un valor definido por la aplicación (denominado "datos del elemento"). También se pueden asociar uno o varios subelementos a cada elemento. Un "subelemento" es una cadena que, en la vista de informe, se puede mostrar en una columna situada a la derecha del icono y la etiqueta de un elemento. Todos los elementos de un control de vista de lista deben tener el mismo número de subelementos.

La clase `CListCtrl` proporciona varias funciones para insertar, eliminar, buscar y modificar estos elementos. Para obtener más información, vea [CListCtrl:: GetItem](#getitem), [CListCtrl:: InsertItem](#insertitem)y [CListCtrl:: FindItem](#finditem), [Agregar elementos al control](../adding-items-to-the-control.md)y [desplazarse, organizar, ordenar y buscar en los controles de lista](../scrolling-arranging-sorting-and-finding-in-list-controls.md).

De forma predeterminada, el control de vista de lista es responsable de almacenar los atributos de texto y el icono de un elemento. Sin embargo, además de estos tipos de elemento, la clase `CListCtrl` admite "elementos de devolución de llamada". Un "elemento de devolución de llamada" es un elemento de vista de lista para el que la aplicación, en lugar del control, almacena el texto, el icono o ambos. Una máscara de devolución de llamada se usa para especificar qué atributos de elemento (texto o icono) proporciona la aplicación. Si una aplicación utiliza elementos de devolución de llamada, debe ser capaz de proporcionar el texto o los atributos de icono a petición. Los elementos de devolución de llamada son útiles cuando la aplicación ya mantiene parte de esta información. Para obtener más información, vea [usar CListCtrl: elementos de devolución de llamada y la máscara de devolución de llamada](../callback-items-and-the-callback-mask.md).

## <a name="image-lists"></a>Listas de imágenes

Los iconos, las imágenes de los elementos de encabezado y los Estados definidos por la aplicación para los elementos de vista de lista se incluyen en varias listas de imágenes (implementadas por la clase [CImageList](cimagelist-class.md)), que se crean y asignan al control de vista de lista. Cada control de vista de lista puede tener hasta cuatro tipos diferentes de listas de imágenes:

- Icono grande

   Se usa en la vista de iconos para los iconos de tamaño completo.

- Icono pequeño

   Se usa en el pequeño icono, lista y vistas de informe para las versiones más pequeñas de los iconos utilizados en la vista de iconos.

- Estado definido por la aplicación

   Contiene imágenes de estado, que se muestran al lado del icono de un elemento para indicar un estado definido por la aplicación.

- Elemento de encabezado

   Se utiliza en la vista de informe para las imágenes pequeñas que aparecen en cada elemento de control de encabezado.

De forma predeterminada, un control de vista de lista destruye las listas de imágenes que se le asignan cuando se destruye; sin embargo, el desarrollador puede personalizar este comportamiento si destruye cada lista de imágenes cuando ya no se usa, según lo determinado por la aplicación. Para obtener más información, vea [usar CListCtrl: elementos de lista y listas de imágenes](../list-items-and-image-lists.md).

## <a name="inheritance-hierarchy"></a>Jerarquía de herencia

[CObject](cobject-class.md)

[CCmdTarget](ccmdtarget-class.md)

[CWnd](cwnd-class.md)

`CListCtrl`

## <a name="requirements"></a>Requisitos

**Encabezado:** afxcmn.h

## <a name="approximateviewrect"></a>CListCtrl:: ApproximateViewRect

Determina el ancho y el alto necesarios para mostrar los elementos de un control de vista de lista.

```
CSize ApproximateViewRect(
    CSize sz = CSize(-1, -1),
    int iCount = -1) const;
```

### <a name="parameters"></a>Parámetros

*SZ*<br/>
Dimensiones propuestas del control, en píxeles. Si no se especifican las dimensiones, el marco de trabajo utiliza los valores de ancho o alto actuales del control.

*iCount*<br/>
Número de elementos que se van a mostrar en el control. Si este parámetro es-1, el marco de trabajo utiliza el número total de elementos actualmente en el control.

### <a name="return-value"></a>Valor devuelto

`CSize` objeto que contiene el ancho y el alto aproximados necesarios para mostrar los elementos, en píxeles.

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_ApproximateViewRect](/windows/win32/api/commctrl/nf-commctrl-listview_approximateviewrect), como se describe en el Windows SDK.

## <a name="arrange"></a>CListCtrl:: Arrange

Cambia la posición de los elementos en una vista de iconos para que se alineen en una cuadrícula.

```
BOOL Arrange(UINT nCode);
```

### <a name="parameters"></a>Parámetros

*nCode*<br/>
Especifica el estilo de alineación de los elementos. Puede ser uno de los siguientes valores:

- LVA_ALIGNLEFT alinea los elementos a lo largo del borde izquierdo de la ventana.

- LVA_ALIGNTOP alinea los elementos a lo largo del borde superior de la ventana.

- LVA_DEFAULT alinea los elementos según los estilos de alineación actuales de la vista de lista (el valor predeterminado).

- LVA_SNAPTOGRID ajusta todos los iconos a la posición de la cuadrícula más cercana.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

El parámetro *nCode* especifica el estilo de alineación.

### <a name="example"></a>Ejemplo

```cpp
    // Align all of the list view control items along the top
    // of the window (the list view control must be in icon or
    // small icon mode).
    m_myListCtrl.Arrange(LVA_ALIGNTOP);
```

## <a name="canceleditlabel"></a>CListCtrl:: CancelEditLabel

Cancela la operación de edición de texto del elemento.

```
void CancelEditLabel();
```

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_CANCELEDITLABEL](/windows/win32/Controls/lvm-canceleditlabel) , como se describe en el Windows SDK.

## <a name="clistctrl"></a>CListCtrl:: CListCtrl

Construye un objeto `CListCtrl`.

```
CListCtrl();
```

## <a name="create"></a>CListCtrl:: Create

Crea un control de lista y lo adjunta a un objeto `CListCtrl`.

```
virtual BOOL Create(
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Parámetros

*dwStyle*<br/>
Especifica el estilo del control de lista. Aplique cualquier combinación de estilos de control de lista al control. Vea [estilos de la ventana vista de lista](/windows/win32/Controls/list-view-window-styles) en el Windows SDK para obtener una lista completa de estos estilos. Establecer estilos extendidos específicos de un control mediante [SetExtendedStyle](#setextendedstyle).

*Rect*<br/>
Especifica el tamaño y la posición del control de lista. Puede ser un objeto `CRect` o una estructura [Rect](/previous-versions/dd162897\(v=vs.85\)) .

*pParentWnd*<br/>
Especifica la ventana primaria del control de lista, normalmente una `CDialog`. No debe ser NULL.

*nID*<br/>
Especifica el identificador del control de lista.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

Una `CListCtrl` se crea en dos pasos. En primer lugar, llame al constructor y, a continuación, llame a `Create`, que crea el control de vista de lista y lo adjunta al objeto `CListCtrl`.

Para aplicar los estilos extendidos de Windows al objeto de control de lista, llame a [CreateEx](#createex) en lugar de a `Create`.

### <a name="example"></a>Ejemplo

```cpp
    m_myListCtrl.Create(
        WS_CHILD|WS_VISIBLE|WS_BORDER|LVS_REPORT|LVS_EDITLABELS,
        CRect(10,10,400,200), pParentWnd, IDD_MYLISTCTRL);
```

## <a name="createex"></a>CListCtrl:: CreateEx

Crea un control (una ventana secundaria) y lo asocia al objeto `CListCtrl`.

```
virtual BOOL CreateEx(
    DWORD dwExStyle,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Parámetros

*dwExStyle*<br/>
Especifica el estilo extendido del control que se va a crear. Para obtener una lista de los estilos extendidos de Windows, consulte el parámetro *dwExStyle* para [CreateWindowEx](/windows/win32/api/winuser/nf-winuser-createwindowexw) en el Windows SDK.

*dwStyle*<br/>
Especifica el estilo del control de lista. Aplique cualquier combinación de estilos de control de lista al control. Para obtener una lista completa de estos estilos, vea [estilos de ventana de vista de lista](/windows/win32/Controls/list-view-window-styles) en el Windows SDK.

*Rect*<br/>
Referencia a una estructura [Rect](/previous-versions/dd162897\(v=vs.85\)) que describe el tamaño y la posición de la ventana que se va a crear, en coordenadas de cliente de *pParentWnd*.

*pParentWnd*<br/>
Puntero a la ventana que es el elemento primario del control.

*nID*<br/>
IDENTIFICADOR de la ventana de elemento secundario del control.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

Use `CreateEx` en lugar de [Create](#create) para aplicar los estilos extendidos de Windows, especificados por el **WS_EX_** de prefacio de estilo extendido de Windows.

`CreateEx` crea el control con los estilos extendidos de Windows especificados por *dwExStyle*. Para establecer estilos extendidos específicos de un control, llame a [SetExtendedStyle](#setextendedstyle). Por ejemplo, utilice `CreateEx` para establecer tales estilos como WS_EX_CONTEXTHELP, pero use `SetExtendedStyle` para establecer tales estilos como LVS_EX_FULLROWSELECT. Para obtener más información, consulte los estilos descritos en el artículo [Extended List View Styles](/windows/win32/Controls/extended-list-view-styles) en el Windows SDK.

## <a name="createdragimage"></a>CListCtrl:: CreateDragImage

Crea una lista de imágenes de arrastre para el elemento especificado por *nItem*.

```
CImageList* CreateDragImage(
    int nItem,
    LPPOINT lpPoint);
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento cuya lista de imágenes de arrastre se va a crear.

*lpPoint*<br/>
Dirección de una estructura de [punto](/previous-versions/dd162805\(v=vs.85\)) que recibe la ubicación inicial de la esquina superior izquierda de la imagen, en coordenadas de la vista.

### <a name="return-value"></a>Valor devuelto

Puntero a la lista de imágenes de arrastre si se realiza correctamente; de lo contrario, NULL.

### <a name="remarks"></a>Observaciones

El objeto `CImageList` es permanente y debe eliminarlo cuando termine. Por ejemplo:

```cpp
        CImageList* pImageList = m_myListCtrl.CreateDragImage(nItem, &point);

        // do something

        delete pImageList;
```

## <a name="deleteallitems"></a>CListCtrl::D eleteAllItems

Elimina todos los elementos del control de vista de lista.

```
BOOL DeleteAllItems();
```

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

```cpp
    // Delete all of the items from the list view control.
    m_myListCtrl.DeleteAllItems();
    ASSERT(m_myListCtrl.GetItemCount() == 0);
```

## <a name="deletecolumn"></a>CListCtrl::D eleteColumn

Elimina una columna del control de vista de lista.

```
BOOL DeleteColumn(int nCol);
```

### <a name="parameters"></a>Parámetros

*nCol*<br/>
Índice de la columna que se va a eliminar.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

```cpp
        int nColumnCount = m_myListCtrl.GetHeaderCtrl()->GetItemCount();

        // Delete all of the columns.
        for (int i=0; i < nColumnCount; i++)
        {
            m_myListCtrl.DeleteColumn(0);
        }
```

## <a name="deleteitem"></a>CListCtrl::D eleteItem

Elimina un elemento de un control de vista de lista.

```
BOOL DeleteItem(int nItem);
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Especifica el índice del elemento que se va a eliminar.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

```cpp
        int nCount = m_myListCtrl.GetItemCount();

        // Delete all of the items from the list view control.
        for (int i=0; i < nCount; i++)
        {
            m_myListCtrl.DeleteItem(0);
        }
```

## <a name="drawitem"></a>CListCtrl::D rawItem

Lo llama el marco de trabajo cuando cambia el aspecto visual de un control de vista de lista dibujado por el propietario.

```
virtual void DrawItem(LPDRAWITEMSTRUCT lpDrawItemStruct);
```

### <a name="parameters"></a>Parámetros

*lpDrawItemStruct*<br/>
Puntero largo a una estructura de `DRAWITEMSTRUCT` que contiene información sobre el tipo de dibujo necesario.

### <a name="remarks"></a>Observaciones

El miembro `itemAction` de la estructura [drawitemstruct (](/windows/win32/api/winuser/ns-winuser-drawitemstruct) define la acción de dibujo que se va a realizar.

De forma predeterminada, esta función miembro no hace nada. Invalide esta función miembro para implementar el dibujo de un objeto de `CListCtrl` dibujado por el propietario.

La aplicación debe restaurar todos los objetos de la interfaz de dispositivo gráfico (GDI) seleccionados para el contexto de presentación proporcionado en *lpDrawItemStruct* antes de que esta función miembro finalice.

## <a name="editlabel"></a>CListCtrl:: EditLabel

Comienza la edición en contexto del texto de un elemento.

```
CEdit* EditLabel(int nItem);
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento de vista de lista que se va a editar.

### <a name="return-value"></a>Valor devuelto

Si es correcto, puntero al objeto de `CEdit` que se usa para editar el texto del elemento; de lo contrario, NULL.

### <a name="remarks"></a>Observaciones

Un control de vista de lista que tiene el estilo de ventana LVS_EDITLABELS permite que un usuario edite las etiquetas de los elementos en su lugar. El usuario comienza a editar haciendo clic en la etiqueta de un elemento que tiene el foco.

Use esta función para iniciar la edición en contexto del texto del elemento de la vista de lista especificado.

### <a name="example"></a>Ejemplo

```cpp
        // Make sure the focus is set to the list view control.
        m_myListCtrl.SetFocus();

        // Show the edit control on the label of the first
        // item in the list view control.
        CEdit* pmyEdit = m_myListCtrl.EditLabel(1);
        ASSERT(pmyEdit != NULL);
```

## <a name="enablegroupview"></a>CListCtrl:: EnableGroupView

Habilita o deshabilita si los elementos de un control de vista de lista se muestran como un grupo.

```
LRESULT EnableGroupView(BOOL fEnable);
```

### <a name="parameters"></a>Parámetros

*fEnable*<br/>
Indica si se va a habilitar un control ListView para agrupar los elementos mostrados. TRUE para habilitar la agrupación; FALSE para deshabilitarlo.

### <a name="return-value"></a>Valor devuelto

Devuelve uno de los valores siguientes:

- **0** la capacidad de mostrar los elementos de la vista de lista como un grupo ya está habilitada o deshabilitada.

- **1** el estado del control se cambió correctamente.

- **-1** Error en la operación.

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_ENABLEGROUPVIEW](/windows/win32/Controls/lvm-enablegroupview) , como se describe en el Windows SDK.

## <a name="ensurevisible"></a>CListCtrl:: EnsureVisible

Garantiza que un elemento de vista de lista esté al menos parcialmente visible.

```
BOOL EnsureVisible(
    int nItem,
    BOOL bPartialOK);
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento de vista de lista que se va a ver.

*bPartialOK*<br/>
Especifica si la visibilidad parcial es aceptable.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

Si es necesario, el control de vista de lista se desplaza. Si el parámetro *bPartialOK* es distinto de cero, no se produce ningún desplazamiento si el elemento está parcialmente visible.

### <a name="example"></a>Ejemplo

```cpp
        // Ensure that the last item is visible.
        int nCount = m_myListCtrl.GetItemCount();
        if (nCount > 0)
            m_myListCtrl.EnsureVisible(nCount-1, FALSE);
```

## <a name="finditem"></a>CListCtrl:: FindItem

Busca un elemento de vista de lista con las características especificadas.

```
int FindItem(
    LVFINDINFO* pFindInfo,
    int nStart = -1) const;
```

### <a name="parameters"></a>Parámetros

*pFindInfo*<br/>
Puntero a una estructura [LVFINDINFO](/windows/win32/api/commctrl/ns-commctrl-lvfindinfow) que contiene información sobre el elemento que se va a buscar.

*Ncomenzar*<br/>
Índice del elemento en el que se va a comenzar la búsqueda, o-1 para empezar desde el principio. El elemento de *ncomenzar* se excluye de la búsqueda si *ncomenzar* no es igual a-1.

### <a name="return-value"></a>Valor devuelto

Índice del elemento si es correcto o-1 en caso contrario.

### <a name="remarks"></a>Observaciones

El parámetro *pFindInfo* apunta a una estructura `LVFINDINFO`, que contiene información que se usa para buscar un elemento de vista de lista.

### <a name="example"></a>Ejemplo

```cpp
        LVFINDINFO info;
        int nIndex;

        info.flags = LVFI_PARTIAL|LVFI_STRING;
        info.psz = _T("item");

        // Delete all of the items that begin with the string.
        while ((nIndex = m_myListCtrl.FindItem(&info)) != -1)
        {
            m_myListCtrl.DeleteItem(nIndex);
        }
```

## <a name="getbkcolor"></a>CListCtrl:: GetBkColor

Recupera el color de fondo de un control de vista de lista.

```
COLORREF GetBkColor() const;
```

### <a name="return-value"></a>Valor devuelto

Valor de 32 bits que se usa para especificar un color RGB.

### <a name="example"></a>Ejemplo

Vea el ejemplo de [CListCtrl:: SetBkColor](#setbkcolor).

## <a name="getbkimage"></a>CListCtrl:: GetBkImage

Recupera la imagen de fondo actual de un control de vista de lista.

```
BOOL GetBkImage(LVBKIMAGE* plvbkImage) const;
```

### <a name="parameters"></a>Parámetros

*plvbkImage*<br/>
Puntero a una estructura de `LVBKIMAGE` que contiene la imagen de fondo actual de la vista de lista.

### <a name="return-value"></a>Valor devuelto

Devuelve un valor distinto de cero si es correcto o cero de lo contrario.

### <a name="remarks"></a>Observaciones

Este método implementa el comportamiento de la macro de Win32, [ListView_GetBkImage](/windows/win32/api/commctrl/nf-commctrl-listview_getbkimage), como se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

```cpp
        LVBKIMAGE bki;

        // If no background image is set for the list view control use
        // the Microsoft homepage image as the background image.
        if (m_myListCtrl.GetBkImage(&bki) && (bki.ulFlags == LVBKIF_SOURCE_NONE))
        {
            m_myListCtrl.SetBkImage(
                _T("https://www.microsoft.com/library/images/gifs/homepage/microsoft.gif"),
                TRUE);
        }
```

## <a name="getcallbackmask"></a>CListCtrl:: GetCallbackMask

Recupera la máscara de devolución de llamada de un control de vista de lista.

```
UINT GetCallbackMask() const;
```

### <a name="return-value"></a>Valor devuelto

Máscara de devolución de llamada del control de vista de lista.

### <a name="remarks"></a>Observaciones

Un "elemento de devolución de llamada" es un elemento de vista de lista para el que la aplicación, en lugar del control, almacena el texto, el icono o ambos. Aunque un control de vista de lista puede almacenar estos atributos automáticamente, es posible que desee utilizar elementos de devolución de llamada si la aplicación ya mantiene parte de esta información. La máscara de devolución de llamada especifica qué bits de estado de elemento mantienen la aplicación y se aplica a todo el control en lugar de a un elemento específico. De forma predeterminada, la máscara de devolución de llamada es cero, lo que significa que el control realiza un seguimiento de todos los Estados de elemento. Si una aplicación utiliza elementos de devolución de llamada o especifica una máscara de devolución de llamada que no sea cero, debe ser capaz de proporcionar atributos de elemento de vista de lista a petición.

### <a name="example"></a>Ejemplo

Vea el ejemplo de [CListCtrl:: SetCallbackMask](#setcallbackmask).

## <a name="getcheck"></a>CListCtrl:: GetCheck

Recupera el estado de presentación actual de la imagen de estado que está asociada a un elemento.

```
BOOL GetCheck(int nItem) const;
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice de base cero de un elemento de control de lista.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si el elemento está seleccionado; de lo contrario, es 0.

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_GetCheckState](/windows/win32/api/commctrl/nf-commctrl-listview_getcheckstate), como se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

Vea el ejemplo de [CListCtrl:: SetCheck](#setcheck).

## <a name="getcolumn"></a>CListCtrl:: Getcolumn (

Recupera los atributos de la columna de un control de vista de lista.

```
BOOL GetColumn(
    int nCol,
    LVCOLUMN* pColumn) const;
```

### <a name="parameters"></a>Parámetros

*nCol*<br/>
Índice de la columna cuyos atributos se van a recuperar.

*pColumn*<br/>
Dirección de una estructura [LVCOLUMN](/windows/win32/api/commctrl/ns-commctrl-lvcolumnw) que especifica la información que se va a recuperar y recibe información sobre la columna. El miembro `mask` especifica los atributos de columna que se van a recuperar. Si el miembro `mask` especifica el valor LVCF_TEXT, el miembro `pszText` debe contener la dirección del búfer que recibe el texto del elemento y el miembro `cchTextMax` debe especificar el tamaño del búfer.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

La estructura `LVCOLUMN` contiene información sobre una columna en la vista de informe.

### <a name="example"></a>Ejemplo

```cpp
        LVCOLUMN col;

        col.mask = LVCF_WIDTH;

        // Double the column width of the first column.
        if (m_myListCtrl.GetColumn(0, &col))
        {
            col.cx *= 2;
            m_myListCtrl.SetColumn(0, &col);
        }
```

## <a name="getcolumnorderarray"></a>CListCtrl:: GetColumnOrderArray

Recupera el orden de las columnas (de izquierda a derecha) de un control de vista de lista.

```
BOOL GetColumnOrderArray(
    LPINT piArray,
    int iCount = -1);
```

### <a name="parameters"></a>Parámetros

*piArray*<br/>
Un puntero a un búfer que contendrá los valores de índice de las columnas en el control de vista de lista. El búfer debe ser lo suficientemente grande como para contener el número total de columnas en el control de vista de lista.

*iCount*<br/>
Número de columnas en el control de vista de lista. Si este parámetro es-1, el marco de trabajo recupera automáticamente el número de columnas.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_GetColumnOrderArray](/windows/win32/api/commctrl/nf-commctrl-listview_getcolumnorderarray), como se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

```cpp
        // Reverse the order of the columns in the list view control
        // (i.e. make the first column the last, the last column
        // the first, and so on...).
        CHeaderCtrl* pHeaderCtrl = m_myListCtrl.GetHeaderCtrl();

        if (pHeaderCtrl != NULL)
        {
            int  nColumnCount = pHeaderCtrl->GetItemCount();
            LPINT pnOrder = (LPINT) malloc(nColumnCount*sizeof(int));
            ASSERT(pnOrder != NULL);
            m_myListCtrl.GetColumnOrderArray(pnOrder, nColumnCount);

            int i, j, nTemp;
            for (i = 0, j = nColumnCount-1; i < j; i++, j--)
            {
                nTemp = pnOrder[i];
                pnOrder[i] = pnOrder[j];
                pnOrder[j] = nTemp;
            }

            m_myListCtrl.SetColumnOrderArray(nColumnCount, pnOrder);
            free(pnOrder);
        }
```

## <a name="getcolumnwidth"></a>CListCtrl:: GetColumnWidth

Recupera el ancho de una columna en la vista de informe o la vista de lista.

```
int GetColumnWidth(int nCol) const;
```

### <a name="parameters"></a>Parámetros

*nCol*<br/>
Especifica el índice de la columna cuyo ancho se va a recuperar.

### <a name="return-value"></a>Valor devuelto

Ancho, en píxeles, de la columna especificada por *nCol*.

### <a name="example"></a>Ejemplo

```cpp
        // Increase the column width of the second column by 20.
        int nWidth = m_myListCtrl.GetColumnWidth(1);
        m_myListCtrl.SetColumnWidth(1, 20 + nWidth);
```

## <a name="getcountperpage"></a>CListCtrl:: GetCountPerPage

Calcula el número de elementos que pueden ajustarse verticalmente en el área visible de un control de vista de lista cuando se está en la vista de lista o en la vista de informe.

```
int GetCountPerPage() const;
```

### <a name="return-value"></a>Valor devuelto

Número de elementos que pueden caber verticalmente en el área visible de un control de vista de lista cuando se está en la vista de lista o en la vista de informe.

### <a name="example"></a>Ejemplo

Vea el ejemplo de [CListCtrl:: GetTopIndex](#gettopindex).

## <a name="geteditcontrol"></a>CListCtrl:: GetEditControl

Recupera el identificador del control de edición que se usa para editar el texto de un elemento de la vista de lista.

```
CEdit* GetEditControl() const;
```

### <a name="return-value"></a>Valor devuelto

Si es correcto, un puntero al objeto [CEDIT](cedit-class.md) que se usa para editar el texto del elemento; de lo contrario, NULL.

### <a name="example"></a>Ejemplo

```cpp
        // The string replacing the text in the edit control.
        LPCTSTR lpszmyString = _T("custom label!");

        // If possible, replace the text in the label edit control.
        CEdit* pEdit = m_myListCtrl.GetEditControl();

        if (pEdit != NULL)
        {
            pEdit->SetWindowText(lpszmyString);
        }
```

## <a name="getemptytext"></a>CListCtrl:: GetEmptyText

Recupera la cadena que se va a mostrar si el control de vista de lista actual está vacío.

```
CString GetEmptyText() const;
```

### <a name="return-value"></a>Valor devuelto

[CString](../../atl-mfc-shared/reference/cstringt-class.md) que contiene el texto que se va a mostrar si el control está vacío.

### <a name="remarks"></a>Observaciones

Este método envía el mensaje de [LVM_GETEMPTYTEXT](/windows/win32/Controls/lvm-getemptytext) , que se describe en el Windows SDK.

## <a name="getextendedstyle"></a>CListCtrl:: GetExtendedStyle

Recupera los estilos extendidos actuales de un control de vista de lista.

```
DWORD GetExtendedStyle();
```

### <a name="return-value"></a>Valor devuelto

Una combinación de los estilos extendidos actualmente en uso por el control de vista de lista. Para obtener una lista descriptiva de estos estilos extendidos, consulte el artículo [Extended List View Styles](/windows/win32/Controls/extended-list-view-styles) en el Windows SDK.

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_GetExtendedListViewStyle](/windows/win32/api/commctrl/nf-commctrl-listview_getextendedlistviewstyle), como se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

Vea el ejemplo de [CListCtrl:: SetExtendedStyle](#setextendedstyle).

## <a name="getfirstselecteditemposition"></a>CListCtrl:: GetFirstSelectedItemPosition

Obtiene la posición del primer elemento seleccionado en el control de vista de lista.

```
POSITION GetFirstSelectedItemPosition() const;
```

### <a name="return-value"></a>Valor devuelto

Valor de posición que se puede utilizar para la recuperación del puntero de iteración o de objeto; ES NULL si no hay elementos seleccionados.

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se muestra el uso de esta función.

```cpp
        POSITION pos = m_myListCtrl.GetFirstSelectedItemPosition();
        if (pos == NULL)
        {
            TRACE(_T("No items were selected!\n"));
        }
        else
        {
            while (pos)
            {
                int nItem = m_myListCtrl.GetNextSelectedItem(pos);
                TRACE(_T("Item %d was selected!\n"), nItem);
                // you could do your own processing on nItem here
            }
        }
```

## <a name="getfocusedgroup"></a>CListCtrl:: GetFocusedGroup

Recupera el grupo que tiene el foco de teclado en el control de vista de lista actual.

```
int GetFocusedGroup() const;
```

### <a name="return-value"></a>Valor devuelto

Índice del grupo cuyo estado es LVGS_FOCUSED, si existe dicho grupo; de lo contrario,-1.

### <a name="remarks"></a>Observaciones

Este método envía el mensaje de [LVM_GETFOCUSEDGROUP](/windows/win32/Controls/lvm-getfocusedgroup) , que se describe en el Windows SDK. Para obtener más información, vea el valor LVGS_FOCUSED del miembro `state` de la estructura [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup) .

## <a name="getgroupcount"></a>CListCtrl:: GetGroupCount

Recupera el número de grupos en el control de vista de lista actual.

```
int GetGroupCount()const;
```

### <a name="return-value"></a>Valor devuelto

El número de grupos en el control de vista de lista.

### <a name="remarks"></a>Observaciones

Este método envía el mensaje de [LVM_GETGROUPCOUNT](/windows/win32/Controls/lvm-getgroupcount) , que se describe en el > de Windows SDK.

## <a name="getgroupinfo"></a>CListCtrl:: GetGroupInfo

Obtiene la información de un grupo especificado del control de vista de lista.

```
int GetGroupInfo(
    int iGroupId,
    PLVGROUP pgrp) const;
```

### <a name="parameters"></a>Parámetros

*iGroupId*<br/>
Identificador del grupo cuya información se va a recuperar.

*pgrp*<br/>
Puntero al [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup) que contiene información sobre el grupo especificado.

### <a name="return-value"></a>Valor devuelto

Devuelve el identificador del grupo si se realiza correctamente, o-1 en caso contrario.

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_GETGROUPINFO](/windows/win32/Controls/lvm-getgroupinfo) , como se describe en el Windows SDK.

## <a name="getgroupinfobyindex"></a>CListCtrl:: GetGroupInfoByIndex

Recupera información sobre un grupo especificado en el control de vista de lista actual.

```
BOOL GetGroupInfoByIndex(
    int iIndex,
    PLVGROUP pGroup) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*iIndex*|de Índice de base cero de un grupo.|
|*pGroup*|enuncia Puntero a una estructura [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup) que recibe información sobre el grupo especificado por el parámetro *iIndex* .<br /><br /> El autor de la llamada es responsable de inicializar los miembros de la estructura [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup) . Establezca el miembro de `cbSize` en el tamaño de la estructura y las marcas del miembro de `mask` para especificar la información que se va a recuperar.|

### <a name="return-value"></a>Valor devuelto

TRUE si este método se realiza correctamente; en caso contrario, FALSE.

### <a name="remarks"></a>Observaciones

Este método envía el mensaje de [LVM_GETGROUPINFOBYINDEX](/windows/win32/controls/lvm-getgroupinfobyindex) , que se describe en el > de Windows SDK.

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se define una variable, `m_listCtrl`, que se usa para tener acceso al control de vista de lista actual. Esta variable se utiliza en el siguiente ejemplo.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se muestra el método `GetGroupInfoByIndex`. En una sección anterior de este ejemplo de código, creamos un control de vista de lista que muestra dos columnas titulada "ClientID" y "grade" en una vista de informe. En el ejemplo de código siguiente se recupera información sobre el grupo cuyo índice es 0, si este grupo existe.
```cpp
    // GetGroupInfoByIndex
    const int GROUP_HEADER_BUFFER_SIZE = 40;

// Initialize the structure
    LVGROUP gInfo = {0};
    gInfo.cbSize = sizeof(LVGROUP);
    wchar_t wstrHeadGet[GROUP_HEADER_BUFFER_SIZE] = {0};
    gInfo.cchHeader = GROUP_HEADER_BUFFER_SIZE;
    gInfo.pszHeader = wstrHeadGet;
    gInfo.mask = (LVGF_ALIGN | LVGF_STATE | LVGF_HEADER | LVGF_GROUPID);
    gInfo.state = LVGS_NORMAL;
    gInfo.uAlign  = LVGA_HEADER_LEFT;

    BOOL bRet = m_listCtrl.GetGroupInfoByIndex( 0, &gInfo );
    if (bRet == TRUE) {
        CString strHeader = CString( gInfo.pszHeader );
        CString str;
        str.Format(_T("Header: '%s'"), strHeader);
        AfxMessageBox(str, MB_ICONINFORMATION);
    }
    else
    {
        AfxMessageBox(_T("No group information was retrieved."));
    }
```

## <a name="getgroupmetrics"></a>CListCtrl:: GetGroupMetrics

Recupera las métricas de un grupo.

```
void GetGroupMetrics(PLVGROUPMETRICS pGroupMetrics) const;
```

### <a name="parameters"></a>Parámetros

*pGroupMetrics*<br/>
Un puntero a un [LVGROUPMETRICS](/windows/win32/api/commctrl/ns-commctrl-lvgroupmetrics) que contiene la información de métricas de grupo.

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_GETGROUPMETRICS](/windows/win32/Controls/lvm-getgroupmetrics) , como se describe en el Windows SDK.

## <a name="getgrouprect"></a>CListCtrl:: GetGroupRect

Recupera el rectángulo delimitador de un grupo especificado en el control de vista de lista actual.

```
BOOL GetGroupRect(
    int iGroupId,
    LPRECT lpRect,
    int iCoords = LVGGR_GROUP) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*iGroupId*|de Especifica un grupo.|
|*lpRect*|[in, out] Puntero a una estructura [Rect](/previous-versions/dd162897\(v=vs.85\)) . Si este método se realiza correctamente, la estructura recibe las coordenadas del rectángulo del grupo especificado por *iGroupId*.|
|*iCoords*|de Especifica las coordenadas del rectángulo que se van a recuperar. Use uno de estos valores:<br /><br /> -LVGGR_GROUP: coordenadas (predeterminadas) de todo el grupo expandido.<br />-LVGGR_HEADER-coordenadas solo del encabezado (grupo contraído).<br />-LVGGR_SUBSETLINK: coordenadas solo del vínculo de subconjunto (subconjunto de marcado).|

### <a name="return-value"></a>Valor devuelto

TRUE si este método se realiza correctamente; en caso contrario, FALSE.

### <a name="remarks"></a>Observaciones

El autor de la llamada es responsable de asignar la estructura [Rect](/previous-versions/dd162897\(v=vs.85\)) señalada por el parámetro *pRect* .

Este método envía el mensaje de [LVM_GETGROUPRECT](/windows/win32/Controls/lvm-getgrouprect) , que se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se define una variable, `m_listCtrl`, que se usa para tener acceso al control de vista de lista actual. Esta variable se utiliza en el siguiente ejemplo.
```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se muestra el método `GetGroupRect`. En una sección anterior de este ejemplo de código, creamos un control de vista de lista que muestra dos columnas titulada "ClientID" y "grade" en una vista de informe. En el ejemplo de código siguiente se dibuja un rectángulo 3D alrededor del grupo cuyo índice es 0, si tal grupo existe.

```cpp
    // GetGroupRect

    // Get the graphics rectangle that surrounds group 0.
    CRect rect;
    BOOL bRet = m_listCtrl.GetGroupRect( 0, &rect, LVGGR_GROUP);
    // Draw a blue rectangle around group 0.
    if (bRet == TRUE) {
        m_listCtrl.GetDC()->Draw3dRect( &rect, RGB(0, 0, 255), RGB(0, 0, 255));
    }
    else {
        AfxMessageBox(_T("No group information was retrieved."), MB_ICONINFORMATION);
    }
```

## <a name="getgroupstate"></a>CListCtrl:: GetGroupState

Recupera el estado de un grupo especificado en el control de vista de lista actual.

```
UINT GetGroupState(
    int iGroupId,
    DWORD dwMask) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*iGroupId*|de Índice de base cero de un grupo.|
|*dwMask*|de Máscara que especifica el valor de estado que se va a recuperar para el grupo especificado. Para obtener más información, vea el `mask` miembro de la estructura [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup) .|

### <a name="return-value"></a>Valor devuelto

Estado solicitado para el grupo especificado o 0 si no se encuentra el grupo.

### <a name="remarks"></a>Observaciones

El valor devuelto es el resultado de una operación and bit a bit en el parámetro *dwMask* y el valor del miembro `state` de una estructura [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup) que representa el control de vista de lista actual.

Este método envía el mensaje de [LVM_GETGROUPSTATE](/windows/win32/Controls/lvm-getgroupstate) , que se describe en el Windows SDK. Para obtener más información, vea la macro [ListView_GetGroupState](/windows/win32/api/commctrl/nf-commctrl-listview_getgroupstate) .

## <a name="getheaderctrl"></a>CListCtrl:: GetHeaderCtrl

Recupera el control de encabezado de un control de vista de lista.

```
CHeaderCtrl* GetHeaderCtrl();
```

### <a name="return-value"></a>Valor devuelto

Puntero al control de encabezado, utilizado por el control de vista de lista.

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_GetHeader](/windows/win32/api/commctrl/nf-commctrl-listview_getheader), como se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

Vea el ejemplo de [CListCtrl:: GetColumnOrderArray](#getcolumnorderarray).

## <a name="gethotcursor"></a>CListCtrl:: GetHotCursor

Recupera el cursor que se utiliza cuando se habilita el seguimiento activo para un control de vista de lista.

```
HCURSOR GetHotCursor();
```

### <a name="return-value"></a>Valor devuelto

Identificador del recurso de cursor activo actual que usa el control de vista de lista.

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_GetHotCursor](/windows/win32/api/commctrl/nf-commctrl-listview_gethotcursor), como se describe en el Windows SDK. El cursor activo, solo visible cuando está habilitada la selección del mouse, aparece cuando el cursor pasa sobre cualquier elemento de vista de lista. La selección de mantener el mouse está habilitada estableciendo el LVS_EX_TRACKSELECT estilo extendido.

### <a name="example"></a>Ejemplo

```cpp
        // Set the hot cursor to be the system app starting cursor.
        HCURSOR hCursor = ::LoadCursor(NULL, IDC_APPSTARTING);
        m_myListCtrl.SetHotCursor(hCursor);
        ASSERT(m_myListCtrl.GetHotCursor() == hCursor);
```

## <a name="gethotitem"></a>CListCtrl:: GetHotItem

Recupera el elemento de vista de lista actualmente bajo el cursor.

```
int GetHotItem();
```

### <a name="return-value"></a>Valor devuelto

Índice del elemento activo actual del control de vista de lista.

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_GetHotItem](/windows/win32/api/commctrl/nf-commctrl-listview_gethotitem), como se describe en el Windows SDK. El elemento activo se define como el elemento seleccionado actualmente cuando está habilitado el seguimiento activo (y la selección del mouse).

Si el seguimiento activo está habilitado, cuando un usuario se detiene sobre un elemento de vista de lista, la etiqueta del elemento se resalta automáticamente sin el uso de un botón del mouse.

### <a name="example"></a>Ejemplo

```cpp
    // Set the hot item to the first item only if no other item is
    // highlighted.
    if (m_myListCtrl.GetHotItem() == -1)
        m_myListCtrl.SetHotItem(0);
```

## <a name="gethovertime"></a>CListCtrl:: GetHoverTime

Recupera el tiempo de desplazamiento actual de un control de vista de lista.

```
DWORD GetHoverTime() const;
```

### <a name="return-value"></a>Valor devuelto

Devuelve el retraso, en milisegundos, que debe mantener el cursor del mouse sobre un elemento antes de que se seleccione. Si el valor devuelto es-1, el tiempo de desplazamiento es el tiempo de desplazamiento predeterminado.

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_GetHoverTime](/windows/win32/api/commctrl/nf-commctrl-listview_gethovertime), como se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

```cpp
        // If the hover time is the default set to 1 sec.
        DWORD dwTime = m_myListCtrl.GetHoverTime();
        if (dwTime == -1)
            m_myListCtrl.SetHoverTime(1000);
```

## <a name="getimagelist"></a>CListCtrl:: GetImageList

Recupera el identificador de una lista de imágenes utilizada para dibujar los elementos de la vista de lista.

```
CImageList* GetImageList(int nImageList) const;
```

### <a name="parameters"></a>Parámetros

*nImageList*<br/>
Valor que especifica la lista de imágenes que se va a recuperar. Puede ser uno de estos valores:

- LVSIL_NORMAL lista de imágenes con iconos grandes.

- LVSIL_SMALL lista de imágenes con iconos pequeños.

- LVSIL_STATE lista de imágenes con imágenes de estado.

### <a name="return-value"></a>Valor devuelto

Puntero a la lista de imágenes que se usa para dibujar los elementos de la vista de lista.

### <a name="example"></a>Ejemplo

```cpp
        ASSERT(m_myListCtrl.GetImageList(LVSIL_NORMAL) == NULL);
        m_myListCtrl.SetImageList(&m_lcImageList, LVSIL_NORMAL);
        ASSERT(m_myListCtrl.GetImageList(LVSIL_NORMAL) == &m_lcImageList);
```

## <a name="getinsertmark"></a>CListCtrl:: GetInsertMark

Recupera la posición actual de la marca de inserción.

```
BOOL GetInsertMark(LPLVINSERTMARK plvim) const;
```

### <a name="parameters"></a>Parámetros

*plvim*<br/>
Puntero a una estructura [LVINSERTMARK](/windows/win32/api/commctrl/ns-commctrl-lvinsertmark) que contiene la información de la marca de inserción.

### <a name="return-value"></a>Valor devuelto

Devuelve TRUE si es correcto, o FALSE en caso contrario. Se devuelve FALSE si el tamaño del miembro `cbSize` de la estructura `LVINSERTMARK` no es igual que el tamaño real de la estructura.

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_GETINSERTMARK](/windows/win32/Controls/lvm-getinsertmark) , como se describe en el Windows SDK.

## <a name="getinsertmarkcolor"></a>CListCtrl:: GetInsertMarkColor

Recupera el color actual de la marca de inserción.

```
COLORREF GetInsertMarkColor() const;
```

### <a name="return-value"></a>Valor devuelto

Devuelve una estructura [COLORREF](/windows/win32/gdi/colorref) que contiene el color del punto de inserción.

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_GETINSERTMARKCOLOR](/windows/win32/Controls/lvm-getinsertmarkcolor) , como se describe en el Windows SDK.

## <a name="getinsertmarkrect"></a>CListCtrl:: GetInsertMarkRect

Recupera el rectángulo que delimita el punto de inserción.

```
int GetInsertMarkRect(LPRECT pRect) const;
```

### <a name="parameters"></a>Parámetros

*pRect*<br/>
Puntero a una estructura de `RECT` que contiene las coordenadas de un rectángulo que delimita el punto de inserción.

### <a name="return-value"></a>Valor devuelto

Devuelve uno de los valores siguientes:

- **0** no se encontró ningún punto de inserción.

- se encontró **un** punto de inserción.

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_GETINSERTMARKRECT](/windows/win32/Controls/lvm-getinsertmarkrect) , como se describe en el Windows SDK.

## <a name="getitem"></a>CListCtrl:: GetItem

Recupera algunos o todos los atributos de un elemento de vista de lista.

```
BOOL GetItem(LVITEM* pItem) const;
```

### <a name="parameters"></a>Parámetros

*pItem*<br/>
Puntero a una estructura [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) que recibe los atributos del elemento.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

La estructura `LVITEM` especifica o recibe los atributos de un elemento de vista de lista.

## <a name="getitemcount"></a>CListCtrl:: GetItemCount

Recupera el número de elementos de un control de vista de lista.

```
int GetItemCount() const;
```

### <a name="return-value"></a>Valor devuelto

Número de elementos del control de vista de lista.

### <a name="example"></a>Ejemplo

Vea el ejemplo de [CListCtrl::D eleteitem](#deleteitem).

## <a name="getitemdata"></a>CListCtrl:: GetItemData

Recupera el valor específico de la aplicación de 32 bits asociado al elemento especificado por `nItem`.

```
DWORD_PTR GetItemData(int nItem) const;
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento de lista cuyos datos se van a recuperar.

### <a name="return-value"></a>Valor devuelto

Valor específico de la aplicación de 32 bits asociado al elemento especificado.

### <a name="remarks"></a>Observaciones

Este valor es el miembro de `lParam` de la estructura [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) , como se describe en el Windows SDK

### <a name="example"></a>Ejemplo

```cpp
    // If any item's data is equal to zero then reset it to -1.
    for (int i=0; i < m_myListCtrl.GetItemCount(); i++)
    {
        if (m_myListCtrl.GetItemData(i) == 0)
        {
            m_myListCtrl.SetItemData(i, (DWORD) -1);
        }
    }
```

## <a name="getitemindexrect"></a>CListCtrl:: GetItemIndexRect

Recupera el rectángulo delimitador para todo o parte de un subelemento en el control de vista de lista actual.

```
BOOL GetItemIndexRect(
    PLVITEMINDEX pItemIndex,
    int iColumn,
    int rectType,
    LPRECT pRect) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*pItemIndex*|de Puntero a una estructura [LVITEMINDEX](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) para el elemento primario del subelemento.<br /><br /> El autor de la llamada es responsable de asignar y establecer los miembros de la estructura [LVITEMINDEX](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) . Este parámetro no puede ser NULL.|
|*iColumn*|de Índice de base cero de una columna del control.|
|*rectType*|de Parte del subelemento de vista de lista para el que se recupera el rectángulo delimitador. Especifique uno de los valores siguientes:<br /><br /> LVIR_BOUNDS: devuelve el rectángulo delimitador del subelemento completo, incluido el icono y la etiqueta.<br /><br /> LVIR_ICON: devuelve el rectángulo delimitador del icono o el icono pequeño del subelemento.<br /><br /> LVIR_LABEL: devuelve el rectángulo delimitador del texto del subelemento.|
|*pRect*|enuncia Puntero a una estructura [Rect](/previous-versions/dd162897\(v=vs.85\)) que recibe información sobre el rectángulo delimitador del subelemento.<br /><br /> El autor de la llamada es responsable de la asignación de la estructura [Rect](/previous-versions/dd162897\(v=vs.85\)) . Este parámetro no puede ser NULL.|

### <a name="return-value"></a>Valor devuelto

TRUE si este método se realiza correctamente; en caso contrario, FALSE.

### <a name="remarks"></a>Observaciones

Este método envía el mensaje de [LVM_GETITEMINDEXRECT](/windows/win32/Controls/lvm-getitemindexrect) , que se describe en el Windows SDK. Para obtener más información, vea [ListView_GetItemIndexRect macro](/windows/win32/api/commctrl/nf-commctrl-listview_getitemindexrect).

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se define una variable, `m_listCtrl`, que se usa para tener acceso al control de vista de lista actual. Esta variable se utiliza en el siguiente ejemplo.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se muestra el método `GetGroupRect`. Antes de escribir este ejemplo de código, creamos un control de vista de lista que muestra dos columnas titulada "ClientID" y "grade" en una vista de informe. En el ejemplo de código siguiente se dibuja un rectángulo 3D alrededor del segundo subelemento de ambas columnas.

```cpp
    // GetItemIndexRect
    // Get the rectangle that bounds the second item in the first group.
    LVITEMINDEX lvItemIndex;
    lvItemIndex.iGroup = 0;
    lvItemIndex.iItem = 1;
    CRect rect;
    BOOL bRet = m_listCtrl.GetItemIndexRect(
        &lvItemIndex, 0, LVIR_BOUNDS, &rect);

    // Draw a red rectangle around the item.
    m_listCtrl.GetDC()->Draw3dRect( &rect, RGB(255, 0, 0), RGB(255, 0, 0) );
```

## <a name="getitemposition"></a>CListCtrl:: GetItemPosition

Recupera la posición de un elemento de vista de lista.

```
BOOL GetItemPosition(
    int nItem,
    LPPOINT lpPoint) const;
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento cuya posición se va a recuperar.

*lpPoint*<br/>
Dirección de una estructura de [punto](/previous-versions/dd162805\(v=vs.85\)) que recibe la posición de la esquina superior izquierda del elemento, en coordenadas de la vista.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

```cpp
        POINT pt;

        // Move all items in the list control 100 pixels to the right.
        UINT i, nCount = m_myListCtrl.GetItemCount();

        for (i=0; i < nCount; i++)
        {
            m_myListCtrl.GetItemPosition(i, &pt);
            pt.x += 100;
            m_myListCtrl.SetItemPosition(i, pt);
        }
```

## <a name="getitemrect"></a>CListCtrl:: GetItemRect

Recupera el rectángulo delimitador para todo o parte de un elemento de la vista actual.

```
BOOL GetItemRect(
    int nItem,
    LPRECT lpRect,
    UINT nCode) const;
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento cuya posición se va a recuperar.

*lpRect*<br/>
Dirección de una estructura [Rect](/previous-versions/dd162897\(v=vs.85\)) que recibe el rectángulo delimitador.

*nCode*<br/>
Parte del elemento de vista de lista para el que se va a recuperar el rectángulo delimitador. Puede ser uno de estos valores:

- LVIR_BOUNDS devuelve el rectángulo delimitador del elemento completo, incluido el icono y la etiqueta.

- LVIR_ICON devuelve el rectángulo delimitador del icono o el icono pequeño.

- LVIR_LABEL devuelve el rectángulo delimitador del texto del elemento.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

```cpp
// OnClick is the handler for the NM_CLICK notification
void CListCtrlDlg::OnClick(NMHDR* pNMHDR, LRESULT* pResult)
{
    UNREFERENCED_PARAMETER(pResult);
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;

    // Get the current mouse location and convert it to client
    // coordinates.
    CPoint pos( ::GetMessagePos() );
    ScreenToClient(&pos);

    // Get indexes of the first and last visible items in
    // the listview control.
    int index = m_myListCtrl.GetTopIndex();
    int last_visible_index = index + m_myListCtrl.GetCountPerPage();
    if (last_visible_index > m_myListCtrl.GetItemCount())
        last_visible_index = m_myListCtrl.GetItemCount();

    // Loop until number visible items has been reached.
    while (index <= last_visible_index)
    {
        // Get the bounding rectangle of an item. If the mouse
        // location is within the bounding rectangle of the item,
        // you know you have found the item that was being clicked.
        CRect r;
        m_myListCtrl.GetItemRect(index, &r, LVIR_BOUNDS);
        if (r.PtInRect(pia->ptAction))
        {
            UINT flag = LVIS_SELECTED | LVIS_FOCUSED;
            m_myListCtrl.SetItemState(index, flag, flag);
            break;
        }

        // Get the next item in listview control.
        index++;
    }
}
```

## <a name="getitemspacing"></a>CListCtrl:: GetItemSpacing

Calcula el espaciado entre los elementos del control de vista de lista actual.

```
BOOL GetItemSpacing(
    BOOL fSmall,
    int* pnHorzSpacing,
    int* pnVertSpacing) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*fSmall*|de Vista para la que se va a recuperar el espaciado del elemento. Especifique TRUE para la vista de iconos pequeños o FALSE para la vista de iconos.|
|*pnHorzSpacing*|enuncia Contiene el espaciado horizontal entre los elementos.|
|*pnVertSpacing*|enuncia Contiene el espaciado vertical entre los elementos.|

### <a name="return-value"></a>Valor devuelto

TRUE si este método se realiza correctamente; en caso contrario, FALSE.

### <a name="remarks"></a>Observaciones

Este método envía el mensaje de [LVM_GETITEMSPACING](/windows/win32/Controls/lvm-getitemspacing) , que se describe en el Windows SDK.

## <a name="getitemstate"></a>CListCtrl:: GetItemState

Recupera el estado de un elemento de vista de lista.

```
UINT GetItemState(
    int nItem,
    UINT nMask) const;
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento cuyo estado se va a recuperar.

*nMask*<br/>
Máscara que especifica la marca de estado del elemento que se va a devolver.

### <a name="return-value"></a>Valor devuelto

Marcas de estado para el elemento de vista de lista especificado.

### <a name="remarks"></a>Observaciones

El estado de un elemento se especifica mediante el `state` miembro de la estructura [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) , tal y como se describe en el Windows SDK. Al especificar o cambiar el estado de un elemento, el miembro `stateMask` especifica qué bits de estado desea cambiar.

### <a name="example"></a>Ejemplo

Vea el ejemplo de [CListCtrl:: GetTopIndex](#gettopindex).

## <a name="getitemtext"></a>CListCtrl:: GetItemText

Recupera el texto de un elemento o subelemento de vista de lista.

```
int GetItemText(
    int nItem,
    int nSubItem,
    LPTSTR lpszText,
    int nLen) const;

CString GetItemText(
    int nItem,
    int nSubItem) const;
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento cuyo texto se va a recuperar.

*nSubItem*<br/>
Especifica el subelemento cuyo texto se va a recuperar.

*lpszText*<br/>
Puntero a una cadena que va a recibir el texto del elemento.

*nLen*<br/>
Longitud del búfer al que apunta *lpszText*.

### <a name="return-value"></a>Valor devuelto

La versión que devuelve **int** devuelve la longitud de la cadena recuperada.

La versión que devuelve un `CString` devuelve el texto del elemento.

### <a name="remarks"></a>Observaciones

Si *nSubItem* es cero, esta función recupera la etiqueta del elemento. Si *nSubItem* es distinto de cero, recupera el texto del subelemento. Para obtener más información sobre el argumento SubItem, vea la explicación de la estructura [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) en el Windows SDK.

## <a name="getnextitem"></a>CListCtrl:: GetNextItem

Busca un elemento de vista de lista que tiene las propiedades especificadas y que llevan la relación especificada a un elemento determinado.

```
int GetNextItem(
    int nItem,
    int nFlags) const;
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento en el que se va a comenzar la búsqueda, o-1 para buscar el primer elemento que coincida con las marcas especificadas. El elemento especificado en sí se excluye de la búsqueda.

*nFlags*<br/>
Relación geométrica del elemento solicitado con el elemento especificado y el estado del elemento solicitado. La relación geométrica puede ser uno de estos valores:

- LVNI_ABOVE busca un elemento que está por encima del elemento especificado.

- LVNI_ALL busca un elemento subsiguiente por índice (el valor predeterminado).

- LVNI_BELOW busca un elemento que está por debajo del elemento especificado.

- LVNI_TOLEFT busca un elemento a la izquierda del elemento especificado.

- LVNI_TORIGHT busca un elemento a la derecha del elemento especificado.

El estado puede ser cero o puede ser uno o varios de estos valores:

- LVNI_DROPHILITED el elemento tiene establecida la marca de estado LVIS_DROPHILITED.

- LVNI_FOCUSED el elemento tiene establecida la marca de estado LVIS_FOCUSED.

- LVNI_SELECTED el elemento tiene establecida la marca de estado LVIS_SELECTED.

Si un elemento no tiene todas las marcas de estado especificadas establecidas, la búsqueda continúa con el elemento siguiente.

### <a name="return-value"></a>Valor devuelto

Índice del siguiente elemento si se realiza correctamente, o-1 en caso contrario.

## <a name="getnextitemindex"></a>CListCtrl:: GetNextItemIndex

Recupera el índice del elemento en el control de vista de lista actual que tiene un conjunto de propiedades especificado.

```
BOOL GetNextItemIndex(
    PLVITEMINDEX pItemIndex,
    int nFlags) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*pItemIndex*|[in, out] Puntero a la estructura [LVITEMINDEX](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) que describe el elemento en el que comienza la búsqueda o-1 para buscar el primer elemento que coincida con las marcas del parámetro *nFlags* .<br /><br /> Si este método se realiza correctamente, la estructura de `LVITEMINDEX` describe el elemento encontrado en la búsqueda.|
|*nFlags*|de Combinación bit a bit (o) de marcas que especifican cómo realizar la búsqueda.<br /><br /> La búsqueda puede depender del índice, el estado o la apariencia del elemento de destino, o la posición física del elemento de destino en relación con el elemento especificado por el parámetro *pItemIndex* . Para obtener más información, vea el parámetro *Flags* en el mensaje de [LVM_GETNEXTITEMINDEX](/windows/win32/controls/lvm-getnextitemindex) .|

### <a name="return-value"></a>Valor devuelto

TRUE si este método se realiza correctamente; en caso contrario, FALSE.

### <a name="remarks"></a>Observaciones

El autor de la llamada es responsable de asignar y establecer los miembros de la estructura `LVITEMINDEX` señalada por el parámetro *pItemIndex* .

Este método envía el mensaje de [LVM_GETNEXTITEMINDEX](/windows/win32/controls/lvm-getnextitemindex) , que se describe en el Windows SDK.

## <a name="getnextselecteditem"></a>CListCtrl:: GetNextSelectedItem

Obtiene el índice del elemento de lista identificado por *PDV*y, a continuación, establece el *PDV* en el valor de posición.

```
int GetNextSelectedItem(POSITION& pos) const;
```

### <a name="parameters"></a>Parámetros

*pos*<br/>
Referencia a un valor de posición devuelto por una llamada anterior a `GetNextSelectedItem` o `GetFirstSelectedItemPosition`. Esta llamada actualiza el valor a la posición siguiente.

### <a name="return-value"></a>Valor devuelto

Índice del elemento de lista identificado por *pos*.

### <a name="remarks"></a>Observaciones

Puede usar `GetNextSelectedItem` en un bucle de iteración hacia delante si establece la posición inicial con una llamada a `GetFirstSelectedItemPosition`.

Debe asegurarse de que el valor de la posición es válido. Si no es válido, la versión de depuración del biblioteca MFC valida.

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se muestra el uso de esta función.

```cpp
        POSITION pos = m_myListCtrl.GetFirstSelectedItemPosition();
        if (pos == NULL)
        {
            TRACE(_T("No items were selected!\n"));
        }
        else
        {
            while (pos)
            {
                int nItem = m_myListCtrl.GetNextSelectedItem(pos);
                TRACE(_T("Item %d was selected!\n"), nItem);
                // you could do your own processing on nItem here
            }
        }
```

## <a name="getnumberofworkareas"></a>CListCtrl:: GetNumberOfWorkAreas

Recupera el número actual de áreas de trabajo de un control de vista de lista.

```
UINT GetNumberOfWorkAreas() const;
```

### <a name="return-value"></a>Valor devuelto

No se usa en este momento.

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_GetNumberOfWorkAreas](/windows/win32/api/commctrl/nf-commctrl-listview_getnumberofworkareas), como se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

```cpp
        UINT i, uCount = m_myListCtrl.GetNumberOfWorkAreas();
        LPRECT lpRects = (LPRECT) malloc(uCount*sizeof(RECT));

        if (lpRects != NULL)
        {
            // Dump all of the work area dimensions.
            m_myListCtrl.GetWorkAreas(uCount, lpRects);

            for (i=0; i < uCount; i++)
            {
                TRACE(_T("Work area %d; left = %d, top = %d, right = %d, ")
                    _T("bottom = %d\r\n"),
                    i, lpRects[i].left, lpRects[i].top, lpRects[i].right,
                    lpRects[i].bottom);
            }

            free(lpRects);
        }
        else
        {
            TRACE(_T("Couldn't allocate enough memory!"));
        }
```

## <a name="getoutlinecolor"></a>CListCtrl:: GetOutlineColor

Recupera el color del borde de un control de vista de lista.

```
COLORREF GetOutlineColor() const;
```

### <a name="return-value"></a>Valor devuelto

Devuelve una estructura [COLORREF](/windows/win32/gdi/colorref) que contiene el color del contorno.

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_GETOUTLINECOLOR](/windows/win32/Controls/lvm-getoutlinecolor) , como se describe en el Windows SDK.

## <a name="getorigin"></a>CListCtrl:: GetOrigin

Recupera el origen de la vista actual para un control de vista de lista.

```
BOOL GetOrigin(LPPOINT lpPoint) const;
```

### <a name="parameters"></a>Parámetros

*lpPoint*<br/>
Dirección de una estructura de [punto](/previous-versions/dd162805\(v=vs.85\)) que recibe el origen de la vista.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero. Sin embargo, si el control está en la vista de informe, el valor devuelto siempre es cero.

## <a name="getselectedcolumn"></a>CListCtrl:: GetSelectedColumn

Recupera el índice de la columna actualmente seleccionada en el control de lista.

```
UINT GetSelectedColumn() const;
```

### <a name="return-value"></a>Valor devuelto

Índice de la columna seleccionada.

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_GETSELECTEDCOLUMN](/windows/win32/Controls/lvm-getselectedcolumn) , como se describe en el Windows SDK.

## <a name="getselectedcount"></a>CListCtrl:: GetSelectedCount

Recupera el número de elementos seleccionados en el control de vista de lista.

```
UINT GetSelectedCount() const;
```

### <a name="return-value"></a>Valor devuelto

Número de elementos seleccionados en el control de vista de lista.

### <a name="example"></a>Ejemplo

```cpp
        UINT i, uSelectedCount = m_myListCtrl.GetSelectedCount();
        int  nItem = -1;

        // Update all of the selected items.
        if (uSelectedCount > 0)
        {
            for (i=0; i < uSelectedCount; i++)
            {
                nItem = m_myListCtrl.GetNextItem(nItem, LVNI_SELECTED);
                ASSERT(nItem != -1);
                m_myListCtrl.Update(nItem);
            }
        }
```

## <a name="getselectionmark"></a>CListCtrl:: GetSelectionMark

Recupera la marca de selección de un control de vista de lista.

```
int GetSelectionMark();
```

### <a name="return-value"></a>Valor devuelto

Marca de selección de base cero, o-1 si no hay ninguna marca de selección.

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_GetSelectionMark](/windows/win32/api/commctrl/nf-commctrl-listview_getselectionmark), como se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

```cpp
    // Set the selection mark to the first item only if no other item is
    // selected.
    if (m_myListCtrl.GetSelectionMark() == -1)
        m_myListCtrl.SetSelectionMark(0);
```

## <a name="getstringwidth"></a>CListCtrl:: GetStringWidth

Determina el ancho de columna mínimo necesario para mostrar toda una cadena determinada.

```
int GetStringWidth(LPCTSTR lpsz) const;
```

### <a name="parameters"></a>Parámetros

*lpsz*<br/>
Dirección de una cadena terminada en NULL cuyo ancho se va a determinar.

### <a name="return-value"></a>Valor devuelto

Ancho, en píxeles, de la cadena a la que apunta *lpsz*.

### <a name="remarks"></a>Observaciones

El ancho devuelto tiene en cuenta los márgenes de fuente y columna actuales del control, pero no el ancho de un icono pequeño.

### <a name="example"></a>Ejemplo

```cpp
        CString strColumn;
        int nWidth;

        // Insert six columns in the list view control. Make the width of
        // the column be the width of the column header plus 50%.
        for (int i = 0; i < 6; i++)
        {
            strColumn.Format(_T("column %d"), i);
            nWidth = 3*m_myListCtrl.GetStringWidth(strColumn)/2;
            m_myListCtrl.InsertColumn(i, strColumn, LVCFMT_LEFT, nWidth);
        }
```

## <a name="getsubitemrect"></a>CListCtrl:: GetSubItemRect

Recupera el rectángulo delimitador de un elemento en un control de vista de lista.

```
BOOL GetSubItemRect(
    int iItem,
    int iSubItem,
    int nArea,
    CRect& ref);
```

### <a name="parameters"></a>Parámetros

*iItem*<br/>
Índice del elemento primario del subelemento.

*iSubItem*<br/>
Índice de base uno del subelemento.

*nArea*<br/>
Determina la parte del rectángulo delimitador (del subelemento de vista de lista) que se va a recuperar. La parte (icono, etiqueta o ambos) del rectángulo delimitador se especifica aplicando el operador OR bit a bit a uno o varios de los valores siguientes:

- LVIR_BOUNDS devuelve el rectángulo delimitador del elemento completo, incluido el icono y la etiqueta.

- LVIR_ICON devuelve el rectángulo delimitador del icono o el icono pequeño.

- LVIR_LABEL devuelve el rectángulo delimitador del elemento completo, incluido el icono y la etiqueta. Es idéntico a LVIR_BOUNDS.

*ref*<br/>
Referencia a un objeto [CRect](../../atl-mfc-shared/reference/crect-class.md) que contiene las coordenadas del rectángulo delimitador del subelemento.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_GetSubItemRect](/windows/win32/api/commctrl/nf-commctrl-listview_getsubitemrect), como se describe en el Windows SDK.

## <a name="gettextbkcolor"></a>CListCtrl:: GetTextBkColor

Recupera el color de fondo del texto de un control de vista de lista.

```
COLORREF GetTextBkColor() const;
```

### <a name="return-value"></a>Valor devuelto

Valor de 32 bits que se usa para especificar un color RGB.

### <a name="example"></a>Ejemplo

Vea el ejemplo de [CListCtrl:: SetTextBkColor](#settextbkcolor).

## <a name="gettextcolor"></a>CListCtrl:: GetTextColor

Recupera el color del texto de un control de vista de lista.

```
COLORREF GetTextColor() const;
```

### <a name="return-value"></a>Valor devuelto

Valor de 32 bits que se usa para especificar un color RGB.

### <a name="example"></a>Ejemplo

Vea el ejemplo de [CListCtrl:: SetTextColor](#settextcolor).

## <a name="gettileinfo"></a>CListCtrl:: GetTileInfo

Recupera información sobre un icono en un control de vista de lista.

```
BOOL GetTileInfo(PLVTILEINFO plvti) const;
```

### <a name="parameters"></a>Parámetros

*plvti*<br/>
Puntero a una estructura [LVTILEINFO](/windows/win32/api/commctrl/ns-commctrl-lvtileinfo) que recibe la información del icono.

### <a name="return-value"></a>Valor devuelto

No se utiliza el valor devuelto.

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_GETTILEINFO](/windows/win32/Controls/lvm-gettileinfo) , como se describe en el Windows SDK.

## <a name="gettileviewinfo"></a>CListCtrl:: GetTileViewInfo

Recupera información sobre un control de vista de lista en la vista de mosaico.

```
BOOL GetTileViewInfo(PLVTILEVIEWINFO ptvi) const;
```

### <a name="parameters"></a>Parámetros

*ptvi*<br/>
Puntero a una estructura [LVTILEVIEWINFO](/windows/win32/api/commctrl/ns-commctrl-lvtileviewinfo) que recibe la información recuperada.

### <a name="return-value"></a>Valor devuelto

No se utiliza el valor devuelto.

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_GETTILEVIEWINFO](/windows/win32/Controls/lvm-gettileviewinfo) , como se describe en el Windows SDK.

## <a name="gettooltips"></a>CListCtrl:: GetToolTips

Recupera el control de información sobre herramientas que el control de vista de lista utiliza para mostrar la información sobre herramientas.

```
CToolTipCtrl* GetToolTips() const;
```

### <a name="return-value"></a>Valor devuelto

Un puntero a un objeto [CToolTipCtrl](ctooltipctrl-class.md) que va a usar el control de lista. Si la función miembro [Create](#create) usa el estilo LVS_NOTOOLTIPS, no se utiliza ninguna información sobre herramientas y se devuelve NULL.

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento del [LVM_GETTOOLTIPS](/windows/win32/Controls/lvm-gettooltips)de mensajes de Win32, como se describe en el Windows SDK. La implementación de MFC de `GetToolTips` devuelve un objeto `CToolTipCtrl`, que es utilizado por el control de lista, en lugar de un identificador a un control ToolTip.

### <a name="example"></a>Ejemplo

```cpp
        CToolTipCtrl* pTip = m_myListCtrl.GetToolTips();
        if (NULL != pTip)
        {
            pTip->UpdateTipText(_T("I'm a list view!"), &m_myListCtrl,
                IDD_MYLISTCTRL);
        }
```

## <a name="gettopindex"></a>CListCtrl:: GetTopIndex

Recupera el índice del elemento visible superior en la vista de lista o la vista de informe.

```
int GetTopIndex() const;
```

### <a name="return-value"></a>Valor devuelto

Índice del elemento visible superior.

### <a name="example"></a>Ejemplo

```cpp
        // Make sure the focus is set to the list view control.
        m_myListCtrl.SetFocus();

        // Select all of the items that are completely visible.
        int n = m_myListCtrl.GetTopIndex();
        int nLast = n + m_myListCtrl.GetCountPerPage();

        for (; n < nLast; n++)
        {
            m_myListCtrl.SetItemState(n, LVIS_SELECTED, LVIS_SELECTED);
            ASSERT(m_myListCtrl.GetItemState(n, LVIS_SELECTED) == LVIS_SELECTED);
        }
```

## <a name="getview"></a>CListCtrl:: GetView (

Obtiene la vista del control de vista de lista.

```
DWORD GetView() const;
```

### <a name="return-value"></a>Valor devuelto

Vista actual del control de vista de lista.

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_GETVIEW](/windows/win32/Controls/lvm-getview) , como se describe en el Windows SDK.

## <a name="getviewrect"></a>CListCtrl:: GetViewRect

Recupera el rectángulo delimitador de todos los elementos del control de vista de lista.

```
BOOL GetViewRect(LPRECT lpRect) const;
```

### <a name="parameters"></a>Parámetros

*lpRect*<br/>
Dirección de una estructura [Rect](/previous-versions/dd162897\(v=vs.85\)) .

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

La vista de lista debe estar en la vista de iconos o en la vista de iconos pequeños.

## <a name="getworkareas"></a>CListCtrl:: GetWorkAreas

Recupera las áreas de trabajo actuales de un control de vista de lista.

```
void GetWorkAreas(
    int nWorkAreas,
    LPRECT pRect) const;
```

### <a name="parameters"></a>Parámetros

*nWorkAreas*<br/>
El número de estructuras `RECT` contenidas en la matriz *pRect* .

*pRect*<br/>
Puntero a una matriz de `RECT` estructuras (u objetos [CRect](../../atl-mfc-shared/reference/crect-class.md) ) que reciben las áreas de trabajo del control de vista de lista. Los valores de estas estructuras se encuentran en coordenadas de cliente.

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_GetWorkAreas](/windows/win32/api/commctrl/nf-commctrl-listview_getworkareas), como se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

Vea el ejemplo de [CListCtrl:: GetNumberOfWorkAreas](#getnumberofworkareas).

## <a name="hasgroup"></a>CListCtrl:: HasGroup

Determina si el control de vista de lista tiene el grupo especificado.

```
BOOL HasGroup(int iGroupId) const;
```

### <a name="parameters"></a>Parámetros

*iGroupId*<br/>
Identificador del grupo que se solicita.

### <a name="return-value"></a>Valor devuelto

Devuelve TRUE si es correcto, FALSE en caso de error.

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_HASGROUP](/windows/win32/Controls/lvm-hasgroup) , como se describe en el Windows SDK.

## <a name="hittest"></a>CListCtrl:: HitTest

Determina qué elemento de vista de lista se encuentra en una posición especificada, si existe.

```
int HitTest(LVHITTESTINFO* pHitTestInfo) const;

int HitTest(
    CPoint pt,
    UINT* pFlags = NULL) const;
```

### <a name="parameters"></a>Parámetros

*pHitTestInfo*<br/>
Dirección de una estructura de `LVHITTESTINFO` que contiene la posición para la prueba de posicionamiento y que recibe información sobre los resultados de la prueba de posicionamiento.

*pt*<br/>
Punto que se va a probar.

*pFlags*<br/>
Puntero a un entero que recibe información sobre los resultados de la prueba. Vea la explicación del miembro `flags` de la estructura [LVHITTESTINFO](/windows/win32/api/commctrl/ns-commctrl-lvhittestinfo) en el Windows SDK.

### <a name="return-value"></a>Valor devuelto

El índice del elemento en la posición especificada por *pHitTestInfo*, si existe, o-1 en caso contrario.

### <a name="remarks"></a>Observaciones

Puede usar los valores LVHT_ABOVE, LVHT_BELOW, LVHT_TOLEFT y LVHT_TORIGHT del miembro `flag` de la estructura para determinar si se va a desplazar el contenido de un control de vista de lista. Se pueden combinar dos de estas marcas, por ejemplo, si la posición está por encima y a la izquierda del área cliente.

Puede comprobar el valor LVHT_ONITEM del miembro `flag` de la estructura para determinar si una posición determinada está sobre un elemento de vista de lista. Este valor es una operación OR bit a bit en los valores LVHT_ONITEMICON, LVHT_ONITEMLABEL y LVHT_ONITEMSTATEICON del miembro `flag` de la estructura.

### <a name="example"></a>Ejemplo

```cpp
void CListCtrlDlg::OnRClick(NMHDR* pNMHDR, LRESULT* pResult)
{
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;
    CPoint point(pia->ptAction);

    // Select the item the user clicked on.
    UINT uFlags;
    int nItem = m_myListCtrl.HitTest(point, &uFlags);

    if (uFlags & LVHT_ONITEMLABEL)
    {
        m_myListCtrl.SetItem(nItem, 0, LVIF_STATE, NULL, 0, LVIS_SELECTED,
            LVIS_SELECTED, 0);
    }

    *pResult = 0;
}
```

## <a name="insertcolumn"></a>CListCtrl:: InsertColumn

Inserta una nueva columna en un control de vista de lista.

```
int InsertColumn(
    int nCol,
    const LVCOLUMN* pColumn);

int InsertColumn(
    int nCol,
    LPCTSTR lpszColumnHeading,
    int nFormat = LVCFMT_LEFT,
    int nWidth = -1,
    int nSubItem = -1);
```

### <a name="parameters"></a>Parámetros

*nCol*<br/>
Índice de la nueva columna.

*pColumn*<br/>
Dirección de una estructura de `LVCOLUMN` que contiene los atributos de la nueva columna.

*lpszColumnHeading*<br/>
Dirección de una cadena que contiene el encabezado de la columna.

*nFormat*<br/>
Entero que especifica la alineación de la columna. Puede ser uno de estos valores: LVCFMT_LEFT, LVCFMT_RIGHT o LVCFMT_CENTER.

*nWidth*<br/>
Ancho de la columna, en píxeles. Si este parámetro es-1, no se establece el ancho de columna.

*nSubItem*<br/>
Índice del subelemento asociado a la columna. Si este parámetro es-1, no hay ningún subelemento asociado a la columna.

### <a name="return-value"></a>Valor devuelto

Índice de la nueva columna si es correcta o-1 en caso contrario.

### <a name="remarks"></a>Observaciones

La columna situada más a la izquierda en un control de vista de lista debe estar alineada a la izquierda.

La estructura [LVCOLUMN](/windows/win32/api/commctrl/ns-commctrl-lvcolumnw) contiene los atributos de una columna en la vista de informe. También se utiliza para recibir información acerca de una columna. Esta estructura se describe en el Windows SDK.

## <a name="insertgroup"></a>CListCtrl:: InsertGroup

Inserta un grupo en el control de vista de lista.

```
LRESULT InsertGroup(
    int index,
    PLVGROUP pgrp);
```

### <a name="parameters"></a>Parámetros

*índice*<br/>
Índice del elemento en el que se va a insertar el grupo.

*pgrp*<br/>
Puntero a una estructura [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup) que contiene el grupo que se va a agregar.

### <a name="return-value"></a>Valor devuelto

Devuelve el índice del elemento al que se agregó el grupo o-1 si se produjo un error en la operación.

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_INSERTGROUP](/windows/win32/Controls/lvm-insertgroup) , como se describe en el Windows SDK.

## <a name="insertgroupsorted"></a>CListCtrl:: InsertGroupSorted

Inserta el grupo especificado en una lista ordenada de grupos.

```
LRESULT InsertGroupSorted(PLVINSERTGROUPSORTED pStructInsert);
```

### <a name="parameters"></a>Parámetros

*pStructInsert*<br/>
Puntero a una estructura [LVINSERTGROUPSORTED](/windows/win32/api/commctrl/ns-commctrl-lvinsertgroupsorted) que contiene el grupo que se va a insertar.

### <a name="return-value"></a>Valor devuelto

No se utiliza el valor devuelto.

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_INSERTGROUPSORTED](/windows/win32/Controls/lvm-insertgroupsorted) , como se describe en el Windows SDK.

## <a name="insertitem"></a>CListCtrl:: InsertItem

Inserta un elemento en el control de vista de lista.

```
int InsertItem(const LVITEM* pItem);

int InsertItem(
    int nItem,
    LPCTSTR lpszItem);

int InsertItem(
    int nItem,
    LPCTSTR lpszItem,
    int nImage);

int InsertItem(
    UINT nMask,
    int nItem,
    LPCTSTR lpszItem,
    UINT nState,
    UINT nStateMask,
    int nImage,
    LPARAM lParam);
```

### <a name="parameters"></a>Parámetros

*pItem*<br/>
Puntero a una estructura [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) que especifica los atributos del elemento, como se describe en el Windows SDK.

*nItem*<br/>
Índice del elemento que se va a insertar.

*lpszItem*<br/>
Dirección de una cadena que contiene la etiqueta del elemento o LPSTR_TEXTCALLBACK si el elemento es un elemento de devolución de llamada. Para obtener información sobre los elementos de devolución de llamada, vea [CListCtrl:: GetCallbackMask](#getcallbackmask).

*nImage*<br/>
Índice de la imagen del elemento o I_IMAGECALLBACK si el elemento es un elemento de devolución de llamada. Para obtener información sobre los elementos de devolución de llamada, vea [CListCtrl:: GetCallbackMask](#getcallbackmask).

*nMask*<br/>
El parámetro *nMask* especifica qué atributos de elemento pasados como parámetros son válidos. Puede ser uno o varios de los valores de Mask descritos en la [estructura LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) en el Windows SDK. Los valores válidos se pueden combinar con el operador OR bit a bit.

*nState*<br/>
Indica el estado del elemento, la imagen de estado y la imagen de superposición. Para obtener más información, vea los temas Windows SDK estructura y [los Estados de los elementos de la vista de lista](/windows/win32/Controls/list-view-item-states) [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) para obtener una lista de marcas válidas.

*nStateMask*<br/>
Indica qué bits del miembro de estado se recuperará o modificará. Para obtener más información, consulte [estructura LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) en el Windows SDK.

*lParam*<br/>
Valor específico de la aplicación de 32 bits asociado al elemento. Si se especifica este parámetro, debe establecer el atributo *nMask* LVIF_PARAM.

### <a name="return-value"></a>Valor devuelto

Índice del nuevo elemento si es correcto o-1 en caso contrario.

### <a name="remarks"></a>Observaciones

La llamada a este método puede hacer que el mensaje de LVM_INSERTITEM se envíe a la ventana de control. Es posible que el controlador de mensajes asociado para el control no pueda establecer el texto del elemento bajo ciertas condiciones (como el uso de estilos de ventana como LVS_OWNERDRAW). Para obtener más información sobre estas condiciones, consulte [LVM_INSERTITEM](/windows/win32/Controls/lvm-insertitem) en el Windows SDK.

### <a name="example"></a>Ejemplo

```cpp
        CString strText;
        int nColumnCount = m_myListCtrl.GetHeaderCtrl()->GetItemCount();

        // Insert 10 items in the list view control.
        for (int i = 0; i < 10; i++)
        {
            strText.Format(TEXT("item %d"), i);

            // Insert the item, select every other item.
            m_myListCtrl.InsertItem(LVIF_TEXT | LVIF_STATE, i, strText,
                (i % 2) == 0 ? LVIS_SELECTED : 0, LVIS_SELECTED, 0, 0);

            // Initialize the text of the subitems.
            for (int j = 1; j < nColumnCount; j++)
            {
                strText.Format(TEXT("sub-item %d %d"), i, j);
                m_myListCtrl.SetItemText(i, j, strText);
            }
        }
```

## <a name="insertmarkhittest"></a>CListCtrl:: InsertMarkHitTest

Recupera el punto de inserción más cercano a un punto especificado.

```
int InsertMarkHitTest(
    LPPOINT pPoint,
    LPLVINSERTMARK plvim) const;
```

### <a name="parameters"></a>Parámetros

*pPoint*<br/>
Puntero a una estructura de [punto](/previous-versions/dd162805\(v=vs.85\)) que contiene las coordenadas de la prueba de posicionamiento, en relación con el área cliente del control de lista.

*plvim*<br/>
Puntero a una estructura [LVINSERTMARK](/windows/win32/api/commctrl/ns-commctrl-lvinsertmark) que especifica el punto de inserción más cercano a las coordenadas definidas por el parámetro Point.

### <a name="return-value"></a>Valor devuelto

El punto de inserción más cercano al punto especificado.

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_INSERTMARKHITTEST](/windows/win32/Controls/lvm-insertmarkhittest) , como se describe en el Windows SDK.

## <a name="isgroupviewenabled"></a>CListCtrl:: IsGroupViewEnabled

Determina si la vista de grupo está habilitada para un control de vista de lista.

```
BOOL IsGroupViewEnabled() const;
```

### <a name="return-value"></a>Valor devuelto

Devuelve TRUE si la vista de grupo está habilitada o FALSE en caso contrario.

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_ISGROUPVIEWENABLED](/windows/win32/Controls/lvm-isgroupviewenabled) , como se describe en el Windows SDK.

## <a name="isitemvisible"></a>CListCtrl:: IsItemVisible

Indica si un elemento especificado en el control de vista de lista actual está visible.

```
BOOL IsItemVisible(int index) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*índice*|de Índice de base cero de un elemento del control de vista de lista actual.|

### <a name="return-value"></a>Valor devuelto

TRUE si el elemento especificado es visible; en caso contrario, FALSE.

### <a name="remarks"></a>Observaciones

Este método envía el mensaje de [LVM_ISITEMVISIBLE](/windows/win32/Controls/lvm-isitemvisible) , que se describe en el Windows SDK.

## <a name="mapidtoindex"></a>CListCtrl:: MapIDToIndex

Asigna el identificador único de un elemento en el control de vista de lista actual a un índice.

```
UINT MapIDToIndex(UINT id) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*id*|de IDENTIFICADOR único de un elemento.|

### <a name="return-value"></a>Valor devuelto

Índice actual del ID. especificado.

### <a name="remarks"></a>Observaciones

Un control de vista de lista realiza un seguimiento interno de los elementos por índice. Esto puede presentar problemas porque los índices pueden cambiar durante la duración del control. El control de vista de lista puede etiquetar un elemento con un identificador cuando se crea el elemento y puede usar este identificador para garantizar la exclusividad durante la duración del control de vista de lista.

Tenga en cuenta que, en un entorno multiproceso, el índice solo está garantizado en el subproceso que hospeda el control de vista de lista, no en los subprocesos en segundo plano.

Este método envía el mensaje de [LVM_MAPIDTOINDEX](/windows/win32/controls/lvm-mapidtoindex) , que se describe en el Windows SDK.

## <a name="mapindextoid"></a>CListCtrl:: MapIndexToID

Asigna el índice de un elemento del control de vista de lista actual a un identificador único.

```
UINT MapIndexToID(UINT index) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*índice*|de Índice de base cero de un elemento.|

### <a name="return-value"></a>Valor devuelto

IDENTIFICADOR único para el elemento especificado.

### <a name="remarks"></a>Observaciones

Un control de vista de lista realiza un seguimiento interno de los elementos por índice. Esto puede presentar problemas porque los índices pueden cambiar durante la duración del control. El control de vista de lista puede etiquetar un elemento con un identificador cuando se crea el elemento. Puede usar este identificador para tener acceso a un elemento específico mientras dure el control de vista de lista.

Tenga en cuenta que, en un entorno multiproceso, el índice solo está garantizado en el subproceso que hospeda el control de vista de lista, no en los subprocesos en segundo plano.

Este método envía el mensaje de [LVM_MAPINDEXTOID](/windows/win32/Controls/lvm-mapindextoid) , que se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se define una variable, `m_listCtrl`, que se usa para tener acceso al control de vista de lista actual. Esta variable se utiliza en el siguiente ejemplo.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se muestra el método `MapIndexToID`. En una sección anterior de este ejemplo de código, creamos un control de vista de lista que muestra dos columnas titulada "ClientID" y "grade" en una vista de informe. En el ejemplo siguiente se asigna el índice de cada elemento de vista de lista a un número de identificación y, a continuación, se recupera el índice de cada número de identificación. Por último, en el ejemplo se indica si se han recuperado los índices originales.

```cpp
    // MapIndexToID
    int iCount = m_listCtrl.GetItemCount();
    UINT nId = 0;
    UINT nIndex = 0;
    for (int iIndexOriginal = 0; iIndexOriginal < iCount; iIndexOriginal++)
    {
        // Map index to ID.
        nId = m_listCtrl.MapIndexToID((UINT)iIndexOriginal);

        // Map ID to index.
        nIndex = m_listCtrl.MapIDToIndex(nId);

        if (nIndex != (UINT)(iIndexOriginal))
        {
            CString str;
            str.Format(_T("Mapped index (%d) is not equal to original index (%d)"),
                nIndex, (UINT)(iIndexOriginal));
            AfxMessageBox(str);
            return;
        }
    }
    AfxMessageBox(_T("The mapped indexes and original indexes are equal."),
        MB_ICONINFORMATION);
```

## <a name="movegroup"></a>CListCtrl:: MoveGroup

Mueve el grupo especificado al índice basado en cero especificado del control de vista de lista.

```
LRESULT MoveGroup(
    int iGroupId,
    int toIndex);
```

### <a name="parameters"></a>Parámetros

*iGroupId*<br/>
Identificador del grupo que se va a desplace.

*toIndex*<br/>
Índice de base cero donde se va a desplace el grupo.

### <a name="return-value"></a>Valor devuelto

No se utiliza el valor devuelto.

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_MOVEGROUP](/windows/win32/Controls/lvm-movegroup) , como se describe en el Windows SDK.

## <a name="moveitemtogroup"></a>CListCtrl:: MoveItemToGroup

Mueve el elemento especificado al grupo especificado.

```
void MoveItemToGroup(
    int idItemFrom,
    int idGroupTo);
```

### <a name="parameters"></a>Parámetros

*idItemFrom*<br/>
de Índice del elemento que se va a desplace.

*idGroupTo*<br/>
de Identificador del grupo al que se va a desplace el elemento.

### <a name="remarks"></a>Observaciones

> [!NOTE]
>  Este método no está implementado actualmente.

Este método emula la funcionalidad del mensaje de [LVM_MOVEITEMTOGROUP](/windows/win32/Controls/lvm-moveitemtogroup) , como se describe en el Windows SDK.

## <a name="redrawitems"></a>CListCtrl:: RedrawItems

Obliga a un control de vista de lista a volver a dibujar un intervalo de elementos.

```
BOOL RedrawItems(
    int nFirst,
    int nLast);
```

### <a name="parameters"></a>Parámetros

*Nprimer*<br/>
Índice del primer elemento que se va a volver a dibujar.

*Núltimo*<br/>
Índice del último elemento que se va a volver a dibujar.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

Los elementos especificados no se repintan realmente hasta que la ventana de vista de lista reciba un mensaje de WM_PAINT. Para volver a dibujar inmediatamente, llame a la función [UpdateWindow](/windows/win32/api/winuser/nf-winuser-updatewindow) de Windows después de usar esta función.

## <a name="removeallgroups"></a>CListCtrl:: RemoveAllGroups

Quita todos los grupos de un control de vista de lista.

```
void RemoveAllGroups();
```

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_REMOVEALLGROUPS](/windows/win32/Controls/lvm-removeallgroups) , como se describe en el Windows SDK.

## <a name="removegroup"></a>CListCtrl:: RemoveGroup

Quita el grupo especificado del control de vista de lista.

```
LRESULT RemoveGroup(int iGroupId);
```

### <a name="parameters"></a>Parámetros

*iGroupId*<br/>
Identificador del grupo que se va a quitar.

### <a name="return-value"></a>Valor devuelto

Devuelve el índice del grupo si se realiza correctamente, o-1 en caso contrario.

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_REMOVEGROUP](/windows/win32/Controls/lvm-removegroup) , como se describe en el Windows SDK.

## <a name="scroll"></a>CListCtrl:: scroll

Desplaza el contenido de un control de vista de lista.

```
BOOL Scroll(CSize size);
```

### <a name="parameters"></a>Parámetros

*size*<br/>
Objeto `CSize` que especifica la cantidad de desplazamiento horizontal y vertical, en píxeles. El miembro `y` del *tamaño* se divide por el alto, en píxeles, de la línea del control de vista de lista, y el control se desplaza por el número de líneas resultante.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

## <a name="setbkcolor"></a>CListCtrl:: SetBkColor

Establece el color de fondo del control de vista de lista.

```
BOOL SetBkColor(COLORREF cr);
```

### <a name="parameters"></a>Parámetros

*compra*<br/>
Color de fondo que se va a establecer o el valor de CLR_NONE para ningún color de fondo. Los controles de vista de lista con colores de fondo se vuelven a dibujar a sí mismos de forma significativamente más rápida que los colores de fondo. Para obtener más información, consulte [COLORREF](/windows/win32/gdi/colorref) en el Windows SDK.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

```cpp
        // Use the 3D button face color for the background.
        COLORREF crBkColor = ::GetSysColor(COLOR_3DFACE);
        m_myListCtrl.SetBkColor(crBkColor);
        ASSERT(m_myListCtrl.GetBkColor() == crBkColor);
```

## <a name="setbkimage"></a>CListCtrl:: SetBkImage

Establece la imagen de fondo de un control de vista de lista.

```
BOOL SetBkImage(LVBKIMAGE* plvbkImage);

BOOL SetBkImage(
    HBITMAP hBitmap,
    BOOL fTile = TRUE,
    int xOffsetPercent = 0,
    int yOffsetPercent = 0);

BOOL SetBkImage(
    LPTSTR pszUrl,
    BOOL fTile = TRUE,
    int xOffsetPercent = 0,
    int yOffsetPercent = 0);
```

### <a name="parameters"></a>Parámetros

*plvbkImage*<br/>
Dirección de una estructura de `LVBKIMAGE`, que contiene la nueva información de la imagen de fondo.

*hBitmap*<br/>
Identificador de un mapa de bits.

*pszUrl*<br/>
Una cadena terminada en NULL que contiene la dirección URL de la imagen de fondo.

*fTile*<br/>
Distinto de cero si la imagen se va a colocar en mosaico en el fondo del control de vista de lista. de lo contrario, es 0.

*xOffsetPercent*<br/>
Desplazamiento, en píxeles, del borde izquierdo de la imagen, desde el origen del control de vista de lista.

*yOffsetPercent*<br/>
Desplazamiento, en píxeles, del borde superior de la imagen, desde el origen del control de vista de lista.

### <a name="return-value"></a>Valor devuelto

Devuelve un valor distinto de cero si es correcto o cero de lo contrario.

### <a name="remarks"></a>Observaciones

> [!NOTE]
>  Dado que `CListCtrl::SetBkImage` hace uso de la funcionalidad OLE COM, las bibliotecas OLE se deben inicializar antes de usar `SetBkImage`. Es mejor inicializar las bibliotecas COM cuando se inicializa la aplicación y anular la inicialización de las bibliotecas cuando finaliza la aplicación. Esto se hace automáticamente en aplicaciones MFC que usan la tecnología ActiveX, automatización OLE, vinculación e incrustación OLE u operaciones ODBC/DAO.

### <a name="example"></a>Ejemplo

Vea el ejemplo de [CListCtrl:: GetBkImage](#getbkimage).

## <a name="setcallbackmask"></a>CListCtrl:: SetCallbackMask

Establece la máscara de devolución de llamada para un control de vista de lista.

```
BOOL SetCallbackMask(UINT nMask);
```

### <a name="parameters"></a>Parámetros

*nMask*<br/>
Nuevo valor de la máscara de devolución de llamada.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

```cpp
    // Set the callback mask so that only the selected and focused states
    // are stored for each item.
    m_myListCtrl.SetCallbackMask(LVIS_SELECTED|LVIS_FOCUSED);
    ASSERT(m_myListCtrl.GetCallbackMask() ==
        (LVIS_SELECTED|LVIS_FOCUSED));
```

## <a name="setcheck"></a>CListCtrl:: SetCheck

Determina si la imagen de estado de un elemento de control de lista está visible.

```
BOOL SetCheck(
    int nItem,
    BOOL fCheck = TRUE);
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice de base cero de un elemento de control de lista.

*Visite*<br/>
Especifica si la imagen de estado del elemento debe ser visible o no. De forma predeterminada, *visite* es true y la imagen de estado es visible. Si *visite* es false, no es visible.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si el elemento está activado; de lo contrario, es 0.

### <a name="example"></a>Ejemplo

```cpp
        int nCount = m_myListCtrl.GetItemCount();
        BOOL fCheck = FALSE;

        // Set the check state of every other item to TRUE and
        // all others to FALSE.
        for (int i = 0; i < nCount; i++)
        {
            m_myListCtrl.SetCheck(i, fCheck);
            ASSERT((m_myListCtrl.GetCheck(i) && fCheck) ||
                (!m_myListCtrl.GetCheck(i) && !fCheck));
            fCheck = !fCheck;
        }
```

## <a name="setcolumn"></a>CListCtrl:: SetColumn

Establece los atributos de una columna de vista de lista.

```
BOOL SetColumn(
    int nCol,
    const LVCOLUMN* pColumn);
```

### <a name="parameters"></a>Parámetros

*nCol*<br/>
Índice de la columna cuyos atributos se van a establecer.

*pColumn*<br/>
Dirección de una estructura [LVCOLUMN](/windows/win32/api/commctrl/ns-commctrl-lvcolumnw) que contiene los nuevos atributos de columna, como se describe en el Windows SDK. El miembro de `mask` de la estructura especifica qué atributos de columna se van a establecer. Si el miembro `mask` especifica el valor LVCF_TEXT, el miembro `pszText` de la estructura es la dirección de una cadena terminada en NULL y se omite el miembro `cchTextMax` de la estructura.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

Vea el ejemplo de [CListCtrl:: getcolumn (](#getcolumn).

## <a name="setcolumnorderarray"></a>CListCtrl:: SetColumnOrderArray

Establece el orden de las columnas (de izquierda a derecha) de un control de vista de lista.

```
BOOL SetColumnOrderArray(
    int iCount,
    LPINT piArray);
```

### <a name="parameters"></a>Parámetros

*piArray*<br/>
Un puntero a un búfer que contiene los valores de índice de las columnas en el control de vista de lista (de izquierda a derecha). El búfer debe ser lo suficientemente grande como para contener el número total de columnas en el control de vista de lista.

*iCount*<br/>
Número de columnas en el control de vista de lista.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_SetColumnOrderArray](/windows/win32/api/commctrl/nf-commctrl-listview_setcolumnorderarray), como se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

Vea el ejemplo de [CListCtrl:: GetColumnOrderArray](#getcolumnorderarray).

## <a name="setcolumnwidth"></a>CListCtrl:: SetColumnWidth

Cambia el ancho de una columna en la vista de informe o la vista de lista.

```
BOOL SetColumnWidth(
    int nCol,
    int cx);
```

### <a name="parameters"></a>Parámetros

*nCol*<br/>
Índice de la columna para la que se va a establecer el ancho. En la vista de lista, este parámetro debe ser 0.

*serie*<br/>
Nuevo ancho de la columna. Puede ser LVSCW_AUTOSIZE o LVSCW_AUTOSIZE_USEHEADER, tal y como se describe en [LVM_SETCOLUMNWIDTH](/windows/win32/Controls/lvm-setcolumnwidth) en el Windows SDK.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

## <a name="setextendedstyle"></a>CListCtrl:: SetExtendedStyle

Establece los estilos extendidos actuales de un control de vista de lista.

```
DWORD SetExtendedStyle(DWORD dwNewStyle);
```

### <a name="parameters"></a>Parámetros

*dwNewStyle*<br/>
Combinación de estilos extendidos que va a usar el control de vista de lista. Para obtener una lista descriptiva de estos estilos, vea el tema [Extended List View Styles](/windows/win32/Controls/extended-list-view-styles) en el Windows SDK.

### <a name="return-value"></a>Valor devuelto

Combinación de los estilos extendidos anteriores utilizados por el control de vista de lista.

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_SetExtendedListViewStyle](/windows/win32/api/commctrl/nf-commctrl-listview_setextendedlistviewstyle), como se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

```cpp
    // Allow the header controls item to be movable by the user.
    m_myListCtrl.SetExtendedStyle
        (m_myListCtrl.GetExtendedStyle()|LVS_EX_HEADERDRAGDROP);
```

## <a name="setgroupinfo"></a>CListCtrl:: SetGroupInfo

Establece la información que describe el grupo especificado del control de vista de lista actual.

```
int SetGroupInfo(
    int iGroupId,
    PLVGROUP pgrp);
```

### <a name="parameters"></a>Parámetros

*iGroupId*<br/>
Identificador del grupo cuya información se establece.

*pgrp*<br/>
Puntero a una estructura [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup) que contiene la información que se va a establecer. El autor de la llamada es responsable de asignar esta estructura y establecer sus miembros.

### <a name="return-value"></a>Valor devuelto

IDENTIFICADOR del grupo si el método es correcto; de lo contrario,-1.

### <a name="remarks"></a>Observaciones

Este método envía el mensaje de [LVM_SETGROUPINFO](/windows/win32/Controls/lvm-setgroupinfo) , que se describe en el Windows SDK.

## <a name="setgroupmetrics"></a>CListCtrl:: SetGroupMetrics

Establece las métricas de grupo de un control de vista de lista.

```
void SetGroupMetrics(PLVGROUPMETRICS pGroupMetrics);
```

### <a name="parameters"></a>Parámetros

*pGroupMetrics*<br/>
Puntero a una estructura [LVGROUPMETRICS](/windows/win32/api/commctrl/ns-commctrl-lvgroupmetrics) que contiene la información de métricas de grupo que se va a establecer.

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_SETGROUPMETRICS](/windows/win32/Controls/lvm-setgroupmetrics) , como se describe en el Windows SDK.

## <a name="sethotcursor"></a>CListCtrl:: SetHotCursor

Establece el cursor que se utiliza cuando se habilita el seguimiento activo para un control de vista de lista.

```
HCURSOR SetHotCursor(HCURSOR hc);
```

### <a name="parameters"></a>Parámetros

*HC*<br/>
Identificador de un recurso de cursor que se usa para representar el cursor activo.

### <a name="return-value"></a>Valor devuelto

Identificador del recurso de cursor activo anterior usado por el control de vista de lista.

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_SetHotCursor](/windows/win32/api/commctrl/nf-commctrl-listview_sethotcursor), como se describe en el Windows SDK.

El cursor activo, solo visible cuando está habilitada la selección del mouse, aparece cuando el cursor pasa sobre cualquier elemento de vista de lista. La selección de mantener el mouse está habilitada estableciendo el LVS_EX_TRACKSELECT estilo extendido.

### <a name="example"></a>Ejemplo

Vea el ejemplo de [CListCtrl:: GetHotCursor](#gethotcursor).

## <a name="sethotitem"></a>CListCtrl:: SetHotItem

Establece el elemento activo actual de un control de vista de lista.

```
int SetHotItem(int iIndex);
```

### <a name="parameters"></a>Parámetros

*iIndex*<br/>
Índice de base cero del elemento que se va a establecer como elemento activo.

### <a name="return-value"></a>Valor devuelto

Índice de base cero del elemento activo anterior.

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_SetHotItem](/windows/win32/api/commctrl/nf-commctrl-listview_sethotitem), como se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

Vea el ejemplo de [CListCtrl:: GetHotItem](#gethotitem).

## <a name="sethovertime"></a>CListCtrl:: SetHoverTime

Establece el tiempo de desplazamiento actual de un control de vista de lista.

```
DWORD SetHoverTime(DWORD dwHoverTime = (DWORD)-1);
```

### <a name="parameters"></a>Parámetros

*dwHoverTime*<br/>
Nuevo retraso, en milisegundos, que debe mantener el cursor del mouse sobre un elemento antes de que se seleccione. Si se pasa el valor predeterminado, la hora se establece en el tiempo de desplazamiento predeterminado.

### <a name="return-value"></a>Valor devuelto

Tiempo de desplazamiento anterior, en milisegundos.

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_SetHoverTime](/windows/win32/api/commctrl/nf-commctrl-listview_sethovertime), como se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

Vea el ejemplo de [CListCtrl:: GetHoverTime](#gethovertime).

## <a name="seticonspacing"></a>CListCtrl:: SetIconSpacing

Establece el espaciado entre los iconos en un control de vista de lista.

```
CSize SetIconSpacing(
    int cx,
    int cy);

CSize SetIconSpacing(CSize size);
```

### <a name="parameters"></a>Parámetros

*serie*<br/>
Distancia (en píxeles) entre los iconos del eje x.

*CY*<br/>
Distancia (en píxeles) entre los iconos del eje y.

*size*<br/>
Objeto `CSize` que especifica la distancia (en píxeles) entre los iconos de los ejes x e y.

### <a name="return-value"></a>Valor devuelto

Un objeto [CSize](../../atl-mfc-shared/reference/csize-class.md) que contiene los valores anteriores para el espaciado de iconos.

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_SetIconSpacing](/windows/win32/api/commctrl/nf-commctrl-listview_seticonspacing), como se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

```cpp
    // Leave lots of space between icons.
    m_myListCtrl.SetIconSpacing(CSize(100, 100));
```

## <a name="setimagelist"></a>CListCtrl:: SetImageList

Asigna una lista de imágenes a un control de vista de lista.

```
CImageList* SetImageList(
    CImageList* pImageList,
    int nImageListType);
```

### <a name="parameters"></a>Parámetros

*pImageList*<br/>
Puntero a la lista de imágenes que se va a asignar.

*nImageListType*<br/>
Tipo de lista de imágenes. Puede ser uno de estos valores:

- LVSIL_NORMAL lista de imágenes con iconos grandes.

- LVSIL_SMALL lista de imágenes con iconos pequeños.

- LVSIL_STATE lista de imágenes con imágenes de estado.

### <a name="return-value"></a>Valor devuelto

Puntero a la lista de imágenes anterior.

### <a name="example"></a>Ejemplo

Vea el ejemplo de [CListCtrl:: GetImageList](#getimagelist).

## <a name="setinfotip"></a>CListCtrl:: SetInfoTip

Establece el texto de la información sobre herramientas.

```
BOOL SetInfoTip(PLVSETINFOTIP plvInfoTip);
```

### <a name="parameters"></a>Parámetros

*plvInfoTip*<br/>
Puntero a una estructura [LVFSETINFOTIP](/windows/win32/api/commctrl/ns-commctrl-lvsetinfotip) que contiene la información que se va a establecer.

### <a name="return-value"></a>Valor devuelto

Devuelve TRUE si es correcto, FALSE en caso de error.

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_SETINFOTIP](/windows/win32/Controls/lvm-setinfotip) , como se describe en el Windows SDK.

## <a name="setinsertmark"></a>CListCtrl:: SetInsertMark

Establece el punto de inserción en la posición definida.

```
BOOL SetInsertMark(LPLVINSERTMARK plvim);
```

### <a name="parameters"></a>Parámetros

*plvim*<br/>
Puntero a una estructura [LVINSERTMARK](/windows/win32/api/commctrl/ns-commctrl-lvinsertmark) que especifica dónde se va a establecer el punto de inserción.

### <a name="return-value"></a>Valor devuelto

Devuelve TRUE si es correcto, o FALSE en caso contrario. Se devuelve FALSE si el tamaño del miembro `cbSize` de la estructura `LVINSERTMARK` no es igual al tamaño real de la estructura, o cuando no se aplica un punto de inserción en la vista actual.

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_SETINSERTMARK](/windows/win32/Controls/lvm-setinsertmark) , como se describe en el Windows SDK.

## <a name="setinsertmarkcolor"></a>CListCtrl:: SetInsertMarkColor

Establece el color del punto de inserción.

```
COLORREF SetInsertMarkColor(COLORREF color);
```

### <a name="parameters"></a>Parámetros

*Color*<br/>
Estructura [COLORREF](/windows/win32/gdi/colorref) que especifica el color para establecer el punto de inserción.

### <a name="return-value"></a>Valor devuelto

Devuelve un `COLORREF` estructura que contiene el color anterior.

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_SETINSERTMARKCOLOR](/windows/win32/Controls/lvm-setinsertmarkcolor) , como se describe en el Windows SDK.

## <a name="setitem"></a>CListCtrl:: SetItem

Establece algunos o todos los atributos de un elemento de vista de lista.

```
BOOL SetItem(const LVITEM* pItem);

BOOL SetItem(
    int nItem,
    int nSubItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam);

BOOL SetItem(
    int nItem,
    int nSubItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam,
    int nIndent);
```

### <a name="parameters"></a>Parámetros

*pItem*<br/>
Dirección de una estructura [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) que contiene los nuevos atributos de elemento, como se describe en el Windows SDK. Los miembros `iItem` y `iSubItem` de la estructura identifican el elemento o subelemento y el miembro `mask` de la estructura especifica los atributos que se van a establecer. Para obtener más información sobre el miembro de `mask`, vea la **sección Comentarios**.

*nItem*<br/>
Índice del elemento cuyos atributos se van a establecer.

*nSubItem*<br/>
Índice del subelemento cuyos atributos se van a establecer.

*nMask*<br/>
Especifica los atributos que se van a establecer (vea las notas).

*lpszItem*<br/>
Dirección de una cadena terminada en null que especifica la etiqueta del elemento.

*nImage*<br/>
Índice de la imagen del elemento en la lista de imágenes.

*nState*<br/>
Especifica los valores de los Estados que se van a cambiar (vea la sección comentarios).

*nStateMask*<br/>
Especifica los Estados que se van a cambiar (vea las notas).

*lParam*<br/>
Valor específico de la aplicación de 32 bits que se va a asociar al elemento.

*nIndent*<br/>
Ancho, en píxeles, de la sangría. Si *nIndent* es menor que el ancho mínimo definido por el sistema, el nuevo ancho se establece en el valor mínimo definido por el sistema.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

Los miembros `iItem` y `iSubItem` de la estructura `LVITEM` y los parámetros *nItem* y *nSubItem* identifican el elemento y el subelemento cuyos atributos se van a establecer.

El miembro `mask` de la estructura de `LVITEM` y el parámetro *nMask* especifican qué atributos de elemento se van a establecer:

- LVIF_TEXT el miembro de `pszText` o el parámetro *lpszItem* es la dirección de una cadena terminada en null; se omite el miembro de `cchTextMax`.

- LVIF_STATE el parámetro `stateMask` miembro o *nStateMask* especifica los Estados de los elementos que se van a cambiar y el parámetro miembro de `state` o *nState* contiene los valores de esos Estados.

### <a name="example"></a>Ejemplo

Vea el ejemplo de [CListCtrl:: HitTest](#hittest).

## <a name="setitemcount"></a>CListCtrl:: SetItemCount

Prepara un control de vista de lista para agregar un gran número de elementos.

```
void SetItemCount(int nItems);
```

### <a name="parameters"></a>Parámetros

*nItems*<br/>
Número de elementos que el control va a contener en última instancia.

### <a name="remarks"></a>Observaciones

Para establecer el recuento de elementos de un control de vista de lista virtual, vea [CListCtrl:: SetItemCountEx](#setitemcountex).

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_SetItemCount](/windows/win32/api/commctrl/nf-commctrl-listview_setitemcount), como se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

```cpp
        CString str;

        // Add 1024 items to the list view control.
        m_myListCtrl.SetItemCount(1024);

        for (int i = 0; i < 1024; i++)
        {
            str.Format(TEXT("item %d"), i);
            m_myListCtrl.InsertItem(i, str);
        }
```

## <a name="setitemcountex"></a>CListCtrl:: SetItemCountEx

Establece el recuento de elementos de un control de vista de lista virtual.

```
BOOL SetItemCountEx(
    int iCount,
    DWORD dwFlags = LVSICF_NOINVALIDATEALL);
```

### <a name="parameters"></a>Parámetros

*iCount*<br/>
Número de elementos que el control va a contener en última instancia.

*dwFlags*<br/>
Especifica el comportamiento del control de vista de lista después de restablecer el recuento de elementos. Este valor puede ser una combinación de lo siguiente:

- LVSICF_NOINVALIDATEALL el control de vista de lista no volverá a dibujar a menos que los elementos afectados estén actualmente en la vista. Este es el valor predeterminado.

- LVSICF_NOSCROLL el control de vista de lista no cambiará la posición de desplazamiento cuando cambie el número de elementos.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_SetItemCountEx](/windows/win32/api/commctrl/nf-commctrl-listview_setitemcountex), tal y como se describe en Windows SDKand solo se debe llamar a para las vistas de lista virtual.

### <a name="example"></a>Ejemplo

```cpp
        CString str;

        // Add 1024 items to the list view control.

        // Force my virtual list view control to allocate
        // enough memory for my 1024 items.
        m_myVirtualListCtrl.SetItemCountEx(1024, LVSICF_NOSCROLL|
            LVSICF_NOINVALIDATEALL);

        for (int i = 0; i < 1024; i++)
        {
            str.Format(TEXT("item %d"), i);
            m_myVirtualListCtrl.InsertItem(i, str);
        }
```

## <a name="setitemdata"></a>CListCtrl:: SetItemData

Establece el valor específico de la aplicación de 32 bits asociado al elemento especificado por *nItem*.

```
BOOL SetItemData(int nItem, DWORD_PTR dwData);
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento de lista cuyos datos se van a establecer.

*dwData*<br/>
Valor de 32 bits que se va a asociar al elemento.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

Este valor es el miembro de `lParam` de la estructura [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) , como se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

```cpp
    // Set the data of each item to be equal to its index.
    for (int i = 0; i < m_myListCtrl.GetItemCount(); i++)
    {
        m_myListCtrl.SetItemData(i, i);
    }
```

## <a name="setitemindexstate"></a>CListCtrl:: SetItemIndexState

Establece el estado de un elemento en el control de vista de lista actual.

```
BOOL SetItemIndexState(
    PLVITEMINDEX pItemIndex,
    DWORD dwState,
    DWORD dwMask) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*pItemIndex*|de Puntero a una estructura [LVITEMINDEX](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) que describe un elemento. El autor de la llamada es responsable de asignar esta estructura y establecer sus miembros.|
|*dwState*|de El estado para establecer el elemento, que es una combinación bit a bit de [los Estados de los elementos de vista de lista](/windows/win32/Controls/list-view-item-states). Especifique cero para restablecer, o uno para establecer, un estado.|
|*dwMask*|de Máscara de los bits válidos del estado especificado por el parámetro *dwState* . Especifique una combinación bit a bit (o) de [Estados de elemento de vista de lista](/windows/win32/Controls/list-view-item-states).|

### <a name="return-value"></a>Valor devuelto

TRUE si este método se realiza correctamente; en caso contrario, FALSE.

### <a name="remarks"></a>Observaciones

Para obtener más información sobre el parámetro *dwState* , vea [Estados de los elementos de vista de lista](/windows/win32/Controls/list-view-item-states).

Para obtener más información sobre el parámetro *dwMask* , vea el miembro *stateMask* de la estructura [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) .

Este método envía el mensaje de [LVM_SETITEMINDEXSTATE](/windows/win32/Controls/lvm-setitemindexstate) , que se describe en el Windows SDK.

## <a name="setitemposition"></a>CListCtrl:: SetItemPosition

Mueve un elemento a una posición especificada en un control de vista de lista.

```
BOOL SetItemPosition(
    int nItem,
    POINT pt);
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento cuya posición se va a establecer.

*pt*<br/>
Una estructura de [punto](/previous-versions/dd162805\(v=vs.85\)) que especifica la nueva posición, en coordenadas de la vista, de la esquina superior izquierda del elemento.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

El control debe estar en el icono o en la vista de iconos pequeños.

Si el control de vista de lista tiene el estilo de LVS_AUTOARRANGE, la vista de lista se organiza una vez establecida la posición del elemento.

### <a name="example"></a>Ejemplo

Vea el ejemplo de [CListCtrl:: GetItemPosition](#getitemposition).

## <a name="setitemstate"></a>CListCtrl:: SetItemState

Cambia el estado de un elemento en un control de vista de lista.

```
BOOL SetItemState(
    int nItem,
    LVITEM* pItem);

BOOL SetItemState(
    int nItem,
    UINT nState,
    UINT nMask);
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento cuyo estado se va a establecer.

*pItem*<br/>
Dirección de una estructura [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) , como se describe en el Windows SDK. El miembro de `stateMask` de la estructura especifica qué bits de estado se van a cambiar y el miembro de `state` de la estructura contiene los nuevos valores de esos bits. Se omiten los demás miembros.

*nState*<br/>
Nuevos valores para los bits de estado. Para obtener una lista de los valores posibles, vea [CListCtrl:: GetNextItem](#getnextitem) y el miembro de estado [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) .

*nMask*<br/>
Máscara que especifica los bits de estado que se van a cambiar. Este valor corresponde al miembro stateMask de la estructura [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) .

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

El "estado" de un elemento es un valor que especifica la disponibilidad del elemento, indica las acciones del usuario o, de lo contrario, refleja el estado del elemento. Un control de vista de lista cambia algunos bits de estado, como cuando el usuario selecciona un elemento. Una aplicación puede cambiar otros bits de estado para deshabilitar u ocultar el elemento, o para especificar una imagen de superposición o una imagen de estado.

### <a name="example"></a>Ejemplo

Vea el ejemplo de [CListCtrl:: GetTopIndex](#gettopindex).

## <a name="setitemtext"></a>CListCtrl:: SetItemText

Cambia el texto de un elemento o subelemento de vista de lista.

```
BOOL SetItemText(
    int nItem,
    int nSubItem,
    LPCTSTR lpszText);
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento cuyo texto se va a establecer.

*nSubItem*<br/>
Índice del subelemento o cero para establecer la etiqueta del elemento.

*lpszText*<br/>
Puntero a una cadena que contiene el texto del nuevo elemento.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

Este método no está pensado para su uso con controles que contengan el estilo de ventana LVS_OWNERDATA (de hecho, esto producirá una aserción en las compilaciones de depuración). Para obtener más información sobre este estilo de control de lista, vea [información general sobre los controles de vista de lista](/windows/win32/Controls/list-view-controls-overview).

### <a name="example"></a>Ejemplo

Vea el ejemplo de [CListCtrl:: InsertItem](#insertitem).

## <a name="setoutlinecolor"></a>CListCtrl:: SetOutlineColor

Establece el color del borde de un control de vista de lista si se establece el estilo de ventana extendido [LVS_EX_BORDERSELECT](/windows/win32/Controls/list-view-window-styles) .

```
COLORREF SetOutlineColor(COLORREF color);
```

### <a name="parameters"></a>Parámetros

*Color*<br/>
Nueva estructura [COLORREF](/windows/win32/gdi/colorref) que contiene el color del contorno.

### <a name="return-value"></a>Valor devuelto

La estructura de `COLORREF` anterior que contiene el color del contorno

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_SETOUTLINECOLOR](/windows/win32/Controls/lvm-setoutlinecolor) , como se describe en el Windows SDK.

## <a name="setselectedcolumn"></a>CListCtrl:: SetSelectedColumn

Establece la columna seleccionada del control de vista de lista.

```
LRESULT SetSelectedColumn(int iCol);
```

### <a name="parameters"></a>Parámetros

*iCol*<br/>
Índice de la columna que se va a seleccionar.

### <a name="return-value"></a>Valor devuelto

No se utiliza el valor devuelto.

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_SETSELECTEDCOLUMN](/windows/win32/Controls/lvm-setselectedcolumn) , como se describe en el Windows SDK.

## <a name="setselectionmark"></a>CListCtrl:: SetSelectionMark

Establece la marca de selección de un control de vista de lista.

```
int SetSelectionMark(int iIndex);
```

### <a name="parameters"></a>Parámetros

*iIndex*<br/>
Índice de base cero del primer elemento de una selección múltiple.

### <a name="return-value"></a>Valor devuelto

Marca de selección anterior, o-1 si no hay ninguna marca de selección.

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_SetSelectionMark](/windows/win32/api/commctrl/nf-commctrl-listview_setselectionmark), como se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

Vea el ejemplo de [CListCtrl:: GetSelectionMark](#getselectionmark).

## <a name="settextbkcolor"></a>CListCtrl:: SetTextBkColor

Establece el color de fondo del texto en un control de vista de lista.

```
BOOL SetTextBkColor(COLORREF cr);
```

### <a name="parameters"></a>Parámetros

*compra*<br/>
COLORREF que especifica el nuevo color de fondo del texto. Para obtener más información, consulte [COLORREF](/windows/win32/gdi/colorref) en el Windows SDK.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

```cpp
        // Use the 3D button face color for the background.
        COLORREF crBkColor = ::GetSysColor(COLOR_3DFACE);
        m_myListCtrl.SetTextBkColor(crBkColor);
        ASSERT(m_myListCtrl.GetTextBkColor() == crBkColor);
```

## <a name="settextcolor"></a>CListCtrl:: SetTextColor

Establece el color del texto de un control de vista de lista.

```
BOOL SetTextColor(COLORREF cr);
```

### <a name="parameters"></a>Parámetros

*compra*<br/>
COLORREF que especifica el nuevo color de texto. Para obtener más información, consulte [COLORREF](/windows/win32/gdi/colorref) en el Windows SDK.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

```cpp
    // Use the window text color for
    // the item text of the list view control.
    COLORREF crTextColor = ::GetSysColor(COLOR_WINDOWTEXT);
    m_myListCtrl.SetTextColor(crTextColor);
    ASSERT(m_myListCtrl.GetTextColor() == crTextColor);
```

## <a name="settileinfo"></a>CListCtrl:: SetTileInfo

Establece la información de un icono del control de vista de lista.

```
BOOL SetTileInfo(PLVTILEINFO pTileInfo);
```

### <a name="parameters"></a>Parámetros

*pTileInfo*<br/>
Puntero a una estructura [LVTILEINFO](/windows/win32/api/commctrl/ns-commctrl-lvtileinfo) que contiene la información que se va a establecer.

### <a name="return-value"></a>Valor devuelto

Devuelve TRUE si es correcto, FALSE en caso de error.

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_SETTILEINFO](/windows/win32/Controls/lvm-settileinfo) , como se describe en el Windows SDK.

## <a name="settileviewinfo"></a>CListCtrl:: SetTileViewInfo

Establece la información que usa un control de vista de lista en la vista de mosaico.

```
BOOL SetTileViewInfo(PLVTILEVIEWINFO ptvi);
```

### <a name="parameters"></a>Parámetros

*ptvi*<br/>
Puntero a una estructura [LVTILEVIEWINFO](/windows/win32/api/commctrl/ns-commctrl-lvtileviewinfo) que contiene la información que se va a establecer.

### <a name="return-value"></a>Valor devuelto

Devuelve TRUE si es correcto, FALSE en caso de error.

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_SETTILEVIEWINFO](/windows/win32/Controls/lvm-settileviewinfo) , como se describe en el Windows SDK.

## <a name="settooltips"></a>CListCtrl:: SetToolTips

Establece el control de información sobre herramientas que el control de vista de lista usará para mostrar la información sobre herramientas.

```
CToolTipCtrl* SetToolTips(CToolTipCtrl* pWndTip);
```

### <a name="parameters"></a>Parámetros

*pWndTip*<br/>
Puntero a un objeto `CToolTipCtrl` que utilizará el control de lista.

### <a name="return-value"></a>Valor devuelto

Un puntero a un objeto [CToolTipCtrl](ctooltipctrl-class.md) que contiene la información sobre herramientas utilizada anteriormente por el control o null si no se ha utilizado previamente la información sobre herramientas.

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento del [LVM_SETTOOLTIPS](/windows/win32/Controls/lvm-settooltips)de mensajes de Win32, como se describe en el Windows SDK.

Para no usar la información sobre herramientas, indique el estilo de LVS_NOTOOLTIPS al crear el objeto `CListCtrl`.

## <a name="setview"></a>CListCtrl:: SetView

Establece la vista del control de vista de lista.

```
DWORD SetView(int iView);
```

### <a name="parameters"></a>Parámetros

*iView*<br/>
Vista que se va a seleccionar.

### <a name="return-value"></a>Valor devuelto

Devuelve 1 si se realiza correctamente, o-1 en caso contrario. Por ejemplo, se devuelve-1 si la vista no es válida.

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_SETVIEW](/windows/win32/Controls/lvm-setview) , como se describe en el Windows SDK.

## <a name="setworkareas"></a>CListCtrl:: SetWorkAreas

Establece el área donde se pueden mostrar los iconos en un control de vista de lista.

```
void SetWorkAreas(
    int nWorkAreas,
    LPRECT lpRect);
```

### <a name="parameters"></a>Parámetros

*nWorkAreas*<br/>
El número de estructuras `RECT` (u objetos [CRect](../../atl-mfc-shared/reference/crect-class.md) ) de la matriz a la que apunta *lpRect*.

*lpRect*<br/>
La dirección de una matriz de `RECT` estructuras (u objetos `CRect`) que especifican las nuevas áreas de trabajo del control de vista de lista. Estas áreas deben especificarse en coordenadas de cliente. Si este parámetro es NULL, el área de trabajo se establecerá en el área cliente del control.

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_SetWorkAreas](/windows/win32/api/commctrl/nf-commctrl-listview_setworkareas), como se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

```cpp
    // Remove all working areas.
    m_myListCtrl.SetWorkAreas(0, NULL);
```

## <a name="sortgroups"></a>CListCtrl:: SortGroups

Usa una función de comparación definida por la aplicación para ordenar grupos por identificador dentro de un control de vista de lista.

```
BOOL SortGroups(
    PFNLVGROUPCOMPARE _pfnGroupCompare,
    LPVOID _plv);
```

### <a name="parameters"></a>Parámetros

*_pfnGroupCompare*<br/>
Puntero a la función de comparación de grupos.

*_plv*<br/>
Puntero void.

### <a name="return-value"></a>Valor devuelto

Devuelve TRUE si es correcto, FALSE en caso de error.

### <a name="remarks"></a>Observaciones

Esta función miembro emula la funcionalidad del mensaje de [LVM_SORTGROUPS](/windows/win32/Controls/lvm-sortgroups) , como se describe en el Windows SDK.

## <a name="sortitems"></a>CListCtrl:: SortItems

Ordena los elementos de vista de lista mediante una función de comparación definida por la aplicación.

```
BOOL SortItems(
    PFNLVCOMPARE pfnCompare,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>Parámetros

*pfnCompare*<br/>
de Dirección de la función de comparación definida por la aplicación.

La operación de ordenación llama a la función de comparación cada vez que es necesario determinar el orden relativo de dos elementos de lista. La función de comparación debe ser un miembro estático de una clase o una función independiente que no sea miembro de ninguna clase.

*dwData*<br/>
de Valor definido por la aplicación que se pasa a la función de comparación.

### <a name="return-value"></a>Valor devuelto

TRUE si el método se realiza correctamente; en caso contrario, FALSE.

### <a name="remarks"></a>Observaciones

Este método cambia el índice de cada elemento para reflejar la nueva secuencia.

La función de comparación, *pfnCompare*, tiene el formato siguiente:

```
int CALLBACK CompareFunc(LPARAM lParam1,
    LPARAM lParam2,
    LPARAM lParamSort);
```
La función de comparación debe devolver un valor negativo si el primer elemento debe preceder al segundo, un valor positivo si el primer elemento debe seguir el segundo, o cero si los dos elementos son iguales.

El parámetro *lParam1* es el valor de 32 bits asociado al primer elemento que se compara, y el parámetro *lParam2* es el valor asociado al segundo elemento. Estos son los valores que se especificaron en el miembro *lParam* de la estructura [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) de los elementos cuando se insertaron en la lista. El parámetro *lParamSort* es el mismo que el valor *dwData* .

Este método envía el mensaje de [LVM_SORTITEMS](/windows/win32/Controls/lvm-sortitems) , que se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

La siguiente es una función de comparación simple que hace que los elementos se ordenen por sus valores *lParam* .

```cpp
// Sort items by associated lParam
int CALLBACK CListCtrlDlg::MyCompareProc(LPARAM lParam1, LPARAM lParam2,
    LPARAM lParamSort)
{
    UNREFERENCED_PARAMETER(lParamSort);
    return (int)(lParam1 - lParam2);
}
```

```cpp
// Sort the items by passing in the comparison function.
void CListCtrlDlg::Sort()
{
    m_myListCtrl.SortItems(&CListCtrlDlg::MyCompareProc, 0);
}
```

## <a name="sortitemsex"></a>CListCtrl:: SortItemsEx

Ordena los elementos del control de vista de lista actual usando una función de comparación definida por la aplicación.

```
BOOL SortItemsEx(
    PFNLVCOMPARE pfnCompare,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*pfnCompare*|de Dirección de la función de comparación definida por la aplicación.<br /><br /> La operación de ordenación llama a la función de comparación cada vez que es necesario determinar el orden relativo de dos elementos de lista. La función de comparación debe ser un miembro estático de una clase o una función independiente que no sea miembro de ninguna clase.|
|*dwData*|de Valor definido por la aplicación que se pasa a la función de comparación.|

### <a name="return-value"></a>Valor devuelto

TRUE si este método se realiza correctamente; en caso contrario, FALSE.

### <a name="remarks"></a>Observaciones

Este método cambia el índice de cada elemento para reflejar la nueva secuencia.

La función de comparación, *pfnCompare*, tiene el formato siguiente:

```
int CALLBACK CompareFunc(LPARAM lParam1,
    LPARAM lParam2,
    LPARAM lParamSort);
```
Este mensaje es como [LVM_SORTITEMS](/windows/win32/Controls/lvm-sortitems), excepto el tipo de información que se pasa a la función de comparación. En [LVM_SORTITEMS](/windows/win32/Controls/lvm-sortitems), *lParam1* y *lParam2* son los valores de los elementos que se van a comparar. En [LVM_SORTITEMSEX](/windows/win32/Controls/lvm-sortitemsex), *lParam1* es el índice actual del primer elemento que se va a comparar y *lParam2* es el índice actual del segundo elemento. Puede enviar un mensaje de [LVM_GETITEMTEXT](/windows/win32/Controls/lvm-getitemtext) para recuperar más información sobre un elemento.

La función de comparación debe devolver un valor negativo si el primer elemento debe preceder al segundo, un valor positivo si el primer elemento debe seguir el segundo, o cero si los dos elementos son iguales.

> [!NOTE]
>  Durante el proceso de ordenación, el contenido de la vista de lista es inestable. Si la función de devolución de llamada envía mensajes al control de vista de lista que no sea [LVM_GETITEM](/windows/win32/Controls/lvm-getitem), los resultados son imprevisibles.

Este método envía el mensaje de [LVM_SORTITEMSEX](/windows/win32/Controls/lvm-sortitemsex) , que se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se define una variable, `m_listCtrl`, que se usa para tener acceso al control de vista de lista actual. Esta variable se utiliza en el siguiente ejemplo.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se muestra el método `SortItemEx`. En una sección anterior de este ejemplo de código, creamos un control de vista de lista que muestra dos columnas titulada "ClientID" y "grade" en una vista de informe. En el ejemplo de código siguiente se ordena la tabla con los valores de la columna "grade".

```cpp
// The ListCompareFunc() method is a global function used by SortItemEx().
int CALLBACK ListCompareFunc(
                             LPARAM lParam1,
                             LPARAM lParam2,
                             LPARAM lParamSort)
{
    CListCtrl* pListCtrl = (CListCtrl*) lParamSort;
    CString    strItem1 = pListCtrl->GetItemText(static_cast<int>(lParam1), 1);
    CString    strItem2 = pListCtrl->GetItemText(static_cast<int>(lParam2), 1)
    int x1 = _tstoi(strItem1.GetBuffer());
    int x2 = _tstoi(strItem2.GetBuffer());
    int result = 0;
    if ((x1 - x2) < 0)
        result = -1;
    else if ((x1 - x2) == 0)
        result = 0;
    else
        result = 1;

    return result;
}

void CCListCtrl_s2Dlg::OnBnClickedButton1()
{
    // SortItemsEx
    m_listCtrl.SortItemsEx( ListCompareFunc, (LPARAM)&m_listCtrl );
}
```

## <a name="subitemhittest"></a>CListCtrl:: SubItemHitTest

Determina qué elemento de vista de lista, si existe, se encuentra en una posición determinada.

```
int SubItemHitTest(LPLVHITTESTINFO pInfo);
```

### <a name="parameters"></a>Parámetros

*pInfo*<br/>
Puntero a la estructura [LVHITTESTINFO](/windows/win32/api/commctrl/ns-commctrl-lvhittestinfo) .

### <a name="return-value"></a>Valor devuelto

Índice de base uno del elemento, o subelemento, que se va a probar (si existe) o-1 en caso contrario.

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento de la macro de Win32, [ListView_SubItemHitTest](/windows/win32/api/commctrl/nf-commctrl-listview_subitemhittest), como se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

```cpp
void CListCtrlDlg::OnDblClk(NMHDR* pNMHDR, LRESULT* pResult)
{
    UNREFERENCED_PARAMETER(pResult);
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;
    LVHITTESTINFO lvhti;

    // Clear the subitem text the user clicked on.
    lvhti.pt = pia->ptAction;
    m_myListCtrl.SubItemHitTest(&lvhti);

    if (lvhti.flags & LVHT_ONITEMLABEL)
    {
        m_myListCtrl.SetItemText(lvhti.iItem, lvhti.iSubItem, NULL);
    }
}
```

## <a name="update"></a>CListCtrl:: Update

Obliga al control de vista de lista a volver a pintar el elemento especificado por *nItem*.

```
BOOL Update(int nItem);
```

### <a name="parameters"></a>Parámetros

*nItem*<br/>
Índice del elemento que se va a actualizar.

### <a name="return-value"></a>Valor devuelto

Es distinto de cero si es correcto. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

Esta función también organiza el control de vista de lista si tiene el estilo LVS_AUTOARRANGE.

### <a name="example"></a>Ejemplo

Vea el ejemplo de [CListCtrl:: GetSelectedCount](#getselectedcount).

## <a name="see-also"></a>Consulte también

[Ejemplo de MFC ROWLIST](../../overview/visual-cpp-samples.md)<br/>
[CWnd (clase)](cwnd-class.md)<br/>
[Gráfico de jerarquías](../hierarchy-chart.md)<br/>
[CImageList (clase)](cimagelist-class.md)
