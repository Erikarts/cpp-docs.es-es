---
title: CTreeCtrl Class
ms.date: 11/04/2016
f1_keywords:
- CTreeCtrl
- AFXCMN/CTreeCtrl
- AFXCMN/CTreeCtrl::CTreeCtrl
- AFXCMN/CTreeCtrl::Create
- AFXCMN/CTreeCtrl::CreateDragImage
- AFXCMN/CTreeCtrl::CreateEx
- AFXCMN/CTreeCtrl::DeleteAllItems
- AFXCMN/CTreeCtrl::DeleteItem
- AFXCMN/CTreeCtrl::EditLabel
- AFXCMN/CTreeCtrl::EndEditLabelNow
- AFXCMN/CTreeCtrl::EnsureVisible
- AFXCMN/CTreeCtrl::Expand
- AFXCMN/CTreeCtrl::GetBkColor
- AFXCMN/CTreeCtrl::GetCheck
- AFXCMN/CTreeCtrl::GetChildItem
- AFXCMN/CTreeCtrl::GetCount
- AFXCMN/CTreeCtrl::GetDropHilightItem
- AFXCMN/CTreeCtrl::GetEditControl
- AFXCMN/CTreeCtrl::GetExtendedStyle
- AFXCMN/CTreeCtrl::GetFirstVisibleItem
- AFXCMN/CTreeCtrl::GetImageList
- AFXCMN/CTreeCtrl::GetIndent
- AFXCMN/CTreeCtrl::GetInsertMarkColor
- AFXCMN/CTreeCtrl::GetItem
- AFXCMN/CTreeCtrl::GetItemData
- AFXCMN/CTreeCtrl::GetItemExpandedImageIndex
- AFXCMN/CTreeCtrl::GetItemHeight
- AFXCMN/CTreeCtrl::GetItemImage
- AFXCMN/CTreeCtrl::GetItemPartRect
- AFXCMN/CTreeCtrl::GetItemRect
- AFXCMN/CTreeCtrl::GetItemState
- AFXCMN/CTreeCtrl::GetItemStateEx
- AFXCMN/CTreeCtrl::GetItemText
- AFXCMN/CTreeCtrl::GetLastVisibleItem
- AFXCMN/CTreeCtrl::GetLineColor
- AFXCMN/CTreeCtrl::GetNextItem
- AFXCMN/CTreeCtrl::GetNextSiblingItem
- AFXCMN/CTreeCtrl::GetNextVisibleItem
- AFXCMN/CTreeCtrl::GetParentItem
- AFXCMN/CTreeCtrl::GetPrevSiblingItem
- AFXCMN/CTreeCtrl::GetPrevVisibleItem
- AFXCMN/CTreeCtrl::GetRootItem
- AFXCMN/CTreeCtrl::GetScrollTime
- AFXCMN/CTreeCtrl::GetSelectedCount
- AFXCMN/CTreeCtrl::GetSelectedItem
- AFXCMN/CTreeCtrl::GetTextColor
- AFXCMN/CTreeCtrl::GetToolTips
- AFXCMN/CTreeCtrl::GetVisibleCount
- AFXCMN/CTreeCtrl::HitTest
- AFXCMN/CTreeCtrl::InsertItem
- AFXCMN/CTreeCtrl::ItemHasChildren
- AFXCMN/CTreeCtrl::MapAccIdToItem
- AFXCMN/CTreeCtrl::MapItemToAccID
- AFXCMN/CTreeCtrl::Select
- AFXCMN/CTreeCtrl::SelectDropTarget
- AFXCMN/CTreeCtrl::SelectItem
- AFXCMN/CTreeCtrl::SelectSetFirstVisible
- AFXCMN/CTreeCtrl::SetAutoscrollInfo
- AFXCMN/CTreeCtrl::SetBkColor
- AFXCMN/CTreeCtrl::SetCheck
- AFXCMN/CTreeCtrl::SetExtendedStyle
- AFXCMN/CTreeCtrl::SetImageList
- AFXCMN/CTreeCtrl::SetIndent
- AFXCMN/CTreeCtrl::SetInsertMark
- AFXCMN/CTreeCtrl::SetInsertMarkColor
- AFXCMN/CTreeCtrl::SetItem
- AFXCMN/CTreeCtrl::SetItemData
- AFXCMN/CTreeCtrl::SetItemExpandedImageIndex
- AFXCMN/CTreeCtrl::SetItemHeight
- AFXCMN/CTreeCtrl::SetItemImage
- AFXCMN/CTreeCtrl::SetItemState
- AFXCMN/CTreeCtrl::SetItemStateEx
- AFXCMN/CTreeCtrl::SetItemText
- AFXCMN/CTreeCtrl::SetLineColor
- AFXCMN/CTreeCtrl::SetScrollTime
- AFXCMN/CTreeCtrl::SetTextColor
- AFXCMN/CTreeCtrl::SetToolTips
- AFXCMN/CTreeCtrl::ShowInfoTip
- AFXCMN/CTreeCtrl::SortChildren
- AFXCMN/CTreeCtrl::SortChildrenCB
helpviewer_keywords:
- CTreeCtrl [MFC], CTreeCtrl
- CTreeCtrl [MFC], Create
- CTreeCtrl [MFC], CreateDragImage
- CTreeCtrl [MFC], CreateEx
- CTreeCtrl [MFC], DeleteAllItems
- CTreeCtrl [MFC], DeleteItem
- CTreeCtrl [MFC], EditLabel
- CTreeCtrl [MFC], EndEditLabelNow
- CTreeCtrl [MFC], EnsureVisible
- CTreeCtrl [MFC], Expand
- CTreeCtrl [MFC], GetBkColor
- CTreeCtrl [MFC], GetCheck
- CTreeCtrl [MFC], GetChildItem
- CTreeCtrl [MFC], GetCount
- CTreeCtrl [MFC], GetDropHilightItem
- CTreeCtrl [MFC], GetEditControl
- CTreeCtrl [MFC], GetExtendedStyle
- CTreeCtrl [MFC], GetFirstVisibleItem
- CTreeCtrl [MFC], GetImageList
- CTreeCtrl [MFC], GetIndent
- CTreeCtrl [MFC], GetInsertMarkColor
- CTreeCtrl [MFC], GetItem
- CTreeCtrl [MFC], GetItemData
- CTreeCtrl [MFC], GetItemExpandedImageIndex
- CTreeCtrl [MFC], GetItemHeight
- CTreeCtrl [MFC], GetItemImage
- CTreeCtrl [MFC], GetItemPartRect
- CTreeCtrl [MFC], GetItemRect
- CTreeCtrl [MFC], GetItemState
- CTreeCtrl [MFC], GetItemStateEx
- CTreeCtrl [MFC], GetItemText
- CTreeCtrl [MFC], GetLastVisibleItem
- CTreeCtrl [MFC], GetLineColor
- CTreeCtrl [MFC], GetNextItem
- CTreeCtrl [MFC], GetNextSiblingItem
- CTreeCtrl [MFC], GetNextVisibleItem
- CTreeCtrl [MFC], GetParentItem
- CTreeCtrl [MFC], GetPrevSiblingItem
- CTreeCtrl [MFC], GetPrevVisibleItem
- CTreeCtrl [MFC], GetRootItem
- CTreeCtrl [MFC], GetScrollTime
- CTreeCtrl [MFC], GetSelectedCount
- CTreeCtrl [MFC], GetSelectedItem
- CTreeCtrl [MFC], GetTextColor
- CTreeCtrl [MFC], GetToolTips
- CTreeCtrl [MFC], GetVisibleCount
- CTreeCtrl [MFC], HitTest
- CTreeCtrl [MFC], InsertItem
- CTreeCtrl [MFC], ItemHasChildren
- CTreeCtrl [MFC], MapAccIdToItem
- CTreeCtrl [MFC], MapItemToAccID
- CTreeCtrl [MFC], Select
- CTreeCtrl [MFC], SelectDropTarget
- CTreeCtrl [MFC], SelectItem
- CTreeCtrl [MFC], SelectSetFirstVisible
- CTreeCtrl [MFC], SetAutoscrollInfo
- CTreeCtrl [MFC], SetBkColor
- CTreeCtrl [MFC], SetCheck
- CTreeCtrl [MFC], SetExtendedStyle
- CTreeCtrl [MFC], SetImageList
- CTreeCtrl [MFC], SetIndent
- CTreeCtrl [MFC], SetInsertMark
- CTreeCtrl [MFC], SetInsertMarkColor
- CTreeCtrl [MFC], SetItem
- CTreeCtrl [MFC], SetItemData
- CTreeCtrl [MFC], SetItemExpandedImageIndex
- CTreeCtrl [MFC], SetItemHeight
- CTreeCtrl [MFC], SetItemImage
- CTreeCtrl [MFC], SetItemState
- CTreeCtrl [MFC], SetItemStateEx
- CTreeCtrl [MFC], SetItemText
- CTreeCtrl [MFC], SetLineColor
- CTreeCtrl [MFC], SetScrollTime
- CTreeCtrl [MFC], SetTextColor
- CTreeCtrl [MFC], SetToolTips
- CTreeCtrl [MFC], ShowInfoTip
- CTreeCtrl [MFC], SortChildren
- CTreeCtrl [MFC], SortChildrenCB
ms.assetid: 96e20031-6161-4143-8c12-8d1816c66d90
ms.openlocfilehash: 6fe7b133fa01285f85dc28dc8d8ca01e027f4a5c
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/14/2020
ms.locfileid: "81373303"
---
# <a name="ctreectrl-class"></a>CTreeCtrl Class

Proporciona la funcionalidad del control de vista de árbol común de Windows.

## <a name="syntax"></a>Sintaxis

```
class CTreeCtrl : public CWnd
```

## <a name="members"></a>Miembros

### <a name="public-constructors"></a>Constructores públicos

|Nombre|Descripción|
|----------|-----------------|
|[CTreeCtrl::CTreeCtrl](#ctreectrl)|Construye un objeto `CTreeCtrl`.|

### <a name="public-methods"></a>Métodos públicos

|Nombre|Descripción|
|----------|-----------------|
|[CTreeCtrl::Crear](#create)|Crea un control de vista de `CTreeCtrl` árbol y lo asocia a un objeto.|
|[CTreeCtrl::CreateDragImage](#createdragimage)|Crea un mapa de bits de arrastre para el elemento de vista de árbol especificado.|
|[CTreeCtrl::CreateEx](#createex)|Crea un control de árbol con los estilos `CTreeCtrl` extendidos de Windows especificados y lo asocia a un objeto.|
|[CTreeCtrl::DeleteAllItems](#deleteallitems)|Elimina todos los elementos de un control de vista de árbol.|
|[CTreeCtrl::DeleteItem](#deleteitem)|Elimina un nuevo elemento en un control de vista de árbol.|
|[CTreeCtrl::EditLabel](#editlabel)|Edita un elemento de vista de árbol especificado in situ.|
|[CTreeCtrl::EndEditLabelNow](#endeditlabelnow)|Cancela la operación de edición en la etiqueta de un elemento de vista de árbol en el control de vista de árbol actual.|
|[CTreeCtrl::EnsureVisible](#ensurevisible)|Garantiza que un elemento de vista de árbol esté visible en su control de vista de árbol.|
|[CTreeCtrl::Expandir](#expand)|Expande o contrae los elementos secundarios del elemento de vista de árbol especificado.|
|[CTreeCtrl::GetBkColor](#getbkcolor)|Recupera el color de fondo actual del control.|
|[CTreeCtrl::GetCheck](#getcheck)|Recupera el estado de comprobación de un elemento de control de árbol.|
|[CTreeCtrl::GetChildItem](#getchilditem)|Recupera el elemento secundario de un elemento de vista de árbol especificado.|
|[CTreeCtrl::GetCount](#getcount)|Recupera el número de elementos de árbol asociados a un control de vista de árbol.|
|[CTreeCtrl::GetDropHilightItem](#getdrophilightitem)|Recupera el destino de una operación de arrastrar y colocar.|
|[CTreeCtrl::GetEditControl](#geteditcontrol)|Recupera el identificador del control de edición utilizado para editar el elemento de vista de árbol especificado.|
|[CTreeCtrl::GetExtendedStyle](#getextendedstyle)|Recupera los estilos extendidos que utiliza el control de vista de árbol actual.|
|[CTreeCtrl::GetFirstVisibleItem](#getfirstvisibleitem)|Recupera el primer elemento visible del elemento de vista de árbol especificado.|
|[CTreeCtrl::GetImageList](#getimagelist)|Recupera el identificador de la lista de imágenes asociada a un control de vista de árbol.|
|[CTreeCtrl::GetIndent](#getindent)|Recupera el desplazamiento (en píxeles) de un elemento de vista de árbol de su elemento primario.|
|[CTreeCtrl::GetInsertMarkColor](#getinsertmarkcolor)|Recupera el color utilizado para dibujar la marca de inserción para la vista de árbol.|
|[CTreeCtrl::GetItem](#getitem)|Recupera los atributos de un elemento de vista de árbol especificado.|
|[CTreeCtrl::GetItemData](#getitemdata)|Devuelve el valor específico de la aplicación asociado a un elemento.|
|[CTreeCtrl::GetItemExpandedImageIndex](#getitemexpandedimageindex)|Recupera el índice de la imagen que se mostrará cuando el elemento especificado del control de vista de árbol actual está en el estado expandido.|
|[CTreeCtrl::GetItemHeight](#getitemheight)|Recupera la altura actual de los elementos de vista de árbol.|
|[CTreeCtrl::GetItemImage](#getitemimage)|Recupera las imágenes asociadas a un elemento.|
|[CTreeCtrl::GetItemPartRect](#getitempartrect)|Recupera el rectángulo delimitador de una parte especificada de un elemento especificado en el control de vista de árbol actual.|
|[CTreeCtrl::GetItemRect](#getitemrect)|Recupera el rectángulo delimitador de un elemento de vista de árbol.|
|[CTreeCtrl::GetItemState](#getitemstate)|Devuelve el estado de un elemento.|
|[CTreeCtrl::GetItemStateEx](#getitemstateex)|Recupera el estado extendido del elemento especificado en el control de vista de árbol actual.|
|[CTreeCtrl::GetItemText](#getitemtext)|Devuelve el texto de un elemento.|
|[CTreeCtrl::GetLastVisibleItem](#getlastvisibleitem)|Recupera el último elemento expandido en el control de vista de árbol actual.|
|[CTreeCtrl::GetLineColor](#getlinecolor)|Recupera el color de línea actual para el control de vista de árbol.|
|[CTreeCtrl::GetNextItem](#getnextitem)|Recupera el siguiente elemento de vista de árbol que coincide con una relación especificada.|
|[CTreeCtrl::GetNextSiblingItem](#getnextsiblingitem)|Recupera el siguiente elemento del mismo nivel del elemento de vista de árbol especificado.|
|[CTreeCtrl::GetNextVisibleItem](#getnextvisibleitem)|Recupera el siguiente elemento visible del elemento de vista de árbol especificado.|
|[CTreeCtrl::GetParentItem](#getparentitem)|Recupera el elemento primario del elemento de vista de árbol especificado.|
|[CTreeCtrl::GetPrevSiblingItem](#getprevsiblingitem)|Recupera el elemento del mismo nivel anterior del elemento de vista de árbol especificado.|
|[CTreeCtrl::GetPrevVisibleItem](#getprevvisibleitem)|Recupera el elemento visible anterior del elemento de vista de árbol especificado.|
|[CTreeCtrl::GetRootItem](#getrootitem)|Recupera la raíz del elemento de vista de árbol especificado.|
|[CTreeCtrl::GetScrollTime](#getscrolltime)|Recupera el tiempo de desplazamiento máximo para el control de vista de árbol.|
|[CTreeCtrl::GetSelectedCount](#getselectedcount)|Recupera el número de elementos seleccionados en el control de vista de árbol actual.|
|[CTreeCtrl::GetSelectedItem](#getselecteditem)|Recupera el elemento de vista de árbol seleccionado actualmente.|
|[CTreeCtrl::GetTextColor](#gettextcolor)|Recupera el color de texto actual del control.|
|[CTreeCtrl::GetToolTips](#gettooltips)|Recupera el identificador para el control de información sobre herramientas secundario utilizado por un control de vista de árbol.|
|[CTreeCtrl::GetVisibleCount](#getvisiblecount)|Recupera el número de elementos de árbol visibles asociados a un control de vista de árbol.|
|[CTreeCtrl::HitTest](#hittest)|Devuelve la posición actual del `CTreeCtrl` cursor relacionada con el objeto.|
|[CTreeCtrl::InsertItem](#insertitem)|Inserta un nuevo elemento en un control de vista de árbol.|
|[CTreeCtrl::ItemHasChildren](#itemhaschildren)|Devuelve distinto de cero si el elemento especificado tiene elementos secundarios.|
|[CTreeCtrl::MapAccIdToItem](#mapaccidtoitem)|Asigna el identificador de accesibilidad especificado al identificador a un elemento de vista de árbol en el control de vista de árbol actual.|
|[CTreeCtrl::MapItemToAccID](#mapitemtoaccid)|Asigna el identificador especificado a un elemento de vista de árbol en el control de vista de árbol actual a un identificador de accesibilidad.|
|[CTreeCtrl::Select](#select)|Selecciona, se desplaza a la vista o vuelve a dibujar un elemento de vista de árbol especificado.|
|[CTreeCtrl::SelectDropTarget](#selectdroptarget)|Redibuja el elemento de árbol como destino de una operación de arrastrar y colocar.|
|[CTreeCtrl::SelectItem](#selectitem)|Selecciona un elemento de vista de árbol especificado.|
|[CTreeCtrl::SelectSetFirstVisible](#selectsetfirstvisible)|Selecciona un elemento de vista de árbol especificado como el primer elemento visible.|
|[CTreeCtrl::SetAutoscrollInfo](#setautoscrollinfo)|Establece la velocidad de desplazamiento automático del control de vista de árbol actual.|
|[CTreeCtrl::SetBkColor](#setbkcolor)|Establece el color de fondo del control.|
|[CTreeCtrl::SetCheck](#setcheck)|Establece el estado de comprobación de un elemento de control de árbol.|
|[CTreeCtrl::SetExtendedStyle](#setextendedstyle)|Establece los estilos extendidos para el control de vista de árbol actual.|
|[CTreeCtrl::SetImageList](#setimagelist)|Establece el identificador de la lista de imágenes asociada a un control de vista de árbol.|
|[CTreeCtrl::SetIndent](#setindent)|Establece el desplazamiento (en píxeles) de un elemento de vista de árbol de su elemento primario.|
|[CTreeCtrl::SetInsertMark](#setinsertmark)|Establece la marca de inserción en un control de vista de árbol.|
|[CTreeCtrl::SetInsertMarkColor](#setinsertmarkcolor)|Establece el color utilizado para dibujar la marca de inserción de la vista en árbol.|
|[CTreeCtrl::SetItem](#setitem)|Establece los atributos de un elemento de vista de árbol especificado.|
|[CTreeCtrl::SetItemData](#setitemdata)|Establece el valor específico de la aplicación asociado a un elemento.|
|[CTreeCtrl::SetItemExpandedImageIndex](#setitemexpandedimageindex)|Establece el índice de la imagen que se mostrará cuando el elemento especificado del control de vista de árbol actual esté en estado expandido.|
|[CTreeCtrl::SetItemHeight](#setitemheight)|Establece la altura de los elementos de la vista de árbol.|
|[CTreeCtrl::SetItemImage](#setitemimage)|Asocia imágenes a un elemento.|
|[CTreeCtrl::SetItemState](#setitemstate)|Establece el estado de un elemento.|
|[CTreeCtrl::SetItemStateEx](#setitemstateex)|Establece el estado extendido del elemento especificado en el control de vista de árbol actual.|
|[CTreeCtrl::SetItemText](#setitemtext)|Establece el texto de un elemento.|
|[CTreeCtrl::SetLineColor](#setlinecolor)|Establece el color de línea actual para el control de vista de árbol.|
|[CTreeCtrl::SetScrollTime](#setscrolltime)|Establece el tiempo máximo de desplazamiento para el control de vista de árbol.|
|[CTreeCtrl::SetTextColor](#settextcolor)|Establece el color del texto del control.|
|[CTreeCtrl::SetToolTips](#settooltips)|Establece el control de información sobre herramientas secundario de un control de vista de árbol.|
|[CTreeCtrl::ShowInfoTip](#showinfotip)|Muestra la información del elemento especificado en el control de vista de árbol actual.|
|[CTreeCtrl::SortChildren](#sortchildren)|Ordena los elementos secundarios de un elemento primario determinado.|
|[CTreeCtrl::SortChildrenCB](#sortchildrencb)|Ordena los elementos secundarios de un elemento primario determinado mediante una función de ordenación definida por la aplicación.|

## <a name="remarks"></a>Observaciones

Un "control de vista de árbol" es una ventana que muestra una lista jerárquica de elementos, como los encabezados de un documento, las entradas de un índice o los archivos y directorios de un disco. Cada elemento consta de una etiqueta y una imagen de mapa de bits opcional, y cada elemento puede tener una lista de subelementos asociados. Al hacer clic en un elemento, el usuario puede expandir y contraer la lista asociada de subelementos.

Este control (y, por lo tanto, la `CTreeCtrl` clase) solo está disponible para los programas que se ejecutan en Windows 98 y Windows NT versión 4 y versiones posteriores.

Para obtener más `CTreeCtrl`información sobre el uso de , consulte:

- [Controles](../../mfc/controls-mfc.md)

- [Usar CTreeCtrl](../../mfc/using-ctreectrl.md)

- [Referencia de control](/windows/win32/Controls/tree-view-control-reference) de vista de árbol en el Windows SDK.

## <a name="inheritance-hierarchy"></a>Jerarquía de herencia

[CObject](../../mfc/reference/cobject-class.md)

[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)

[CWnd](../../mfc/reference/cwnd-class.md)

`CTreeCtrl`

## <a name="requirements"></a>Requisitos

**Encabezado:** afxcmn.h

## <a name="ctreectrlcreate"></a><a name="create"></a>CTreeCtrl::Crear

Si especifica el control de árbol en una plantilla de cuadro de diálogo, o si utiliza [CTreeView](../../mfc/reference/ctreeview-class.md), el control de árbol se crea automáticamente cuando se crea el cuadro de diálogo o la vista.

```
virtual BOOL Create(
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Parámetros

*dwStyle*<br/>
Especifica el estilo del control de vista de árbol. Aplique estilos de ventana, que se describen en [CreateWindow](/windows/win32/api/winuser/nf-winuser-createwindoww)y cualquier combinación de [estilos](/windows/win32/Controls/tree-view-control-window-styles) de control de vista de árbol como se describe en el Windows SDK.

*Rect*<br/>
Especifica el tamaño y la posición del control de vista de árbol. Puede ser un [CRect](../../atl-mfc-shared/reference/crect-class.md) objeto o un [RECT](/previous-versions/dd162897\(v=vs.85\)) estructura.

*pParentWnd*<br/>
Especifica la ventana primaria del control de `CDialog`vista de árbol, normalmente un archivo . No debe ser NULL.

*nID*<br/>
Especifica el identificador del control de vista de árbol.

### <a name="return-value"></a>Valor devuelto

Distinto de cero si la inicialización se realizó correctamente; de lo contrario 0.

### <a name="remarks"></a>Observaciones

Si desea crear el control de árbol como una ventana `Create` secundaria de alguna otra ventana, utilice la función miembro. Si crea el control `Create`de árbol mediante , debe pasarlo WS_VISIBLE, además de otros estilos de vista de árbol.

Se construye `CTreeCtrl` un en dos pasos. En primer lugar, `Create`llame al constructor y, a continuación, `CTreeCtrl` llame a , que crea el control de vista de árbol y lo adjunta al objeto.

Para crear un control de árbol con estilos de ventana extendidos, llame a [CreateEx](#createex) en lugar de `Create`.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_1.cpp)]

## <a name="ctreectrlcreateex"></a><a name="createex"></a>CTreeCtrl::CreateEx

Llame a esta función para crear un control `CTreeCtrl` (una ventana secundaria) y asociarlo con el objeto.

```
virtual BOOL CreateEx(
    DWORD dwExStyle,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Parámetros

*dwExStyle*<br/>
Especifica el estilo extendido del control que se está creando. Para obtener una lista de estilos de Windows extendidos, vea el *dwExStyle* parámetro para [CreateWindowEx](/windows/win32/api/winuser/nf-winuser-createwindowexw) en el Windows SDK.

*dwStyle*<br/>
Especifica el estilo del control de vista de árbol. Aplique estilos de ventana, que se describen en [CreateWindow](/windows/win32/api/winuser/nf-winuser-createwindoww)y cualquier combinación de [estilos](/windows/win32/Controls/tree-view-control-window-styles) de control de vista de árbol como se describe en el Windows SDK.

*Rect*<br/>
Una referencia a una estructura [RECT](/previous-versions/dd162897\(v=vs.85\)) que describe el tamaño y la posición de la ventana que se va a crear, en coordenadas de cliente de *pParentWnd*.

*pParentWnd*<br/>
Puntero a la ventana que es el elemento primario del control.

*nID*<br/>
Identificador de ventana secundaria del control.

### <a name="return-value"></a>Valor devuelto

Distinto de cero si se realiza correctamente 0.

### <a name="remarks"></a>Observaciones

Se `CreateEx` usa en lugar de [Crear](#create) para aplicar estilos de Windows extendidos, especificados por el **prefacio**de estilo extendido de Windows WS_EX_ .

## <a name="ctreectrlcreatedragimage"></a><a name="createdragimage"></a>CTreeCtrl::CreateDragImage

Llame a esta función para crear un mapa de bits de arrastre para el elemento dado en un control de vista de árbol, cree una lista de imágenes para el mapa de bits y agregue el mapa de bits a la lista de imágenes.

```
CImageList* CreateDragImage(HTREEITEM hItem);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Control del elemento de árbol que se va a arrastrar.

### <a name="return-value"></a>Valor devuelto

Puntero a la lista de imágenes a la que se agregó el mapa de bits de arrastre, si se realiza correctamente; NULL.

### <a name="remarks"></a>Observaciones

Una aplicación utiliza las funciones de lista de imágenes para mostrar la imagen cuando se arrastra el elemento.

El `CImageList` objeto es permanente y debe eliminarlo cuando haya terminado. Por ejemplo:

[!code-cpp[NVC_MFC_CTreeCtrl#2](../../mfc/reference/codesnippet/cpp/ctreectrl-class_2.cpp)]

## <a name="ctreectrlctreectrl"></a><a name="ctreectrl"></a>CTreeCtrl::CTreeCtrl

Construye un objeto `CTreeCtrl`.

```
CTreeCtrl();
```

## <a name="ctreectrldeleteallitems"></a><a name="deleteallitems"></a>CTreeCtrl::DeleteAllItems

Llame a esta función para eliminar todos los elementos del control de vista de árbol.

```
BOOL DeleteAllItems();
```

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#3](../../mfc/reference/codesnippet/cpp/ctreectrl-class_3.cpp)]

## <a name="ctreectrldeleteitem"></a><a name="deleteitem"></a>CTreeCtrl::DeleteItem

Llame a esta función para eliminar un elemento del control de vista de árbol.

```
BOOL DeleteItem(HTREEITEM hItem);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Control del elemento de árbol que se va a eliminar. Si *hitem* tiene el valor TVI_ROOT, todos los elementos se eliminan del control de vista de árbol.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#4](../../mfc/reference/codesnippet/cpp/ctreectrl-class_4.cpp)]

## <a name="ctreectrleditlabel"></a><a name="editlabel"></a>CTreeCtrl::EditLabel

Llame a esta función para comenzar la edición in situ del texto del elemento especificado.

```
CEdit* EditLabel(HTREEITEM hItem);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Control del elemento de árbol que se va a editar.

### <a name="return-value"></a>Valor devuelto

Si se realiza correctamente, un puntero al `CEdit` objeto que se utiliza para editar el texto del elemento; NULL.

### <a name="remarks"></a>Observaciones

La edición se realiza reemplazando el texto del elemento por un control de edición de una sola línea que contiene el texto.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#5](../../mfc/reference/codesnippet/cpp/ctreectrl-class_5.cpp)]

## <a name="ctreectrlendeditlabelnow"></a><a name="endeditlabelnow"></a>CTreeCtrl::EndEditLabelNow

Concluye la operación de edición en la etiqueta de un elemento de vista de árbol en el control de vista de árbol actual.

```
BOOL EndEditLabelNow(BOOL fCancelWithoutSave);
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*fCancelWithoutSave*|[en] TRUE para descartar los cambios en el elemento de vista de árbol antes de concluir la operación de edición, o FALSE para guardar los cambios en el elemento de vista de árbol antes de concluir la operación.|

### <a name="return-value"></a>Valor devuelto

TRUESi este método se realiza correctamente; de lo contrario, FALSE.

### <a name="remarks"></a>Observaciones

Este método envía el [mensaje TVM_ENDEDITLABELNOW,](/windows/win32/Controls/tvm-endeditlabelnow) que se describe en el Windows SDK.

## <a name="ctreectrlensurevisible"></a><a name="ensurevisible"></a>CTreeCtrl::EnsureVisible

Llame a esta función para asegurarse de que un elemento de vista de árbol está visible.

```
BOOL EnsureVisible(HTREEITEM hItem);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Control del elemento de árbol que se hace visible.

### <a name="return-value"></a>Valor devuelto

Devuelve TRUE si el sistema desplazó los elementos en el control de vista de árbol para asegurarse de que el elemento especificado está visible. De lo contrario, el valor devuelto es FALSE.

### <a name="remarks"></a>Observaciones

Si es necesario, la función expande el elemento primario o desplaza el control de vista de árbol para que el elemento esté visible.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#6](../../mfc/reference/codesnippet/cpp/ctreectrl-class_6.cpp)]

## <a name="ctreectrlexpand"></a><a name="expand"></a>CTreeCtrl::Expandir

Llame a esta función para expandir o contraer la lista de elementos secundarios, si los hay, asociados con el elemento primario especificado.

```
BOOL Expand(
    HTREEITEM hItem,
    UINT nCode);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Control del elemento de árbol que se está expandiendo.

*nCódigo*<br/>
Una marca que indica el tipo de acción que se va a realizar. Esta marca puede tener uno de los siguientes valores:

- TVE_COLLAPSE Contrae la lista.

- TVE_COLLAPSERESET Contrae la lista y quita los elementos secundarios. Se restablece el indicador de estado TVIS_EXPANDEDONCE. Esta marca debe utilizarse con la marca TVE_COLLAPSE.

- TVE_EXPAND Expande la lista.

- TVE_TOGGLE Contrae la lista si actualmente está expandida o la expande si está contraída actualmente.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::EnsureVisible](#ensurevisible).

## <a name="ctreectrlgetbkcolor"></a><a name="getbkcolor"></a>CTreeCtrl::GetBkColor

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_GETBKCOLOR](/windows/win32/Controls/tvm-getbkcolor), como se describe en el Windows SDK.

```
COLORREF GetBkColor() const;
```

### <a name="return-value"></a>Valor devuelto

Un color COLORREF valor que representa el color de fondo de la ventana actual para el control. Si este valor es -1, el control utiliza el color de la ventana del sistema. En este caso, `::GetSysColor(COLOR_WINDOW)` puede utilizar para obtener el color actual del sistema que utiliza el control.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::SetTextColor](#settextcolor).

## <a name="ctreectrlgetcheck"></a><a name="getcheck"></a>CTreeCtrl::GetCheck

Llame a esta función miembro para recuperar el estado de comprobación de un elemento.

```
BOOL GetCheck(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
El HTREEITEM sobre el que se va a recibir la información de estado.

### <a name="return-value"></a>Valor devuelto

Distinto de cero si se comprueba el elemento de control de árbol; de lo contrario 0.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::SetCheck](#setcheck).

## <a name="ctreectrlgetchilditem"></a><a name="getchilditem"></a>CTreeCtrl::GetChildItem

Llame a esta función para recuperar el elemento de vista de árbol que es el elemento secundario del elemento especificado por *hItem*.

```
HTREEITEM GetChildItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Control de un elemento de árbol.

### <a name="return-value"></a>Valor devuelto

El identificador del elemento secundario si se realiza correctamente; NULL.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#7](../../mfc/reference/codesnippet/cpp/ctreectrl-class_7.cpp)]

## <a name="ctreectrlgetcount"></a><a name="getcount"></a>CTreeCtrl::GetCount

Llame a esta función para recuperar un recuento de los elementos en un control de vista de árbol.

```
UINT GetCount() const;
```

### <a name="return-value"></a>Valor devuelto

El número de elementos en el control de vista de árbol.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#8](../../mfc/reference/codesnippet/cpp/ctreectrl-class_8.cpp)]

## <a name="ctreectrlgetdrophilightitem"></a><a name="getdrophilightitem"></a>CTreeCtrl::GetDropHilightItem

Llame a esta función para recuperar el elemento que es el destino de una operación de arrastrar y colocar.

```
HTREEITEM GetDropHilightItem() const;
```

### <a name="return-value"></a>Valor devuelto

El identificador del elemento se ha quitado si se realiza correctamente; NULL.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#9](../../mfc/reference/codesnippet/cpp/ctreectrl-class_9.cpp)]

## <a name="ctreectrlgeteditcontrol"></a><a name="geteditcontrol"></a>CTreeCtrl::GetEditControl

Llame a esta función para recuperar el identificador del control de edición que se usa para editar el texto de un elemento de vista de árbol.

```
CEdit* GetEditControl() const;
```

### <a name="return-value"></a>Valor devuelto

Un puntero al control de edición utilizado para editar el texto del elemento, si se realiza correctamente; NULL.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#10](../../mfc/reference/codesnippet/cpp/ctreectrl-class_10.cpp)]

## <a name="ctreectrlgetextendedstyle"></a><a name="getextendedstyle"></a>CTreeCtrl::GetExtendedStyle

Recupera los estilos extendidos que utiliza el control de vista de árbol actual.

```
DWORD GetExtendedStyle() const;
```

### <a name="return-value"></a>Valor devuelto

Valor que contiene una combinación bit a bit (OR) de los estilos extendidos del control de vista de árbol actual. Para obtener más información, consulte [Estilos extendidos](/windows/win32/Controls/tree-view-control-window-extended-styles)de control de vista de árbol .

### <a name="remarks"></a>Observaciones

Este método envía el [mensaje TVM_GETEXTENDEDSTYLE,](/windows/win32/Controls/tvm-getextendedstyle) que se describe en el Windows SDK.

## <a name="ctreectrlgetfirstvisibleitem"></a><a name="getfirstvisibleitem"></a>CTreeCtrl::GetFirstVisibleItem

Llame a esta función para recuperar el primer elemento visible del control de vista de árbol.

```
HTREEITEM GetFirstVisibleItem() const;
```

### <a name="return-value"></a>Valor devuelto

El identificador del primer elemento visible; NULL.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::SetCheck](#setcheck).

## <a name="ctreectrlgetimagelist"></a><a name="getimagelist"></a>CTreeCtrl::GetImageList

Llame a esta función para recuperar el identificador de la lista de imágenes normal o de estado asociada con el control de vista de árbol.

```
CImageList* GetImageList(UINT nImageList) const;
```

### <a name="parameters"></a>Parámetros

*nImageList*<br/>
Tipo de lista de imágenes que se va a recuperar. La lista de imágenes puede ser uno de los siguientes valores:

- TVSIL_NORMAL Recupera la lista de imágenes normales, que contiene las imágenes seleccionadas y no seleccionadas para el elemento de vista en árbol.

- TVSIL_STATE Recupera la lista de imágenes de estado, que contiene las imágenes de los elementos de vista de árbol que se encuentran en un estado definido por el usuario.

### <a name="return-value"></a>Valor devuelto

Puntero a la lista de imágenes del control si se realiza correctamente; NULL.

### <a name="remarks"></a>Observaciones

Cada elemento de un control de vista de árbol puede tener un par de imágenes de mapa de bits asociadas. Se muestra una imagen cuando se selecciona el elemento y la otra cuando el elemento no está seleccionado. Por ejemplo, un elemento puede mostrar una carpeta abierta cuando se selecciona y una carpeta cerrada cuando no está seleccionada.

Para obtener más información sobre las listas de imágenes, vea el [CImageList](../../mfc/reference/cimagelist-class.md) clase.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#11](../../mfc/reference/codesnippet/cpp/ctreectrl-class_11.cpp)]

## <a name="ctreectrlgetindent"></a><a name="getindent"></a>CTreeCtrl::GetIndent

Llame a esta función para recuperar la cantidad, en píxeles, que los elementos secundarios se sangran en relación con sus elementos primarios.

```
UINT GetIndent() const;
```

### <a name="return-value"></a>Valor devuelto

La cantidad de sangría medida en píxeles.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#12](../../mfc/reference/codesnippet/cpp/ctreectrl-class_12.cpp)]

## <a name="ctreectrlgetinsertmarkcolor"></a><a name="getinsertmarkcolor"></a>CTreeCtrl::GetInsertMarkColor

Esta función miembro implementa el comportamiento del [mensaje de](/windows/win32/Controls/tvm-getinsertmarkcolor)Win32 TVM_GETINSERTMARKCOLOR , como se describe en el Windows SDK.

```
COLORREF GetInsertMarkColor() const;
```

### <a name="return-value"></a>Valor devuelto

Valor COLORREF que contiene el color de la marca de inserción actual.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#13](../../mfc/reference/codesnippet/cpp/ctreectrl-class_13.cpp)]

## <a name="ctreectrlgetitem"></a><a name="getitem"></a>CTreeCtrl::GetItem

Llame a esta función para recuperar los atributos del elemento de vista de árbol especificado.

```
BOOL GetItem(TVITEM* pItem) const;
```

### <a name="parameters"></a>Parámetros

*pItem*<br/>
Un puntero a una estructura [TVITEM,](/windows/win32/api/commctrl/ns-commctrl-tvitemw) como se describe en el Windows SDK.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::DeleteItem](#deleteitem).

## <a name="ctreectrlgetitemdata"></a><a name="getitemdata"></a>CTreeCtrl::GetItemData

Llame a esta función para recuperar el valor específico de la aplicación asociado con el elemento especificado.

```
DWORD_PTR GetItemData(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Control del elemento cuyos datos se van a recuperar.

### <a name="return-value"></a>Valor devuelto

Un valor específico de la aplicación del tamaño de un puntero asociado al elemento especificado por *hItem*.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#14](../../mfc/reference/codesnippet/cpp/ctreectrl-class_14.cpp)]

## <a name="ctreectrlgetitemexpandedimageindex"></a><a name="getitemexpandedimageindex"></a>CTreeCtrl::GetItemExpandedImageIndex

Recupera el índice de la imagen que se mostrará cuando el elemento especificado del control de vista de árbol actual está en el estado expandido.

```
int GetItemExpandedImageIndex(HTREEITEM hItem)const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*hItem*|[en] Controlar a un elemento de control de vista de árbol.|

### <a name="return-value"></a>Valor devuelto

El índice de la imagen que se mostrará cuando el elemento especificado esté en estado expandido.

### <a name="remarks"></a>Observaciones

Este método envía el [mensaje TVM_GETITEM,](/windows/win32/Controls/tvm-getitem) que se describe en el Windows SDK. Ese mensaje devuelve la estructura [TVITEMEX](/windows/win32/api/commctrl/ns-commctrl-tvitemexw) que describe el elemento de control `iExpandedImage` de vista de árbol y, a continuación, este método recupera el miembro de esa estructura.

## <a name="ctreectrlgetitemheight"></a><a name="getitemheight"></a>CTreeCtrl::GetItemHeight

Esta función miembro implementa el comportamiento de la [TVM_GETITEMHEIGHT](/windows/win32/Controls/tvm-getitemheight)de mensaje de Win32 , como se describe en el Windows SDK.

```
SHORT GetItemHeight() const;
```

### <a name="return-value"></a>Valor devuelto

La altura del elemento, en píxeles.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#15](../../mfc/reference/codesnippet/cpp/ctreectrl-class_15.cpp)]

## <a name="ctreectrlgetitemimage"></a><a name="getitemimage"></a>CTreeCtrl::GetItemImage

Cada elemento de un control de vista de árbol puede tener un par de imágenes de mapa de bits asociadas.

```
BOOL GetItemImage(
    HTREEITEM hItem,
    int& nImage,
    int& nSelectedImage) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento cuya imagen se va a recuperar.

*nImage*<br/>
Entero que recibe el índice de la imagen del elemento dentro de la lista de imágenes del control de vista de árbol.

*nSelectedImage*<br/>
Entero que recibe el índice de la imagen seleccionada del elemento dentro de la lista de imágenes del control de vista de árbol.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

Las imágenes aparecen en el lado izquierdo de la etiqueta de un elemento. Se muestra una imagen cuando se selecciona el elemento y la otra cuando el elemento no está seleccionado. Por ejemplo, un elemento puede mostrar una carpeta abierta cuando se selecciona y una carpeta cerrada cuando no está seleccionada.

Llame a esta función para recuperar el índice de la imagen del elemento y su imagen seleccionada dentro de la lista de imágenes del control de vista de árbol.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#16](../../mfc/reference/codesnippet/cpp/ctreectrl-class_16.cpp)]

## <a name="ctreectrlgetitempartrect"></a><a name="getitempartrect"></a>CTreeCtrl::GetItemPartRect

Recupera el rectángulo delimitador de una parte especificada de un elemento especificado en el control de vista de árbol actual.

```
BOOL GetItemPartRect(
    HTREEITEM hItem,
    int nPart,
    LPRECT lpRect)const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*hItem*|[en] Controlar a un elemento de control de vista de árbol.|
|*nPart*|[en] Identificador de la pieza. Debe establecerse en TVGIPR_BUTTON.|
|*lpRect*|[fuera] Puntero a una estructura [RECT.](/previous-versions/dd162897\(v=vs.85\)) Si este método se realiza correctamente, la estructura recibe las coordenadas de rectángulo de la parte especificada por *hItem* y *nPart*.|

### <a name="return-value"></a>Valor devuelto

TRUESi este método se realiza correctamente; de lo contrario, FALSE.

### <a name="remarks"></a>Observaciones

Cada elemento de control de árbol está delimitado por un rectángulo de gráficos. Cada vez que se hace clic en un punto de ese rectángulo, se dice que el elemento se *pulsa*. Este método devuelve el rectángulo más grande de forma que cuando se hace clic en un punto del rectángulo, se golpea el elemento identificado por el parámetro *hItem.*

Este método envía el mensaje TVM_GETITEMPARTRECT, que se describe en el Windows SDK. Para obtener más información, consulte la macro [TreeView_GetItemPartRect.](/windows/win32/api/commctrl/nf-commctrl-treeview_getitempartrect)

### <a name="example"></a>Ejemplo

En el ejemplo de `m_treeCtrl`código siguiente se define una variable, , que se utiliza para tener acceso al control de vista de árbol actual. El ejemplo de código también define un entero sin signo y varias variables HTREEITEM. Estas variables se utilizan en el siguiente ejemplo.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se utiliza un identificador de accesibilidad y el [CTreeCtrl::MapAccIdToItem](#mapaccidtoitem) método para recuperar un identificador para el elemento de vista de árbol raíz. A continuación, el ejemplo utiliza el identificador y el [CTreeCtrl::GetItemPartRect](#getitempartrect) método para dibujar un rectángulo 3D alrededor de ese elemento. En una sección anterior del ejemplo de código, que no se muestra, creamos una vista de árbol que consta de un nodo raíz de país o región para los Estados Unidos, subnodos para los estados de Pensilvania y Washington y elementos de árbol para las ciudades de esos estados. Usamos el [método CTreeCtrl::MapItemToAccID](#mapitemtoaccid) para asociar el elemento de vista de árbol raíz con un identificador de accesibilidad.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#5](../../mfc/reference/codesnippet/cpp/ctreectrl-class_18.cpp)]

## <a name="ctreectrlgetitemrect"></a><a name="getitemrect"></a>CTreeCtrl::GetItemRect

Llame a esta función para recuperar el rectángulo delimitador para *hItem* y determinar si está visible o no.

```
BOOL GetItemRect(
    HTREEITEM hItem,
    LPRECT lpRect,
    BOOL bTextOnly) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador de un elemento de control de vista de árbol.

*lpRect*<br/>
Puntero a una estructura [RECT](/previous-versions/dd162897\(v=vs.85\)) que recibe el rectángulo delimitador. Las coordenadas son relativas a la esquina superior izquierda del control de vista de árbol.

*bTextOnly*<br/>
Si este parámetro es distinto de cero, el rectángulo delimitador solo incluye el texto del elemento. De lo contrario, incluye toda la línea que ocupa el elemento en el control de vista de árbol.

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el elemento está visible, con el rectángulo delimitador contenido en *lpRect*. De lo contrario, 0 con *lpRect* sin inicializar.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#17](../../mfc/reference/codesnippet/cpp/ctreectrl-class_19.cpp)]

## <a name="ctreectrlgetitemstate"></a><a name="getitemstate"></a>CTreeCtrl::GetItemState

Devuelve el estado del elemento especificado por *hItem*.

```
UINT GetItemState(
    HTREEITEM hItem,
    UINT nStateMask) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Control del elemento cuyo estado se va a recuperar.

*nStateMask*<br/>
Máscara que indica uno o más estados que se van a recuperar. Para obtener más información sobre los valores posibles `state` para `stateMask` *nStateMask*, vea la explicación de la y los miembros de la estructura [TVITEM](/windows/win32/api/commctrl/ns-commctrl-tvitemw) en el Windows SDK.

### <a name="return-value"></a>Valor devuelto

UINT que contiene el OR bit a bit de los valores especificados por nStateMask. Para obtener información sobre los valores posibles, vea [CTreeCtrl::GetItem](#getitem). Para buscar el valor de un estado específico, realice una operación AND bit a bit del valor de estado y el valor devuelto, como se muestra en el ejemplo siguiente.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#18](../../mfc/reference/codesnippet/cpp/ctreectrl-class_20.cpp)]

## <a name="ctreectrlgetitemstateex"></a><a name="getitemstateex"></a>CTreeCtrl::GetItemStateEx

Recupera el estado extendido del elemento especificado en el control de vista de árbol actual.

```
UINT GetItemStateEx(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*hItem*|[en] Controlar a un elemento de control de vista de árbol.|

### <a name="return-value"></a>Valor devuelto

El estado extendido del elemento. Para obtener más `uStateEx` información, consulte el miembro de la [estructura TVITEMEX.](/windows/win32/api/commctrl/ns-commctrl-tvitemexw)

### <a name="remarks"></a>Observaciones

Este método envía el [mensaje TVM_GETITEM,](/windows/win32/Controls/tvm-getitem) que se describe en el Windows SDK. Ese mensaje devuelve la estructura [TVITEMEX](/windows/win32/api/commctrl/ns-commctrl-tvitemexw) que describe el elemento de `uStateEx` control de vista de árbol y este método recupera el miembro de esa estructura.

## <a name="ctreectrlgetitemtext"></a><a name="getitemtext"></a>CTreeCtrl::GetItemText

Devuelve el texto del elemento especificado por *hItem*.

```
CString GetItemText(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Control del elemento cuyo texto se va a recuperar.

### <a name="return-value"></a>Valor devuelto

Objeto `CString` que contiene el texto del elemento.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::GetNextItem](#getnextitem).

## <a name="ctreectrlgetlastvisibleitem"></a><a name="getlastvisibleitem"></a>CTreeCtrl::GetLastVisibleItem

Recupera el último elemento de nodo sin expandir en el control de vista de árbol actual.

```
HTREEITEM GetLastVisibleItem() const;
```

### <a name="return-value"></a>Valor devuelto

El identificador del último elemento de nodo sin expandir si el método se realiza correctamente; de lo contrario, NULL.

### <a name="remarks"></a>Observaciones

Este método envía el [mensaje TVM_GETNEXTITEM,](/windows/win32/Controls/tvm-getnextitem) que se describe en el Windows SDK. Para obtener más información, consulte la TVGN_LASTVISIBLE marca en el parámetro *flag* de ese mensaje.

### <a name="example"></a>Ejemplo

En el ejemplo de `m_treeCtrl`código siguiente se define una variable, , que se utiliza para tener acceso al control de vista de árbol actual. El ejemplo de código también define un entero sin signo y varias variables HTREEITEM. Una o más de estas variables se utilizan en el siguiente ejemplo.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se recupera un identificador para el último elemento de nodo de vista de árbol sin expandir y, a continuación, dibuja un rectángulo 3D alrededor de ese elemento. En una sección anterior del ejemplo de código, que no se muestra, creamos una vista de árbol que consta de un nodo raíz de país o región para los Estados Unidos, subnodos para los estados de Pensilvania y Washington y elementos de árbol para las ciudades de esos estados.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#6](../../mfc/reference/codesnippet/cpp/ctreectrl-class_21.cpp)]

## <a name="ctreectrlgetlinecolor"></a><a name="getlinecolor"></a>CTreeCtrl::GetLineColor

Esta función miembro implementa el comportamiento del [mensaje Win32 TVM_GETLINECOLOR](/windows/win32/Controls/tvm-getlinecolor), como se describe en el Windows SDK.

```
COLORREF GetLineColor() const;
```

### <a name="return-value"></a>Valor devuelto

El color de línea actual.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#19](../../mfc/reference/codesnippet/cpp/ctreectrl-class_22.cpp)]

## <a name="ctreectrlgetnextitem"></a><a name="getnextitem"></a>CTreeCtrl::GetNextItem

Llame a esta función para recuperar el elemento de vista de árbol que tiene la relación especificada, indicada por el *nCode* parámetro, a *hItem*.

```
HTREEITEM GetNextItem(
    HTREEITEM hItem,
    UINT nCode) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Control de un elemento de árbol.

*nCódigo*<br/>
Marca que indica el tipo de relación a *hItem*. Esta marca puede ser uno de los siguientes valores:

- TVGN_CARET Recupera el elemento seleccionado actualmente.

- TVGN_CHILD Recupera el primer elemento secundario del elemento especificado por el *hItem* parámetro.

- TVGN_DROPHILITE Recupera el elemento que es el destino de una operación de arrastrar y colocar.

- TVGN_FIRSTVISIBLE Recupera el primer elemento visible.

- TVGN_LASTVISIBLE Recupera el último elemento expandido del árbol. Esto no recupera el último elemento visible en la ventana de vista de árbol.

- TVGN_NEXT Recupera el siguiente elemento del mismo nivel.

- TVGN_NEXTVISIBLE Recupera el siguiente elemento visible que sigue al elemento especificado.

- TVGN_PARENT Recupera el elemento primario del elemento especificado.

- TVGN_PREVIOUS Recupera el elemento del mismo nivel anterior.

- TVGN_PREVIOUSVISIBLE Recupera el primer elemento visible que precede al elemento especificado.

- TVGN_ROOT Recupera el primer elemento secundario del elemento raíz del que forma parte el elemento especificado.

### <a name="return-value"></a>Valor devuelto

El identificador del siguiente elemento si se realiza correctamente; NULL.

### <a name="remarks"></a>Observaciones

Esta función devolverá NULL si el elemento que se recupera es el nodo raíz del árbol. Por ejemplo, si utiliza este mensaje con la marca TVGN_PARENT en un elemento secundario de primer nivel del nodo raíz de la vista de árbol, el mensaje devolverá NULL.

### <a name="example"></a>Ejemplo

Para obtener un `GetNextItem` ejemplo de uso en un bucle, vea [CTreeCtrl::DeleteItem](#deleteitem).

[!code-cpp[NVC_MFC_CTreeCtrl#20](../../mfc/reference/codesnippet/cpp/ctreectrl-class_23.cpp)]

## <a name="ctreectrlgetnextsiblingitem"></a><a name="getnextsiblingitem"></a>CTreeCtrl::GetNextSiblingItem

Llame a esta función para recuperar el siguiente elemento del mismo nivel de *hItem*.

```
HTREEITEM GetNextSiblingItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Control de un elemento de árbol.

### <a name="return-value"></a>Valor devuelto

El identificador del siguiente elemento del mismo nivel; NULL.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#21](../../mfc/reference/codesnippet/cpp/ctreectrl-class_24.cpp)]

## <a name="ctreectrlgetnextvisibleitem"></a><a name="getnextvisibleitem"></a>CTreeCtrl::GetNextVisibleItem

Llame a esta función para recuperar el siguiente elemento visible de *hItem*.

```
HTREEITEM GetNextVisibleItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Control de un elemento de árbol.

### <a name="return-value"></a>Valor devuelto

El identificador del siguiente elemento visible; NULL.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::SetCheck](#setcheck).

## <a name="ctreectrlgetparentitem"></a><a name="getparentitem"></a>CTreeCtrl::GetParentItem

Llame a esta función para recuperar el elemento primario de *hItem*.

```
HTREEITEM GetParentItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Control de un elemento de árbol.

### <a name="return-value"></a>Valor devuelto

El identificador del elemento primario; NULL.

### <a name="remarks"></a>Observaciones

Esta función devolverá NULL si el elemento primario del elemento especificado es el nodo raíz del árbol.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::EnsureVisible](#ensurevisible).

## <a name="ctreectrlgetprevsiblingitem"></a><a name="getprevsiblingitem"></a>CTreeCtrl::GetPrevSiblingItem

Llame a esta función para recuperar el hermano anterior de *hItem*.

```
HTREEITEM GetPrevSiblingItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Control de un elemento de árbol.

### <a name="return-value"></a>Valor devuelto

El identificador del hermano anterior; NULL.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#22](../../mfc/reference/codesnippet/cpp/ctreectrl-class_25.cpp)]

## <a name="ctreectrlgetprevvisibleitem"></a><a name="getprevvisibleitem"></a>CTreeCtrl::GetPrevVisibleItem

Llame a esta función para recuperar el elemento visible anterior de *hItem*.

```
HTREEITEM GetPrevVisibleItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Control de un elemento de árbol.

### <a name="return-value"></a>Valor devuelto

El identificador del elemento visible anterior; NULL.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#23](../../mfc/reference/codesnippet/cpp/ctreectrl-class_26.cpp)]

## <a name="ctreectrlgetrootitem"></a><a name="getrootitem"></a>CTreeCtrl::GetRootItem

Llame a esta función para recuperar el elemento raíz del control de vista de árbol.

```
HTREEITEM GetRootItem() const;
```

### <a name="return-value"></a>Valor devuelto

El identificador del elemento raíz; NULL.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::EditLabel](#editlabel).

## <a name="ctreectrlgetscrolltime"></a><a name="getscrolltime"></a>CTreeCtrl::GetScrollTime

Llame a esta función miembro para recuperar el tiempo máximo de desplazamiento para el control de vista de árbol.

```
UINT GetScrollTime() const;
```

### <a name="return-value"></a>Valor devuelto

El tiempo máximo de desplazamiento, en milisegundos.

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_GETSCROLLTIME](/windows/win32/Controls/tvm-getscrolltime), como se describe en el Windows SDK.

## <a name="ctreectrlgetselectedcount"></a><a name="getselectedcount"></a>CTreeCtrl::GetSelectedCount

Recupera el número de elementos seleccionados en el control de vista de árbol actual.

```
UINT GetSelectedCount();
```

### <a name="return-value"></a>Valor devuelto

El número de elementos seleccionados.

### <a name="remarks"></a>Observaciones

Este método envía el [mensaje TVM_GETSELECTEDCOUNT,](/windows/win32/Controls/tvm-getselectedcount) que se describe en el Windows SDK.

## <a name="ctreectrlgetselecteditem"></a><a name="getselecteditem"></a>CTreeCtrl::GetSelectedItem

Llame a esta función para recuperar el elemento seleccionado actualmente del control de vista de árbol.

```
HTREEITEM GetSelectedItem() const;
```

### <a name="return-value"></a>Valor devuelto

El identificador del elemento seleccionado; NULL.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#24](../../mfc/reference/codesnippet/cpp/ctreectrl-class_27.cpp)]

## <a name="ctreectrlgettextcolor"></a><a name="gettextcolor"></a>CTreeCtrl::GetTextColor

Esta función miembro implementa el comportamiento del [mensaje de](/windows/win32/Controls/tvm-gettextcolor)Win32 TVM_GETTEXTCOLOR , como se describe en el Windows SDK.

```
COLORREF GetTextColor() const;
```

### <a name="return-value"></a>Valor devuelto

Un valor COLORREF que representa el color de texto actual. Si este valor es -1, el control utiliza el color del sistema para el color del texto.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::SetTextColor](#settextcolor).

## <a name="ctreectrlgettooltips"></a><a name="gettooltips"></a>CTreeCtrl::GetToolTips

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_GETTOOLTIPS](/windows/win32/Controls/tvm-gettooltips), como se describe en el Windows SDK.

```
CToolTipCtrl* GetToolTips() const;
```

### <a name="return-value"></a>Valor devuelto

Un puntero a un [CToolTipCtrl](../../mfc/reference/ctooltipctrl-class.md) objeto que usará el control de árbol. Si el [Create](#create) función miembro utiliza el estilo TVS_NOTOOLTIPS, no se usa ninguna información sobre herramientas y NULL se devuelve.

### <a name="remarks"></a>Observaciones

La implementación `GetToolTips` MFC `CToolTipCtrl` de devuelve un objeto, que se usa el control de árbol, en lugar de un identificador a un control de información sobre herramientas.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#25](../../mfc/reference/codesnippet/cpp/ctreectrl-class_28.cpp)]

## <a name="ctreectrlgetvisiblecount"></a><a name="getvisiblecount"></a>CTreeCtrl::GetVisibleCount

Llame a esta función para recuperar un recuento de los elementos visibles en un control de vista de árbol.

```
UINT GetVisibleCount() const;
```

### <a name="return-value"></a>Valor devuelto

El número de elementos visibles en el control de vista de árbol; de lo contrario - 1.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::SetCheck](#setcheck).

## <a name="ctreectrlhittest"></a><a name="hittest"></a>CTreeCtrl::HitTest

Llame a esta función para determinar la ubicación del punto especificado en relación con el área de cliente de un control de vista de árbol.

```
HTREEITEM HitTest(
    CPoint pt,
    UINT* pFlags = NULL) const;

HTREEITEM HitTest(TVHITTESTINFO* pHitTestInfo) const;
```

### <a name="parameters"></a>Parámetros

*Pt*<br/>
Coordenadas de cliente del punto a probar.

*pFlags*<br/>
Puntero a un entero que recibe información sobre los resultados de la prueba de posicionamiento. Puede ser uno o más de `flags` los valores enumerados en el miembro en la sección Comentarios.

*pHitTestInfo*<br/>
Dirección de una estructura [TVHITTESTINFO](/windows/win32/api/commctrl/ns-commctrl-tvhittestinfo) que contiene la posición a la prueba de posicionamiento y que recibe información sobre los resultados de la prueba de posicionamiento.

### <a name="return-value"></a>Valor devuelto

Identificador del elemento de vista de árbol que ocupa el punto especificado o NULL si ningún elemento ocupa el punto.

### <a name="remarks"></a>Observaciones

Cuando se llama a esta función, el parámetro *pt* especifica las coordenadas del punto que se va a probar. La función devuelve el identificador del elemento en el punto especificado o NULL si ningún elemento ocupa el punto. Además, el *pFlags* parámetro contiene un valor que indica la ubicación del punto especificado. Los valores posibles son:

|||
|-|-|
|Value|Significado|
|TVHT_ABOVE|Por encima del área de cliente.|
|TVHT_BELOW|Debajo del área de cliente.|
|TVHT_NOWHERE|En el área de cliente, pero por debajo del último elemento.|
|TVHT_ONITEM|En el mapa de bits o etiqueta asociado a un elemento.|
|TVHT_ONITEMBUTTON|En el botón asociado a un elemento.|
|TVHT_ONITEMICON|En el mapa de bits asociado a un elemento.|
|TVHT_ONITEMINDENT|En la sangría asociada a un elemento.|
|TVHT_ONITEMLABEL|En la etiqueta (cadena) asociada a un elemento.|
|TVHT_ONITEMRIGHT|En el área a la derecha de un elemento.|
|TVHT_ONITEMSTATEICON|En el icono de estado de un elemento de vista de árbol que se encuentra en un estado definido por el usuario.|
|TVHT_TOLEFT|A la izquierda del área de cliente.|
|TVHT_TORIGHT|A la derecha del área de cliente.|
|||

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#26](../../mfc/reference/codesnippet/cpp/ctreectrl-class_29.cpp)]

## <a name="ctreectrlinsertitem"></a><a name="insertitem"></a>CTreeCtrl::InsertItem

Llame a esta función para insertar un nuevo elemento en un control de vista de árbol.

```
HTREEITEM InsertItem(LPTVINSERTSTRUCT lpInsertStruct);

HTREEITEM InsertItem(
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    int nSelectedImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam,
    HTREEITEM hParent,
    HTREEITEM hInsertAfter);

HTREEITEM InsertItem(
    LPCTSTR lpszItem,
    HTREEITEM hParent = TVI_ROOT,
    HTREEITEM hInsertAfter = TVI_LAST);

HTREEITEM InsertItem(
    LPCTSTR lpszItem,
    int nImage,
    int nSelectedImage,
    HTREEITEM hParent = TVI_ROOT,
    HTREEITEM hInsertAfter = TVI_LAST);
```

### <a name="parameters"></a>Parámetros

*lpInsertStruct*<br/>
Puntero a `TVINSERTSTRUCT` un que especifica los atributos del elemento de vista de árbol que se va a insertar.

*nMask*<br/>
Entero que especifica los atributos que se establecerán. Consulte `TVITEM` la estructura en el Windows SDK.

*lpszItem*<br/>
Dirección de una cadena que contiene el texto del elemento.

*nImage*<br/>
Indexe la imagen del elemento en la lista de imágenes del control de vista de árbol.

*nSelectedImage*<br/>
Indexar la imagen seleccionada del elemento en la lista de imágenes del control de vista de árbol.

*nEstado*<br/>
Especifica los valores de los estados del elemento. Consulte Estados de elemento de control de vista de árbol en el Windows SDK para obtener una lista de los estados adecuados.

*nStateMask*<br/>
Especifica qué estados se deben establecer. Consulte `TVITEM` la estructura en el Windows SDK.

*lParam*<br/>
Un valor específico de la aplicación del tamaño de un puntero asociado al elemento.

*hParent*<br/>
Control del elemento primario del elemento insertado.

*hInsertAfter*<br/>
Identificador del elemento después del cual se va a insertar el nuevo elemento.

### <a name="return-value"></a>Valor devuelto

Controlar el nuevo elemento si se realiza correctamente; NULL.

### <a name="remarks"></a>Observaciones

En el ejemplo se muestran situaciones en las que es posible que desee utilizar cada versión de la función al insertar un elemento de control de árbol.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#27](../../mfc/reference/codesnippet/cpp/ctreectrl-class_30.cpp)]

## <a name="ctreectrlitemhaschildren"></a><a name="itemhaschildren"></a>CTreeCtrl::ItemHasChildren

Utilice esta función para determinar si el elemento de árbol especificado por *hItem* tiene elementos secundarios.

```
BOOL ItemHasChildren(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Control de un elemento de árbol.

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el elemento de árbol especificado por *hItem* tiene elementos secundarios; 0 si no lo hace.

### <a name="remarks"></a>Observaciones

Si es así, puede usar [CTreeCtrl::GetChildItem](#getchilditem) para recuperar esos elementos secundarios.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::GetSelectedItem](#getselecteditem).

## <a name="ctreectrlmapaccidtoitem"></a><a name="mapaccidtoitem"></a>CTreeCtrl::MapAccIdToItem

Asigna el identificador de accesibilidad especificado al identificador de un elemento de vista de árbol en el control de vista de árbol actual.

```
HTREEITEM MapAccIdToItem(UINT uAccId) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*uAccId*|[en] Identificador de accesibilidad para un elemento en el elemento de vista de árbol.|

### <a name="return-value"></a>Valor devuelto

Identificador de un elemento de `HTREEITEM`vista de árbol ( ) que corresponde al parámetro *uAccId.* Para obtener más información, vea el miembro *hItem* de la estructura [TVITEMEX.](/windows/win32/api/commctrl/ns-commctrl-tvitemexw)

### <a name="remarks"></a>Observaciones

Las ayudas de accesibilidad son aplicaciones que ayudan a las personas con discapacidades a usar computadoras. La interfaz utiliza un `IAccessible` identificador de accesibilidad para especificar de forma única un elemento en una ventana. Para obtener más información acerca de los identificadores de accesibilidad, busque el tema "Acerca de la compatibilidad con accesibilidad activa" en [Microsoft Developer Network](https://go.microsoft.com/fwlink/p/?linkid=56322).

Este método envía el [mensaje TVM_MAPACCIDTOHTREEITEM,](/windows/win32/Controls/tvm-mapaccidtohtreeitem) que se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

En el ejemplo de `m_treeCtrl`código siguiente se define una variable, , que se utiliza para tener acceso al control de vista de árbol actual. El ejemplo de código también define un entero sin signo y varias variables HTREEITEM. Estas variables se utilizan en el siguiente ejemplo.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se utiliza un identificador de accesibilidad y el [CTreeCtrl::MapAccIdToItem](#mapaccidtoitem) método para recuperar un identificador para el elemento de vista de árbol raíz. En el ejemplo se utiliza el identificador y el [CTreeCtrl::GetItemPartRect](#getitempartrect) método para dibujar un rectángulo 3D alrededor de ese elemento. En una sección anterior del ejemplo de código, que no se muestra, creamos una vista de árbol que consta de un nodo raíz de país o región para los Estados Unidos, subnodos para los estados de Pensilvania y Washington y elementos de árbol para las ciudades de esos estados. Usamos el [método CTreeCtrl::MapItemToAccID](#mapitemtoaccid) para asociar el elemento de vista de árbol raíz con un identificador de accesibilidad.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#5](../../mfc/reference/codesnippet/cpp/ctreectrl-class_18.cpp)]

## <a name="ctreectrlmapitemtoaccid"></a><a name="mapitemtoaccid"></a>CTreeCtrl::MapItemToAccID

Asigna el identificador especificado de un elemento de vista de árbol en el control de vista de árbol actual a un identificador de accesibilidad.

```
UINT MapItemToAccID(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*hItem*|[en] Identificador de un elemento de vista de árbol en el control. Para obtener más información, vea el miembro *hItem* de la estructura [TVITEMEX.](/windows/win32/api/commctrl/ns-commctrl-tvitemexw)|

### <a name="return-value"></a>Valor devuelto

Identificador de accesibilidad que corresponde al parámetro *hItem.*

### <a name="remarks"></a>Observaciones

Las ayudas de accesibilidad son aplicaciones que ayudan a las personas con discapacidades a usar computadoras. La interfaz utiliza un `IAccessible` identificador de accesibilidad para especificar de forma única un elemento en una ventana. Para obtener más información acerca de los identificadores de accesibilidad, busque el tema "Acerca de la compatibilidad con accesibilidad activa" en [Microsoft Developer Network](https://go.microsoft.com/fwlink/p/?linkid=56322).

Este método envía el [mensaje TVM_MAPHTREEITEMTOACCID,](/windows/win32/Controls/tvm-maphtreeitemtoaccid) que se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

En el ejemplo de `m_treeCtrl`código siguiente se define una variable, , que se utiliza para tener acceso al control de vista de árbol actual. El ejemplo de código también define un entero sin signo y varias variables HTREEITEM. Estas variables se utilizan en el siguiente ejemplo.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se obtiene un número de identificación para un elemento de control de vista de árbol. En una sección anterior del ejemplo de código, que no se muestra, creamos una vista de árbol que consta de un nodo raíz de país o región para los Estados Unidos, subnodos para los estados de Pensilvania y Washington y elementos de árbol para las ciudades de esos estados. En este ejemplo de código se obtiene un número de identificación único para el nodo de país o región raíz.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#2](../../mfc/reference/codesnippet/cpp/ctreectrl-class_31.cpp)]

## <a name="ctreectrlselect"></a><a name="select"></a>CTreeCtrl::Select

Llame a esta función para seleccionar el elemento de vista de árbol determinado, desplácese por el elemento a la vista o vuelva a dibujar el elemento en el estilo utilizado para indicar el destino de una operación de arrastrar y colocar.

```
BOOL Select(
    HTREEITEM hItem,
    UINT nCode);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Control de un elemento de árbol.

*nCódigo*<br/>
El tipo de acción a realizar. Este parámetro puede ser uno de los siguientes valores:

- TVGN_CARET Establece la selección en el elemento especificado.

- TVGN_DROPHILITE Redibuja el elemento especificado en el estilo utilizado para indicar el destino de una operación de arrastrar y colocar.

- TVGN_FIRSTVISIBLE Desplaza la vista de árbol verticalmente para que el elemento especificado sea el primer elemento visible.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

Si *nCode* contiene el valor TVGN_CARET, la ventana primaria recibe los mensajes de notificación TVN_SELCHANGING y TVN_SELCHANGED. Además, si el elemento especificado es el elemento secundario de un elemento primario contraído, la lista de elementos secundarios del elemento primario se expande para mostrar el elemento especificado. En este caso, la ventana primaria recibe los mensajes de notificación TVN_ITEMEXPANDING y TVN_ITEMEXPANDED.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::HitTest](#hittest).

## <a name="ctreectrlselectdroptarget"></a><a name="selectdroptarget"></a>CTreeCtrl::SelectDropTarget

Llame a esta función para volver a dibujar el elemento en el estilo utilizado para indicar el destino de una operación de arrastrar y colocar.

```
BOOL SelectDropTarget(HTREEITEM hItem);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Control de un elemento de árbol.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#9](../../mfc/reference/codesnippet/cpp/ctreectrl-class_9.cpp)]

## <a name="ctreectrlselectitem"></a><a name="selectitem"></a>CTreeCtrl::SelectItem

Llame a esta función para seleccionar el elemento de vista de árbol especificado.

```
BOOL SelectItem(HTREEITEM hItem);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Control de un elemento de árbol.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

Si *hItem* es NULL, esta función no selecciona ningún elemento.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#26](../../mfc/reference/codesnippet/cpp/ctreectrl-class_29.cpp)]

## <a name="ctreectrlselectsetfirstvisible"></a><a name="selectsetfirstvisible"></a>CTreeCtrl::SelectSetFirstVisible

Llame a esta función para desplazar la vista de árbol verticalmente para que el elemento especificado sea el primer elemento visible.

```
BOOL SelectSetFirstVisible(HTREEITEM hItem);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Control del elemento de árbol que se establecerá como el primer elemento visible.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

La función envía un mensaje a la ventana con los parámetros TVM_SELECTITEM y TVGN_FIRSTVISIBLE mensaje.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#28](../../mfc/reference/codesnippet/cpp/ctreectrl-class_32.cpp)]

## <a name="ctreectrlsetautoscrollinfo"></a><a name="setautoscrollinfo"></a>CTreeCtrl::SetAutoscrollInfo

Establece la velocidad de desplazamiento automático del control de vista de árbol actual.

```
BOOL SetAutoscrollInfo(
    UINT uPixelsPerSec,
    UINT uUpdateTime);
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*uPixelsPerSec*|[en] El número de píxeles por segundo que se debe desplazar.|
|*uUpdateTime*|[en] El intervalo de tiempo entre las actualizaciones del control.|

### <a name="return-value"></a>Valor devuelto

Siempre devuelve TRUE.

### <a name="remarks"></a>Observaciones

Los parámetros de desplazamiento automático se utilizan para desplazarse a la vista de un elemento que actualmente no está visible. El control de vista de árbol debe tener el TVS_EX_AUTOHSCROLL estilo extendido, que se describe en [Estilos extendidos](/windows/win32/Controls/tree-view-control-window-extended-styles)de control de vista de árbol .

Este método envía el [mensaje TVM_SETAUTOSCROLLINFO,](/windows/win32/Controls/tvm-setautoscrollinfo) que se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

En el ejemplo de `m_treeCtrl`código siguiente se define una variable, , que se utiliza para tener acceso al control de vista de árbol actual. El ejemplo de código también define un entero sin signo y varias variables HTREEITEM. Estas variables se utilizan en el siguiente ejemplo.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se establece el comportamiento de desplazamiento automático del control de vista de árbol actual. En una sección anterior del ejemplo de código, que no se muestra, creamos una vista de árbol que consta de un nodo raíz de país o región para los Estados Unidos, subnodos para los estados de Pensilvania y Washington y elementos de árbol para las ciudades de esos estados. Intencionalmente hemos hecho que el control de vista de árbol sea estrecho para que se desplace automáticamente para mostrar el elemento de árbol que tiene el foco. En el ejemplo de código se establece el control de vista de árbol para desplazar automáticamente 30 píxeles por segundo cada 5 segundos hasta que el elemento de árbol está en la vista.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#4](../../mfc/reference/codesnippet/cpp/ctreectrl-class_33.cpp)]

## <a name="ctreectrlsetbkcolor"></a><a name="setbkcolor"></a>CTreeCtrl::SetBkColor

Esta función miembro implementa el comportamiento del mensaje Win32 [TVM_SETBKCOLOR](/windows/win32/Controls/tvm-setbkcolor), como se describe en el Windows SDK.

```
COLORREF SetBkColor(COLORREF clr);
```

### <a name="parameters"></a>Parámetros

*Clr*<br/>
Un valor COLORREF que contiene el nuevo color de fondo. Si este valor es -1, el control volverá a usar el color del sistema para el color de fondo.

### <a name="return-value"></a>Valor devuelto

Un valor COLORREF que representa el color de texto actual. Si este valor es -1, el control utiliza el color del sistema para el color del texto.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::SetTextColor](#settextcolor).

## <a name="ctreectrlsetcheck"></a><a name="setcheck"></a>CTreeCtrl::SetCheck

Llame a esta función miembro para establecer el estado de comprobación de un elemento de control de árbol.

```
BOOL SetCheck(
    HTREEITEM hItem,
    BOOL fCheck = TRUE);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
El HTREEITEM para recibir el cambio de estado de comprobación.

*fCheck*<br/>
Indica si el elemento de control de árbol se va a comprobar o desactivar. De forma `SetCheck` predeterminada, establece el elemento que se va a comprobar.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

Cuando se comprueba el elemento de control de árbol ( *fCheck* establecido en TRUE), el elemento aparece con una marca de verificación adyacente.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#29](../../mfc/reference/codesnippet/cpp/ctreectrl-class_34.cpp)]

### <a name="example"></a>Ejemplo

Para usar casillas de verificación, establezca TVS_CHECKBOXES antes de rellenar el control de árbol.

[!code-cpp[NVC_MFC_CTreeCtrl#30](../../mfc/reference/codesnippet/cpp/ctreectrl-class_35.cpp)]

## <a name="ctreectrlsetextendedstyle"></a><a name="setextendedstyle"></a>CTreeCtrl::SetExtendedStyle

Establece los estilos extendidos para el control de vista de árbol actual.

```
DWORD SetExtendedStyle(
    DWORD dwExMask,
    DWORD dwExStyles);
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*dwExMask*|[en] Una máscara de bits que especifica qué estilos del control de vista de árbol actual se ven afectados por este método. Si este parámetro es cero, se omite y el valor del parámetro *dwExStyles* se asigna al control de vista de árbol.<br /><br /> Especifique cero o una combinación bit a bit (OR) de estilos descritos en [Estilos extendidos](/windows/win32/Controls/tree-view-control-window-extended-styles)de control de vista de árbol .|
|*dwExStyles*|[en] Una máscara de bits que especifica qué estilos del control de vista de árbol actual se deben establecer o borrar.<br /><br /> Para establecer una combinación de estilos, especifique una combinación bit a bit (OR) de estilos descritos en [Estilos extendidos](/windows/win32/Controls/tree-view-control-window-extended-styles)de control de vista de árbol . Para borrar un conjunto de estilos, especifique cero.|

### <a name="return-value"></a>Valor devuelto

Valor que contiene los estilos de control extendidoanteriores.

### <a name="remarks"></a>Observaciones

Este método borra los estilos especificados en el *dwExMask* parámetro y, a continuación, establece los estilos especificados en el *dwExStyles* parámetro. Solo cambian los estilos extendidos que corresponden a los bits *de dwExMask.*

Este método envía el [mensaje TVM_SETEXTENDEDSTYLE,](/windows/win32/Controls/tvm-setextendedstyle) que se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

En el ejemplo de `m_treeCtrl`código siguiente se define una variable, , que se utiliza para tener acceso al control de vista de árbol actual. El ejemplo de código también define un entero sin signo y varias variables HTREEITEM. Estas variables se utilizan en el siguiente ejemplo.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se agrega el estilo extendido TVS_EX_AUTOHSCROLL al control de vista de árbol actual. En una sección anterior del ejemplo de código, que no se muestra, creamos una vista de árbol que consta de un nodo raíz de país o región para los Estados Unidos, subnodos para los estados de Pensilvania y Washington y elementos de árbol para las ciudades de esos estados. Intencionalmente hemos hecho que el control de vista de árbol sea estrecho para que se desplace automáticamente para mostrar el elemento de árbol que tiene el foco.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#3](../../mfc/reference/codesnippet/cpp/ctreectrl-class_36.cpp)]

## <a name="ctreectrlsetimagelist"></a><a name="setimagelist"></a>CTreeCtrl::SetImageList

Llame a esta función para establecer la lista de imágenes normal o de estado para un control de vista de árbol y vuelva a dibujar el control con las nuevas imágenes.

```
CImageList* SetImageList(
    CImageList* pImageList,
    int nImageListType);
```

### <a name="parameters"></a>Parámetros

*pImageList*<br/>
Puntero a la lista de imágenes que se va a asignar. Si *pImageList* es NULL, todas las imágenes se quitan del control de vista de árbol.

*nImageListType*<br/>
Tipo de lista de imágenes que se va a establecer. La lista de imágenes puede ser uno de los siguientes valores:

- TVSIL_NORMAL Establece la lista de imágenes normales, que contiene las imágenes seleccionadas y no seleccionadas para el elemento de vista en árbol. Debe utilizar este estado para las imágenes superpuestas.

- TVSIL_STATE Establece la lista de imágenes de estado, que contiene las imágenes de los elementos de vista de árbol que se encuentran en un estado definido por el usuario.

### <a name="return-value"></a>Valor devuelto

Puntero a la lista de imágenes anterior, si existe; NULL.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::GetImageList](#getimagelist).

## <a name="ctreectrlsetindent"></a><a name="setindent"></a>CTreeCtrl::SetIndent

Llame a esta función para establecer el ancho de sangría para un control de vista de árbol y vuelva a dibujar el control para reflejar el nuevo ancho.

```
void SetIndent(UINT nIndent);
```

### <a name="parameters"></a>Parámetros

*nIndent*<br/>
Ancho, en píxeles, de la sangría. Si *nIndent* es menor que el ancho mínimo definido por el sistema, el nuevo ancho se establece en el mínimo definido por el sistema.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::GetIndent](#getindent).

## <a name="ctreectrlsetinsertmark"></a><a name="setinsertmark"></a>CTreeCtrl::SetInsertMark

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_SETINSERTMARK](/windows/win32/Controls/tvm-setinsertmark), como se describe en el Windows SDK.

```
BOOL SetInsertMark(
    HTREEITEM hItem,
    BOOL fAfter = TRUE);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
HTREEITEM que especifica en qué elemento se colocará la marca de inserción. Si este argumento es NULL, se quita la marca de inserción.

*fDespués*<br/>
Valor BOOL que especifica si la marca de inserción se coloca antes o después del elemento especificado. Si este argumento es distinto de cero, la marca de inserción se colocará después del elemento. Si este argumento es cero, la marca de inserción se colocará antes del elemento.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#31](../../mfc/reference/codesnippet/cpp/ctreectrl-class_37.cpp)]

## <a name="ctreectrlsetinsertmarkcolor"></a><a name="setinsertmarkcolor"></a>CTreeCtrl::SetInsertMarkColor

Esta función miembro implementa el comportamiento del [mensaje de](/windows/win32/Controls/tvm-setinsertmarkcolor)Win32 TVM_SETINSERTMARKCOLOR , como se describe en el Windows SDK.

```
COLORREF SetInsertMarkColor(COLORREF clrNew);
```

### <a name="parameters"></a>Parámetros

*clrNew*<br/>
Un valor COLORREF que contiene el nuevo color de marca de inserción.

### <a name="return-value"></a>Valor devuelto

Un valor COLORREF que contiene el color de la marca de inserción anterior.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::GetInsertMarkColor](#getinsertmarkcolor).

## <a name="ctreectrlsetitem"></a><a name="setitem"></a>CTreeCtrl::SetItem

Llame a esta función para establecer los atributos del elemento de vista de árbol especificado.

```
BOOL SetItem(TVITEM* pItem);

BOOL SetItem(
    HTREEITEM hItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    int nSelectedImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam);
```

### <a name="parameters"></a>Parámetros

*pItem*<br/>
Puntero a una estructura [TVITEM](/windows/win32/api/commctrl/ns-commctrl-tvitemw) que contiene los nuevos atributos de elemento, como se describe en el Windows SDK.

*hItem*<br/>
Control del elemento cuyos atributos se van a establecer. Vea `hItem` el miembro `TVITEM` de la estructura en el Windows SDK.

*nMask*<br/>
Entero que especifica los atributos que se establecerán. Vea el miembro `mask` de la estructura `TVITEM`.

*lpszItem*<br/>
Dirección de una cadena que contiene el texto del elemento.

*nImage*<br/>
Indexe la imagen del elemento en la lista de imágenes del control de vista de árbol. Vea el miembro `iImage` de la estructura `TVITEM`.

*nSelectedImage*<br/>
Indexar la imagen seleccionada del elemento en la lista de imágenes del control de vista de árbol. Vea el miembro `iSelectedImage` de la estructura `TVITEM`.

*nEstado*<br/>
Especifica los valores de los estados del elemento. Vea el miembro `State` de la estructura `TVITEM`.

*nStateMask*<br/>
Especifica qué estados se deben establecer. Vea el miembro `stateMask` de la estructura `TVITEM`.

*lParam*<br/>
Un valor específico de la aplicación del tamaño de un puntero asociado al elemento.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

En `TVITEM` la estructura, el `hItem` miembro identifica `mask` el elemento y el miembro especifica qué atributos se va a establecer.

Si `mask` el miembro o el *nMask* parámetro `pszText` especifica el TVIF_TEXT valor, el miembro o *el lpszItem* es la dirección de una cadena terminada en null y se omite el `cchTextMax` miembro. Si `mask` (o *nMask*) especifica el `stateMask` valor TVIF_STATE, el miembro o el parámetro `state` *nStateMask* especifica qué estados de elemento cambiar y el parámetro member o *nState* contiene los valores de esos estados.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#32](../../mfc/reference/codesnippet/cpp/ctreectrl-class_38.cpp)]

## <a name="ctreectrlsetitemdata"></a><a name="setitemdata"></a>CTreeCtrl::SetItemData

Llame a esta función para establecer el valor específico de la aplicación asociado con el elemento especificado.

```
BOOL SetItemData(
    HTREEITEM hItem,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Control del elemento cuyos datos se van a recuperar.

*dwData*<br/>
Un valor específico de la aplicación del tamaño de un puntero asociado al elemento especificado por *hItem*.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#33](../../mfc/reference/codesnippet/cpp/ctreectrl-class_39.cpp)]

## <a name="ctreectrlsetitemexpandedimageindex"></a><a name="setitemexpandedimageindex"></a>CTreeCtrl::SetItemExpandedImageIndex

Establece el índice de la imagen que se mostrará cuando el elemento especificado del control de vista de árbol actual esté en estado expandido.

```
BOOL SetItemExpandedImageIndex(
    HTREEITEM hItem,
    int iExpandedImage);
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*hItem*|[en] Controlar a un elemento de control de vista de árbol.|
|*iExpandedImage*|[en] El índice de la imagen que se mostrará cuando el elemento especificado esté en estado expandido.|

### <a name="return-value"></a>Valor devuelto

TRUESi este método se realiza correctamente; de lo contrario, FALSE.

### <a name="remarks"></a>Observaciones

Este método envía el [mensaje TVM_SETITEM,](/windows/win32/Controls/tvm-setitem) que se describe en el Windows SDK. Este método asigna el *iExpandedImage* parámetro al `iExpandedImage` miembro de un [TVITEMEX](/windows/win32/api/commctrl/ns-commctrl-tvitemexw) estructura y, a continuación, utiliza esa estructura en el mensaje.

### <a name="example"></a>Ejemplo

En el ejemplo de `m_treeCtrl`código siguiente se define una variable, , que se utiliza para tener acceso al control de vista de árbol actual. El ejemplo de código también define un entero sin signo y varias variables HTREEITEM. Estas variables se utilizan en el siguiente ejemplo.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Ejemplo

El ejemplo de código siguiente es una prueba trivial para determinar si el [CTreeCtrl::GetItemExpandedImageIndex](#getitemexpandedimageindex) método devuelve el valor establecido por el [CTreeCtrl::SetItemExpandedImageIndex](#setitemexpandedimageindex) método. En una sección anterior del ejemplo de código, que no se muestra, creamos una vista de árbol que consta de un nodo raíz de país o región para los Estados Unidos, subnodos para los estados de Pensilvania y Washington y elementos de árbol para las ciudades de esos estados.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#8](../../mfc/reference/codesnippet/cpp/ctreectrl-class_40.cpp)]

## <a name="ctreectrlsetitemheight"></a><a name="setitemheight"></a>CTreeCtrl::SetItemHeight

Esta función miembro implementa el comportamiento del [TVM_SETITEMHEIGHT](/windows/win32/Controls/tvm-setitemheight)de mensaje de Win32 , como se describe en el Windows SDK.

```
SHORT SetItemHeight(SHORT cyHeight);
```

### <a name="parameters"></a>Parámetros

*cyHeight*<br/>
Especifica la nueva altura de cada elemento de la vista de árbol, en píxeles. Si este argumento es menor que la altura de las imágenes, se establecerá en la altura de las imágenes. Si este argumento no es par, se redondeará hacia abajo al valor par más cercano. Si este argumento es -1, el control volverá a usar su altura de elemento predeterminada.

### <a name="return-value"></a>Valor devuelto

La altura anterior de los elementos, en píxeles.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::GetItemHeight](#getitemheight).

## <a name="ctreectrlsetitemimage"></a><a name="setitemimage"></a>CTreeCtrl::SetItemImage

Asocia imágenes a un elemento.

```
BOOL SetItemImage(
    HTREEITEM hItem,
    int nImage,
    int nSelectedImage);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Control del elemento cuya imagen se va a establecer.

*nImage*<br/>
Indexe la imagen del elemento en la lista de imágenes del control de vista de árbol.

*nSelectedImage*<br/>
Indexar la imagen seleccionada del elemento en la lista de imágenes del control de vista de árbol.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

Cada elemento de un control de vista de árbol puede tener un par de imágenes de mapa de bits asociadas. Las imágenes aparecen en el lado izquierdo de la etiqueta de un elemento. Se muestra una imagen cuando se selecciona el elemento y la otra cuando el elemento no está seleccionado. Por ejemplo, un elemento puede mostrar una carpeta abierta cuando se selecciona y una carpeta cerrada cuando no está seleccionada.

Llame a esta función para establecer el índice de la imagen del elemento y su imagen seleccionada dentro de la lista de imágenes del control de vista de árbol.

Para obtener más información sobre las imágenes, vea [CImageList](../../mfc/reference/cimagelist-class.md).

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::GetItemImage](#getitemimage).

## <a name="ctreectrlsetitemstate"></a><a name="setitemstate"></a>CTreeCtrl::SetItemState

Establece el estado del elemento especificado por *hItem*.

```
BOOL SetItemState(
    HTREEITEM hItem,
    UINT nState,
    UINT nStateMask);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Control del elemento cuyo estado se va a establecer.

*nEstado*<br/>
Especifica nuevos estados para el elemento.

*nStateMask*<br/>
Especifica qué estados se van a cambiar.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

Para obtener información sobre los estados, vea [CTreeCtrl::GetItem](#getitem).

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::GetItemState](#getitemstate).

## <a name="ctreectrlsetitemstateex"></a><a name="setitemstateex"></a>CTreeCtrl::SetItemStateEx

Establece el estado extendido del elemento especificado en el control de vista de árbol actual.

```
BOOL SetItemStateEx(
    HTREEITEM hItem,
    UINT uStateEx);
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*hItem*|[en] Controlar a un elemento de control de vista de árbol.|
|*uStateEx*|[en] El estado extendido del elemento. Para obtener más `uStateEx` información, consulte el miembro de la [estructura TVITEMEX.](/windows/win32/api/commctrl/ns-commctrl-tvitemexw)|

### <a name="return-value"></a>Valor devuelto

TRUESi este método se realiza correctamente; de lo contrario, FALSE.

### <a name="remarks"></a>Observaciones

Este método envía el [mensaje TVM_SETITEM,](/windows/win32/Controls/tvm-setitem) que se describe en el Windows SDK. Este método asigna el *uStateEx* parámetro al `uStateEx` miembro de un [TVITEMEX](/windows/win32/api/commctrl/ns-commctrl-tvitemexw) estructura y, a continuación, utiliza esa estructura en el mensaje.

### <a name="example"></a>Ejemplo

En el ejemplo de `m_treeCtrl`código siguiente se define una variable, , que se utiliza para tener acceso al control de vista de árbol actual. El ejemplo de código también define un entero sin signo y varias variables HTREEITEM. Estas variables se utilizan en el siguiente ejemplo.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se establece un elemento de vista de árbol en estado deshabilitado. En una sección anterior del ejemplo de código, que no se muestra, creamos una vista de árbol que consta de un nodo raíz de país o región para los Estados Unidos, subnodos para los estados de Pensilvania y Washington y elementos de árbol para las ciudades de esos estados. En este ejemplo de código se establece el nodo Pennsylvania en estado deshabilitado.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#7](../../mfc/reference/codesnippet/cpp/ctreectrl-class_41.cpp)]

## <a name="ctreectrlsetitemtext"></a><a name="setitemtext"></a>CTreeCtrl::SetItemText

Establece el texto del elemento especificado por *hItem*.

```
BOOL SetItemText(
    HTREEITEM hItem,
    LPCTSTR lpszItem);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Control del elemento cuyo texto se va a establecer.

*lpszItem*<br/>
Dirección de una cadena que contiene el nuevo texto para el elemento

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#34](../../mfc/reference/codesnippet/cpp/ctreectrl-class_42.cpp)]

## <a name="ctreectrlsetlinecolor"></a><a name="setlinecolor"></a>CTreeCtrl::SetLineColor

Llame a esta función miembro para establecer el color de línea actual para el control de vista de árbol.

```
COLORREF SetLineColor(COLORREF clrNew = CLR_DEFAULT);
```

### <a name="parameters"></a>Parámetros

*clrNew*<br/>
El nuevo color de línea.

### <a name="return-value"></a>Valor devuelto

El color de línea anterior.

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento del [mensaje de](/windows/win32/Controls/tvm-setlinecolor)Win32 TVM_SETLINECOLOR , como se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#35](../../mfc/reference/codesnippet/cpp/ctreectrl-class_43.cpp)]

## <a name="ctreectrlsetscrolltime"></a><a name="setscrolltime"></a>CTreeCtrl::SetScrollTime

Llame a esta función miembro para establecer el tiempo máximo de desplazamiento para el control de vista de árbol.

```
UINT SetScrollTime(UINT uScrollTime);
```

### <a name="parameters"></a>Parámetros

*uScrollTime*<br/>
El nuevo tiempo máximo de desplazamiento, en milisegundos. Si este valor es menor que 100, se redondeará hasta 100.

### <a name="return-value"></a>Valor devuelto

El tiempo de desplazamiento máximo anterior, en milisegundos.

### <a name="remarks"></a>Observaciones

Esta función miembro implementa el comportamiento de la [TVM_SETSCROLLTIME](/windows/win32/Controls/tvm-setscrolltime)de mensaje de Win32 , como se describe en el Windows SDK.

## <a name="ctreectrlsettextcolor"></a><a name="settextcolor"></a>CTreeCtrl::SetTextColor

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_SETTEXTCOLOR](/windows/win32/Controls/tvm-settextcolor), como se describe en el Windows SDK.

```
COLORREF SetTextColor(COLORREF clr);
```

### <a name="parameters"></a>Parámetros

*Clr*<br/>
Un valor COLORREF que contiene el nuevo color de texto. Si este argumento es -1, el control volverá a usar el color del sistema para el color del texto.

### <a name="return-value"></a>Valor devuelto

Un valor COLORREF que representa el color de texto anterior. Si este valor es -1, el control estaba utilizando el color del sistema para el color del texto.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#36](../../mfc/reference/codesnippet/cpp/ctreectrl-class_44.cpp)]

## <a name="ctreectrlsettooltips"></a><a name="settooltips"></a>CTreeCtrl::SetToolTips

Esta función miembro implementa el comportamiento del [mensaje de](/windows/win32/Controls/tvm-settooltips)Win32 TVM_SETTOOLTIPS , como se describe en el Windows SDK.

```
CToolTipCtrl* SetToolTips(CToolTipCtrl* pWndTip);
```

### <a name="parameters"></a>Parámetros

*pWndTip*<br/>
Un puntero a un [CToolTipCtrl](../../mfc/reference/ctooltipctrl-class.md) objeto que usará el control de árbol.

### <a name="return-value"></a>Valor devuelto

Un puntero a un [CToolTipCtrl](../../mfc/reference/ctooltipctrl-class.md) objeto que contiene la información sobre herramientas utilizada anteriormente por el control, o NULL si no se utilizó ninguna información sobre herramientas anteriormente.

### <a name="remarks"></a>Observaciones

Para utilizar información sobre herramientas, indique `CTreeCtrl` el estilo TVS_NOTOOLTIPS al crear el objeto.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::GetToolTips](#gettooltips).

## <a name="ctreectrlshowinfotip"></a><a name="showinfotip"></a>CTreeCtrl::ShowInfoTip

Muestra la información del elemento especificado en el control de vista de árbol actual.

```
void ShowInfoTip(HTREEITEM hItem);
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*hItem*|[en] Identificador de un elemento de vista de árbol en el control. Para obtener más `hItem` información, consulte el miembro de la [estructura TVITEMEX.](/windows/win32/api/commctrl/ns-commctrl-tvitemexw)|

### <a name="remarks"></a>Observaciones

Para obtener más información acerca de la diferencia entre información sobre herramientas e información, busque el tema "Información sobre herramientas e información" en [Microsoft Developer Network](https://go.microsoft.com/fwlink/p/?linkid=56322).

Este método envía el [mensaje TVM_SHOWINFOTIP,](/windows/win32/Controls/tvm-showinfotip) que se describe en el Windows SDK.

## <a name="ctreectrlsortchildren"></a><a name="sortchildren"></a>CTreeCtrl::SortChildren

Llame a esta función para ordenar alfabéticamente los elementos secundarios del elemento primario determinado en un control de vista de árbol.

```
BOOL SortChildren(HTREEITEM hItem);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Control del elemento primario cuyos elementos secundarios se van a ordenar. Si *hItem* es NULL, la ordenación procederá desde la raíz del árbol.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

`SortChildren`no recurse a través del árbol; solo se ordenarán los elementos secundarios inmediatos de *hItem.*

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#37](../../mfc/reference/codesnippet/cpp/ctreectrl-class_45.cpp)]

## <a name="ctreectrlsortchildrencb"></a><a name="sortchildrencb"></a>CTreeCtrl::SortChildrenCB

Llame a esta función para ordenar los elementos de vista de árbol mediante una función de devolución de llamada definida por la aplicación que compara los elementos.

```
BOOL SortChildrenCB(LPTVSORTCB pSort);
```

### <a name="parameters"></a>Parámetros

*pSort*<br/>
Puntero a una estructura [TVSORTCB.](/windows/win32/api/commctrl/ns-commctrl-tvsortcb)

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Observaciones

La función de `lpfnCompare`comparación de la estructura, , debe devolver un valor negativo si el primer elemento debe preceder al segundo, un valor positivo si el primer elemento debe seguir el segundo, o cero si los dos elementos son equivalentes.

Los *parámetros lParam1* y *lParam2* corresponden al `lParam` miembro de la estructura [TVITEM](/windows/win32/api/commctrl/ns-commctrl-tvitemw) para los dos elementos que se comparan. El parámetro *lParamSort* corresponde `lParam` al `TV_SORTCB` miembro de la estructura.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#38](../../mfc/reference/codesnippet/cpp/ctreectrl-class_46.cpp)]

[!code-cpp[NVC_MFC_CTreeCtrl#39](../../mfc/reference/codesnippet/cpp/ctreectrl-class_47.cpp)]

## <a name="see-also"></a>Consulte también

[Ejemplo de MFC CMNCTRL1](../../overview/visual-cpp-samples.md)<br/>
[CWnd (clase)](../../mfc/reference/cwnd-class.md)<br/>
[Gráfico de jerarquías](../../mfc/hierarchy-chart.md)<br/>
[CImageList (clase)](../../mfc/reference/cimagelist-class.md)
