---
title: CTreeCtrl Class
ms.date: 11/04/2016
f1_keywords:
- CTreeCtrl
- AFXCMN/CTreeCtrl
- AFXCMN/CTreeCtrl::CTreeCtrl
- AFXCMN/CTreeCtrl::Create
- AFXCMN/CTreeCtrl::CreateDragImage
- AFXCMN/CTreeCtrl::CreateEx
- AFXCMN/CTreeCtrl::DeleteAllItems
- AFXCMN/CTreeCtrl::DeleteItem
- AFXCMN/CTreeCtrl::EditLabel
- AFXCMN/CTreeCtrl::EndEditLabelNow
- AFXCMN/CTreeCtrl::EnsureVisible
- AFXCMN/CTreeCtrl::Expand
- AFXCMN/CTreeCtrl::GetBkColor
- AFXCMN/CTreeCtrl::GetCheck
- AFXCMN/CTreeCtrl::GetChildItem
- AFXCMN/CTreeCtrl::GetCount
- AFXCMN/CTreeCtrl::GetDropHilightItem
- AFXCMN/CTreeCtrl::GetEditControl
- AFXCMN/CTreeCtrl::GetExtendedStyle
- AFXCMN/CTreeCtrl::GetFirstVisibleItem
- AFXCMN/CTreeCtrl::GetImageList
- AFXCMN/CTreeCtrl::GetIndent
- AFXCMN/CTreeCtrl::GetInsertMarkColor
- AFXCMN/CTreeCtrl::GetItem
- AFXCMN/CTreeCtrl::GetItemData
- AFXCMN/CTreeCtrl::GetItemExpandedImageIndex
- AFXCMN/CTreeCtrl::GetItemHeight
- AFXCMN/CTreeCtrl::GetItemImage
- AFXCMN/CTreeCtrl::GetItemPartRect
- AFXCMN/CTreeCtrl::GetItemRect
- AFXCMN/CTreeCtrl::GetItemState
- AFXCMN/CTreeCtrl::GetItemStateEx
- AFXCMN/CTreeCtrl::GetItemText
- AFXCMN/CTreeCtrl::GetLastVisibleItem
- AFXCMN/CTreeCtrl::GetLineColor
- AFXCMN/CTreeCtrl::GetNextItem
- AFXCMN/CTreeCtrl::GetNextSiblingItem
- AFXCMN/CTreeCtrl::GetNextVisibleItem
- AFXCMN/CTreeCtrl::GetParentItem
- AFXCMN/CTreeCtrl::GetPrevSiblingItem
- AFXCMN/CTreeCtrl::GetPrevVisibleItem
- AFXCMN/CTreeCtrl::GetRootItem
- AFXCMN/CTreeCtrl::GetScrollTime
- AFXCMN/CTreeCtrl::GetSelectedCount
- AFXCMN/CTreeCtrl::GetSelectedItem
- AFXCMN/CTreeCtrl::GetTextColor
- AFXCMN/CTreeCtrl::GetToolTips
- AFXCMN/CTreeCtrl::GetVisibleCount
- AFXCMN/CTreeCtrl::HitTest
- AFXCMN/CTreeCtrl::InsertItem
- AFXCMN/CTreeCtrl::ItemHasChildren
- AFXCMN/CTreeCtrl::MapAccIdToItem
- AFXCMN/CTreeCtrl::MapItemToAccID
- AFXCMN/CTreeCtrl::Select
- AFXCMN/CTreeCtrl::SelectDropTarget
- AFXCMN/CTreeCtrl::SelectItem
- AFXCMN/CTreeCtrl::SelectSetFirstVisible
- AFXCMN/CTreeCtrl::SetAutoscrollInfo
- AFXCMN/CTreeCtrl::SetBkColor
- AFXCMN/CTreeCtrl::SetCheck
- AFXCMN/CTreeCtrl::SetExtendedStyle
- AFXCMN/CTreeCtrl::SetImageList
- AFXCMN/CTreeCtrl::SetIndent
- AFXCMN/CTreeCtrl::SetInsertMark
- AFXCMN/CTreeCtrl::SetInsertMarkColor
- AFXCMN/CTreeCtrl::SetItem
- AFXCMN/CTreeCtrl::SetItemData
- AFXCMN/CTreeCtrl::SetItemExpandedImageIndex
- AFXCMN/CTreeCtrl::SetItemHeight
- AFXCMN/CTreeCtrl::SetItemImage
- AFXCMN/CTreeCtrl::SetItemState
- AFXCMN/CTreeCtrl::SetItemStateEx
- AFXCMN/CTreeCtrl::SetItemText
- AFXCMN/CTreeCtrl::SetLineColor
- AFXCMN/CTreeCtrl::SetScrollTime
- AFXCMN/CTreeCtrl::SetTextColor
- AFXCMN/CTreeCtrl::SetToolTips
- AFXCMN/CTreeCtrl::ShowInfoTip
- AFXCMN/CTreeCtrl::SortChildren
- AFXCMN/CTreeCtrl::SortChildrenCB
helpviewer_keywords:
- CTreeCtrl [MFC], CTreeCtrl
- CTreeCtrl [MFC], Create
- CTreeCtrl [MFC], CreateDragImage
- CTreeCtrl [MFC], CreateEx
- CTreeCtrl [MFC], DeleteAllItems
- CTreeCtrl [MFC], DeleteItem
- CTreeCtrl [MFC], EditLabel
- CTreeCtrl [MFC], EndEditLabelNow
- CTreeCtrl [MFC], EnsureVisible
- CTreeCtrl [MFC], Expand
- CTreeCtrl [MFC], GetBkColor
- CTreeCtrl [MFC], GetCheck
- CTreeCtrl [MFC], GetChildItem
- CTreeCtrl [MFC], GetCount
- CTreeCtrl [MFC], GetDropHilightItem
- CTreeCtrl [MFC], GetEditControl
- CTreeCtrl [MFC], GetExtendedStyle
- CTreeCtrl [MFC], GetFirstVisibleItem
- CTreeCtrl [MFC], GetImageList
- CTreeCtrl [MFC], GetIndent
- CTreeCtrl [MFC], GetInsertMarkColor
- CTreeCtrl [MFC], GetItem
- CTreeCtrl [MFC], GetItemData
- CTreeCtrl [MFC], GetItemExpandedImageIndex
- CTreeCtrl [MFC], GetItemHeight
- CTreeCtrl [MFC], GetItemImage
- CTreeCtrl [MFC], GetItemPartRect
- CTreeCtrl [MFC], GetItemRect
- CTreeCtrl [MFC], GetItemState
- CTreeCtrl [MFC], GetItemStateEx
- CTreeCtrl [MFC], GetItemText
- CTreeCtrl [MFC], GetLastVisibleItem
- CTreeCtrl [MFC], GetLineColor
- CTreeCtrl [MFC], GetNextItem
- CTreeCtrl [MFC], GetNextSiblingItem
- CTreeCtrl [MFC], GetNextVisibleItem
- CTreeCtrl [MFC], GetParentItem
- CTreeCtrl [MFC], GetPrevSiblingItem
- CTreeCtrl [MFC], GetPrevVisibleItem
- CTreeCtrl [MFC], GetRootItem
- CTreeCtrl [MFC], GetScrollTime
- CTreeCtrl [MFC], GetSelectedCount
- CTreeCtrl [MFC], GetSelectedItem
- CTreeCtrl [MFC], GetTextColor
- CTreeCtrl [MFC], GetToolTips
- CTreeCtrl [MFC], GetVisibleCount
- CTreeCtrl [MFC], HitTest
- CTreeCtrl [MFC], InsertItem
- CTreeCtrl [MFC], ItemHasChildren
- CTreeCtrl [MFC], MapAccIdToItem
- CTreeCtrl [MFC], MapItemToAccID
- CTreeCtrl [MFC], Select
- CTreeCtrl [MFC], SelectDropTarget
- CTreeCtrl [MFC], SelectItem
- CTreeCtrl [MFC], SelectSetFirstVisible
- CTreeCtrl [MFC], SetAutoscrollInfo
- CTreeCtrl [MFC], SetBkColor
- CTreeCtrl [MFC], SetCheck
- CTreeCtrl [MFC], SetExtendedStyle
- CTreeCtrl [MFC], SetImageList
- CTreeCtrl [MFC], SetIndent
- CTreeCtrl [MFC], SetInsertMark
- CTreeCtrl [MFC], SetInsertMarkColor
- CTreeCtrl [MFC], SetItem
- CTreeCtrl [MFC], SetItemData
- CTreeCtrl [MFC], SetItemExpandedImageIndex
- CTreeCtrl [MFC], SetItemHeight
- CTreeCtrl [MFC], SetItemImage
- CTreeCtrl [MFC], SetItemState
- CTreeCtrl [MFC], SetItemStateEx
- CTreeCtrl [MFC], SetItemText
- CTreeCtrl [MFC], SetLineColor
- CTreeCtrl [MFC], SetScrollTime
- CTreeCtrl [MFC], SetTextColor
- CTreeCtrl [MFC], SetToolTips
- CTreeCtrl [MFC], ShowInfoTip
- CTreeCtrl [MFC], SortChildren
- CTreeCtrl [MFC], SortChildrenCB
ms.assetid: 96e20031-6161-4143-8c12-8d1816c66d90
ms.openlocfilehash: 2428c94eaa5dd371d58680f6317173709f684507
ms.sourcegitcommit: 28eae422049ac3381c6b1206664455dbb56cbfb6
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/31/2019
ms.locfileid: "66449567"
---
# <a name="ctreectrl-class"></a>CTreeCtrl Class

Proporciona la funcionalidad del control de vista de árbol común de Windows.

## <a name="syntax"></a>Sintaxis

```
class CTreeCtrl : public CWnd
```

## <a name="members"></a>Miembros

### <a name="public-constructors"></a>Constructores públicos

|Name|Descripción|
|----------|-----------------|
|[CTreeCtrl::CTreeCtrl](#ctreectrl)|Construye un objeto `CTreeCtrl`.|

### <a name="public-methods"></a>Métodos públicos

|Name|Descripción|
|----------|-----------------|
|[CTreeCtrl::Create](#create)|Crea un control de vista de árbol y lo adjunta a un `CTreeCtrl` objeto.|
|[CTreeCtrl::CreateDragImage](#createdragimage)|Crea un mapa de bits de arrastre para el elemento de vista de árbol especificado.|
|[CTreeCtrl::CreateEx](#createex)|Crea un control de árbol con los estilos extendidos de Windows especificados y lo asocia a un `CTreeCtrl` objeto.|
|[CTreeCtrl::DeleteAllItems](#deleteallitems)|Elimina todos los elementos de un control de vista de árbol.|
|[CTreeCtrl::DeleteItem](#deleteitem)|Elimina un elemento nuevo en un control de vista de árbol.|
|[CTreeCtrl::EditLabel](#editlabel)|Modifica un árbol especificado vista elemento local.|
|[CTreeCtrl::EndEditLabelNow](#endeditlabelnow)|Cancela la operación de edición en la etiqueta de un elemento de vista de árbol en el control de vista de árbol actual.|
|[CTreeCtrl::EnsureVisible](#ensurevisible)|Garantiza que un elemento de vista de árbol está visible en el control de vista de árbol.|
|[CTreeCtrl::Expand](#expand)|Expande o contrae los elementos secundarios del elemento de vista de árbol especificado.|
|[CTreeCtrl::GetBkColor](#getbkcolor)|Recupera el color de fondo actual del control.|
|[CTreeCtrl::GetCheck](#getcheck)|Recupera el estado de activación de un elemento de control de árbol.|
|[CTreeCtrl::GetChildItem](#getchilditem)|Recupera al elemento secundario de un elemento de vista de árbol especificado.|
|[CTreeCtrl::GetCount](#getcount)|Recupera el número de elementos del árbol asociado con un control de vista de árbol.|
|[CTreeCtrl::GetDropHilightItem](#getdrophilightitem)|Recupera el destino de una operación de arrastrar y colocar.|
|[CTreeCtrl::GetEditControl](#geteditcontrol)|Recupera el identificador de control de edición utilizado para editar el elemento de vista de árbol especificado.|
|[CTreeCtrl::GetExtendedStyle](#getextendedstyle)|Recupera los estilos extendidos que está usando el control de vista de árbol actual.|
|[CTreeCtrl::GetFirstVisibleItem](#getfirstvisibleitem)|Recupera el primer elemento visible del elemento de vista de árbol especificado.|
|[CTreeCtrl::GetImageList](#getimagelist)|Recupera el identificador de la lista de imágenes asociado con un control de vista de árbol.|
|[CTreeCtrl::GetIndent](#getindent)|Recupera el desplazamiento (en píxeles) de un elemento de vista de árbol de su elemento primario.|
|[CTreeCtrl::GetInsertMarkColor](#getinsertmarkcolor)|Recupera el color utilizado para dibujar la marca de inserción para la vista de árbol.|
|[CTreeCtrl::GetItem](#getitem)|Recupera los atributos de un elemento de vista de árbol especificado.|
|[CTreeCtrl::GetItemData](#getitemdata)|Devuelve el valor específico de la aplicación de 32 bits asociado al elemento.|
|[CTreeCtrl::GetItemExpandedImageIndex](#getitemexpandedimageindex)|Recupera el índice de la imagen que se muestra cuando el elemento especificado del control de vista de árbol actual es expandido.|
|[CTreeCtrl::GetItemHeight](#getitemheight)|Recupera el alto actual de los elementos de vista de árbol.|
|[CTreeCtrl::GetItemImage](#getitemimage)|Recupera las imágenes asociadas a un elemento.|
|[CTreeCtrl::GetItemPartRect](#getitempartrect)|Recupera el rectángulo delimitador de un elemento especificado de un elemento especificado en el control de vista de árbol actual.|
|[CTreeCtrl::GetItemRect](#getitemrect)|Recupera el rectángulo delimitador de un elemento de vista de árbol.|
|[CTreeCtrl::GetItemState](#getitemstate)|Devuelve el estado de un elemento.|
|[CTreeCtrl::GetItemStateEx](#getitemstateex)|Recupera el estado extendido del elemento especificado en el control de vista de árbol actual.|
|[CTreeCtrl::GetItemText](#getitemtext)|Devuelve el texto de un elemento.|
|[CTreeCtrl::GetLastVisibleItem](#getlastvisibleitem)|Recupera el último elemento expandido en el control de vista de árbol actual.|
|[CTreeCtrl::GetLineColor](#getlinecolor)|Recupera el color de línea actual para el control de vista de árbol.|
|[CTreeCtrl::GetNextItem](#getnextitem)|Recupera el siguiente elemento de vista de árbol que coincide con una relación especificada.|
|[CTreeCtrl::GetNextSiblingItem](#getnextsiblingitem)|Recupera al siguiente elemento relacionado del elemento de vista de árbol especificado.|
|[CTreeCtrl::GetNextVisibleItem](#getnextvisibleitem)|Recupera el siguiente elemento visible del elemento de vista de árbol especificado.|
|[CTreeCtrl::GetParentItem](#getparentitem)|Recupera al elemento primario del elemento de vista de árbol especificado.|
|[CTreeCtrl::GetPrevSiblingItem](#getprevsiblingitem)|Recupera al elemento relacionado anterior del elemento de vista de árbol especificado.|
|[CTreeCtrl::GetPrevVisibleItem](#getprevvisibleitem)|Recupera el elemento visible anterior del elemento de vista de árbol especificado.|
|[CTreeCtrl::GetRootItem](#getrootitem)|Recupera la raíz del elemento de vista de árbol especificado.|
|[CTreeCtrl::GetScrollTime](#getscrolltime)|Recupera el tiempo de desplazamiento máximo para el control de vista de árbol.|
|[CTreeCtrl::GetSelectedCount](#getselectedcount)|Recupera el número de elementos seleccionados en el control de vista de árbol actual.|
|[CTreeCtrl::GetSelectedItem](#getselecteditem)|Recupera el elemento de vista de árbol seleccionado actualmente.|
|[CTreeCtrl::GetTextColor](#gettextcolor)|Recupera el color del texto actual del control.|
|[CTreeCtrl::GetToolTips](#gettooltips)|Recupera el identificador para el control de información sobre herramientas utilizado por un control de vista de árbol secundario.|
|[CTreeCtrl::GetVisibleCount](#getvisiblecount)|Recupera el número de elementos de árbol visible asociados a un control de vista de árbol.|
|[CTreeCtrl::HitTest](#hittest)|Devuelve la posición actual del cursor relacionados con la `CTreeCtrl` objeto.|
|[CTreeCtrl::InsertItem](#insertitem)|Inserta un nuevo elemento en un control de vista de árbol.|
|[CTreeCtrl::ItemHasChildren](#itemhaschildren)|Devuelve cero si el elemento especificado tiene elementos secundarios.|
|[CTreeCtrl::MapAccIdToItem](#mapaccidtoitem)|El identificador de accesibilidad especificadas se asigna al identificador de un elemento de vista de árbol en el control de vista de árbol actual.|
|[CTreeCtrl::MapItemToAccID](#mapitemtoaccid)|El identificador especificado se asigna a un elemento de vista de árbol en el control de vista de árbol actual a un identificador de accesibilidad.|
|[CTreeCtrl::Select](#select)|Selecciona, se desplaza en la vista o vuelve a dibujar un elemento de vista de árbol especificado.|
|[CTreeCtrl::SelectDropTarget](#selectdroptarget)|Vuelve a dibujar el elemento de árbol como el destino de una operación de arrastrar y colocar.|
|[CTreeCtrl::SelectItem](#selectitem)|Selecciona un elemento de vista de árbol especificado.|
|[CTreeCtrl::SelectSetFirstVisible](#selectsetfirstvisible)|Selecciona un elemento de vista de árbol especificado como el primer elemento visible.|
|[CTreeCtrl::SetAutoscrollInfo](#setautoscrollinfo)|Establece la velocidad de desplazamiento automático del control de vista de árbol actual.|
|[CTreeCtrl::SetBkColor](#setbkcolor)|Establece el color de fondo del control.|
|[CTreeCtrl::SetCheck](#setcheck)|Establece el estado de activación de un elemento de control de árbol.|
|[CTreeCtrl::SetExtendedStyle](#setextendedstyle)|Establece los estilos extendidos para el control de vista de árbol actual.|
|[CTreeCtrl::SetImageList](#setimagelist)|Establece el identificador de la lista de imágenes asociado con un control de vista de árbol.|
|[CTreeCtrl::SetIndent](#setindent)|Establece el desplazamiento (en píxeles) de un elemento de vista de árbol de su elemento primario.|
|[CTreeCtrl::SetInsertMark](#setinsertmark)|Establece la marca de inserción en un control de vista de árbol.|
|[CTreeCtrl::SetInsertMarkColor](#setinsertmarkcolor)|Establece el color utilizado para dibujar la marca de inserción para la vista de árbol.|
|[CTreeCtrl::SetItem](#setitem)|Establece los atributos de un elemento de vista de árbol especificado.|
|[CTreeCtrl::SetItemData](#setitemdata)|Establece el valor específico de la aplicación de 32 bits asociado al elemento.|
|[CTreeCtrl::SetItemExpandedImageIndex](#setitemexpandedimageindex)|Establece el índice de la imagen que se muestra cuando el elemento especificado del control de vista de árbol actual es expandido.|
|[CTreeCtrl::SetItemHeight](#setitemheight)|Establece el alto del árbol de elementos de vista.|
|[CTreeCtrl::SetItemImage](#setitemimage)|Asocia imágenes con un elemento.|
|[CTreeCtrl::SetItemState](#setitemstate)|Establece el estado de un elemento.|
|[CTreeCtrl::SetItemStateEx](#setitemstateex)|Establece el estado extendido del elemento especificado en el control de vista de árbol actual.|
|[CTreeCtrl::SetItemText](#setitemtext)|Establece el texto de un elemento.|
|[CTreeCtrl::SetLineColor](#setlinecolor)|Establece el color de línea actual para el control de vista de árbol.|
|[CTreeCtrl::SetScrollTime](#setscrolltime)|Establece el tiempo de desplazamiento máximo para el control de vista de árbol.|
|[CTreeCtrl::SetTextColor](#settextcolor)|Establece el color del texto del control.|
|[CTreeCtrl::SetToolTips](#settooltips)|Establece a secundarios del control de vista de árbol de control ToolTip.|
|[CTreeCtrl::ShowInfoTip](#showinfotip)|Muestra el recuadro informativo para el elemento especificado en el control de vista de árbol actual.|
|[CTreeCtrl::SortChildren](#sortchildren)|Ordena a los elementos secundarios de un elemento primario especificado.|
|[CTreeCtrl::SortChildrenCB](#sortchildrencb)|Ordena a los elementos secundarios de un elemento primario dado mediante una función de ordenación definido por la aplicación.|

## <a name="remarks"></a>Comentarios

Un "control de vista de árbol" es una ventana que muestra una lista jerárquica de elementos, como los encabezados en un documento, las entradas de un índice, o los archivos y directorios en un disco. Cada elemento se compone de una etiqueta y una imagen de mapa de bits opcional, y cada elemento puede tener una lista de subelementos asociados con él. Al hacer clic en un elemento, el usuario puede expandir y contraer la lista asociada de subelementos.

Este control (y, por tanto, la `CTreeCtrl` clase) está disponible solo para programas que se ejecutan en la versión de Windows 98 y Windows NT 4 y versiones posteriores.

Para obtener más información sobre el uso de `CTreeCtrl`, consulte:

- [Controles](../../mfc/controls-mfc.md)

- [Uso de CTreeCtrl](../../mfc/using-ctreectrl.md)

- [Referencia de Control de vista de árbol](/windows/desktop/Controls/tree-view-control-reference) en el SDK de Windows.

## <a name="inheritance-hierarchy"></a>Jerarquía de herencia

[CObject](../../mfc/reference/cobject-class.md)

[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)

[CWnd](../../mfc/reference/cwnd-class.md)

`CTreeCtrl`

## <a name="requirements"></a>Requisitos

**Encabezado:** afxcmn.h

##  <a name="create"></a>  CTreeCtrl::Create

Si especifica el control de árbol en una plantilla de cuadro de diálogo, o si está utilizando [CTreeView](../../mfc/reference/ctreeview-class.md), el control de árbol se crea automáticamente cuando se crea el cuadro de diálogo o la vista.

```
virtual BOOL Create(
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Parámetros

*dwStyle*<br/>
Especifica el estilo del control de vista de árbol. Aplicar estilos de ventana, se describe en [CreateWindow](/windows/desktop/api/winuser/nf-winuser-createwindowa)y cualquier combinación de [estilos de control de vista de árbol](/windows/desktop/Controls/tree-view-control-window-styles) tal como se describe en el SDK de Windows.

*rect*<br/>
Especifica el tamaño y la posición del control de vista de árbol. Puede ser un [CRect](../../atl-mfc-shared/reference/crect-class.md) objeto o un [RECT](/previous-versions/dd162897\(v=vs.85\)) estructura.

*pParentWnd*<br/>
Especifica la ventana primaria del control de vista de árbol, normalmente un `CDialog`. No debe ser NULL.

*nID*<br/>
Especifica el identificador. del control de vista de árbol

### <a name="return-value"></a>Valor devuelto

Distinto de cero si la inicialización se realizó correctamente; en caso contrario, es 0.

### <a name="remarks"></a>Comentarios

Si desea crear el control de árbol como una ventana secundaria de alguna otra ventana, utilice el `Create` función miembro. Si crea el control de árbol mediante `Create`, debe pasarla WS_VISIBLE, además de otros estilos de vista de árbol.

Construir un `CTreeCtrl` en dos pasos. A continuación, llame la primera llamada al constructor, `Create`, que crea el control de vista de árbol y lo adjunta a la `CTreeCtrl` objeto.

Para crear un control de árbol con estilos de ventana extendidos, llame a [CreateEx](#createex) en lugar de `Create`.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_1.cpp)]

##  <a name="createex"></a>  CTreeCtrl::CreateEx

Llame a esta función para crear un control (una ventana secundaria) y asócielo con el `CTreeCtrl` objeto.

```
virtual BOOL CreateEx(
    DWORD dwExStyle,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Parámetros

*dwExStyle*<br/>
Especifica el estilo extendido del control que se está creando. Para obtener una lista de los estilos extendidos de Windows, consulte el *dwExStyle* parámetro [CreateWindowEx](/windows/desktop/api/winuser/nf-winuser-createwindowexa) en el SDK de Windows.

*dwStyle*<br/>
Especifica el estilo del control de vista de árbol. Aplicar estilos de ventana, se describe en [CreateWindow](/windows/desktop/api/winuser/nf-winuser-createwindowa)y cualquier combinación de [estilos de control de vista de árbol](/windows/desktop/Controls/tree-view-control-window-styles) tal como se describe en el SDK de Windows.

*rect*<br/>
Una referencia a un [RECT](/previous-versions/dd162897\(v=vs.85\)) estructura que describe el tamaño y posición de la ventana que se creará, en coordenadas de cliente de *pParentWnd*.

*pParentWnd*<br/>
Un puntero a la ventana que es primario del control.

*nID*<br/>
Identificador de ventana secundaria. del control

### <a name="return-value"></a>Valor devuelto

0 en caso contrario, es distinto de cero si se realiza correctamente.

### <a name="remarks"></a>Comentarios

Use `CreateEx` en lugar de [crear](#create) para aplicar estilos extendidos de Windows, especificados por el prólogo de estilo extendido de Windows **WS_EX_** .

##  <a name="createdragimage"></a>  CTreeCtrl::CreateDragImage

Llame a esta función para crear un mapa de bits arrastrar el elemento especificado en un control de vista de árbol, cree una lista de imágenes del mapa de bits y agregue el mapa de bits a la lista de imágenes.

```
CImageList* CreateDragImage(HTREEITEM hItem);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador de arrastrar el elemento de árbol.

### <a name="return-value"></a>Valor devuelto

Puntero a la lista de imágenes a la que se ha agregado el mapa de bits de arrastrar, si se realiza correctamente; en caso contrario, es NULL.

### <a name="remarks"></a>Comentarios

Una aplicación usa las funciones de la lista de imágenes para mostrar la imagen cuando se arrastra el elemento.

La `CImageList` objeto es permanente y debe eliminarlo cuando termine. Por ejemplo:

[!code-cpp[NVC_MFC_CTreeCtrl#2](../../mfc/reference/codesnippet/cpp/ctreectrl-class_2.cpp)]

##  <a name="ctreectrl"></a>  CTreeCtrl::CTreeCtrl

Construye un objeto `CTreeCtrl`.

```
CTreeCtrl();
```

##  <a name="deleteallitems"></a>  CTreeCtrl::DeleteAllItems

Llame a esta función para eliminar todos los elementos del control de vista de árbol.

```
BOOL DeleteAllItems();
```

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#3](../../mfc/reference/codesnippet/cpp/ctreectrl-class_3.cpp)]

##  <a name="deleteitem"></a>  CTreeCtrl::DeleteItem

Llame a esta función para eliminar un elemento de control de vista de árbol.

```
BOOL DeleteItem(HTREEITEM hItem);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento de árbol que se va a eliminar. Si *hitem* tiene el valor TVI_ROOT, se eliminan todos los elementos del control de vista de árbol.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#4](../../mfc/reference/codesnippet/cpp/ctreectrl-class_4.cpp)]

##  <a name="editlabel"></a>  CTreeCtrl::EditLabel

Llame a esta función para comenzar la edición en contexto del texto del elemento especificado.

```
CEdit* EditLabel(HTREEITEM hItem);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento de árbol para editarse.

### <a name="return-value"></a>Valor devuelto

Si es correcto, un puntero a la `CEdit` objeto que se usa para editar el texto del elemento; en caso contrario, NULL.

### <a name="remarks"></a>Comentarios

La edición se logra reemplazando el texto del elemento con un control de edición de línea única que contiene el texto.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#5](../../mfc/reference/codesnippet/cpp/ctreectrl-class_5.cpp)]

##  <a name="endeditlabelnow"></a>  CTreeCtrl::EndEditLabelNow

Finaliza la operación de edición en la etiqueta de un elemento de vista de árbol en el control de vista de árbol actual.

```
BOOL EndEditLabelNow(BOOL fCancelWithoutSave);
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*fCancelWithoutSave*|[in] TRUE para descartar los cambios realizados en el elemento de vista de árbol antes de concluir la operación de edición, o FALSE para guardar los cambios en el elemento de vista de árbol antes de concluir la operación.|

### <a name="return-value"></a>Valor devuelto

TRUE si este método se realiza correctamente; en caso contrario, FALSE.

### <a name="remarks"></a>Comentarios

Este método envía el [TVM_ENDEDITLABELNOW](/windows/desktop/Controls/tvm-endeditlabelnow) mensaje, que se describe en el SDK de Windows.

##  <a name="ensurevisible"></a>  CTreeCtrl::EnsureVisible

Llame a esta función para asegurarse de que un elemento de vista de árbol está visible.

```
BOOL EnsureVisible(HTREEITEM hItem);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento de árbol que se hace visible.

### <a name="return-value"></a>Valor devuelto

Devuelve TRUE si el sistema puede desplazar los elementos en el control de vista de árbol para asegurarse de que el elemento especificado está visible. En caso contrario, el valor devuelto es FALSE.

### <a name="remarks"></a>Comentarios

Si es necesario, la función expande el elemento primario o desplaza el control de vista de árbol para que el elemento está visible.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#6](../../mfc/reference/codesnippet/cpp/ctreectrl-class_6.cpp)]

##  <a name="expand"></a>  CTreeCtrl::Expand

Llame a esta función para expandir o contraer la lista de elementos secundarios, si existe, asociado con el elemento primario especificado.

```
BOOL Expand(
    HTREEITEM hItem,
    UINT nCode);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento de árbol está expandido.

*nCode*<br/>
Una marca que indica el tipo de acción que se realizará. Este indicador puede tener uno de los valores siguientes:

- TVE_COLLAPSE contrae la lista.

- TVE_COLLAPSERESET contrae la lista y quita los elementos secundarios. Se restablece el indicador de estado TVIS_EXPANDEDONCE. Esta marca se debe usar con la marca TVE_COLLAPSE.

- TVE_EXPAND expande la lista.

- TVE_TOGGLE contrae la lista si está expandido actualmente o se expande si actualmente está contraído.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::EnsureVisible](#ensurevisible).

##  <a name="getbkcolor"></a>  CTreeCtrl::GetBkColor

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_GETBKCOLOR](/windows/desktop/Controls/tvm-getbkcolor), tal y como se describe en el SDK de Windows.

```
COLORREF GetBkColor() const;
```

### <a name="return-value"></a>Valor devuelto

Un valor COLORREF que representa el color de fondo de ventana actual del control. Si este valor es -1, el control está usando el color de la ventana del sistema. En este caso, puede usar `::GetSysColor(COLOR_WINDOW)` para obtener el color actual del sistema que utiliza el control.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::SetTextColor](#settextcolor).

##  <a name="getcheck"></a>  CTreeCtrl::GetCheck

Llame a esta función miembro para recuperar el estado de comprobación de un elemento.

```
BOOL GetCheck(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
HTREEITEM que se va a recibir la información de estado.

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el elemento de control de árbol está activado; en caso contrario, es 0.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::SetCheck](#setcheck).

##  <a name="getchilditem"></a>  CTreeCtrl::GetChildItem

Llamada a esta función para recuperar el árbol de ver el elemento que es el elemento secundario del elemento especificado por *hItem*.

```
HTREEITEM GetChildItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador de un elemento de árbol.

### <a name="return-value"></a>Valor devuelto

El identificador del elemento secundario si se realiza correctamente; en caso contrario, es NULL.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#7](../../mfc/reference/codesnippet/cpp/ctreectrl-class_7.cpp)]

##  <a name="getcount"></a>  CTreeCtrl::GetCount

Llame a esta función para recuperar un recuento de los elementos de un control de vista de árbol.

```
UINT GetCount() const;
```

### <a name="return-value"></a>Valor devuelto

El número de elementos en el control de vista de árbol.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#8](../../mfc/reference/codesnippet/cpp/ctreectrl-class_8.cpp)]

##  <a name="getdrophilightitem"></a>  CTreeCtrl::GetDropHilightItem

Llame a esta función para recuperar el elemento que es el destino de una operación de arrastrar y colocar.

```
HTREEITEM GetDropHilightItem() const;
```

### <a name="return-value"></a>Valor devuelto

El identificador del elemento que se puede quitado si se realiza correctamente; en caso contrario, es NULL.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#9](../../mfc/reference/codesnippet/cpp/ctreectrl-class_9.cpp)]

##  <a name="geteditcontrol"></a>  CTreeCtrl::GetEditControl

Llame a esta función para recuperar el identificador del control de edición que se usa para editar el texto del elemento de vista de árbol.

```
CEdit* GetEditControl() const;
```

### <a name="return-value"></a>Valor devuelto

Un puntero para el control de edición que se usa para editar el texto del elemento, si se realiza correctamente; en caso contrario, es NULL.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#10](../../mfc/reference/codesnippet/cpp/ctreectrl-class_10.cpp)]

##  <a name="getextendedstyle"></a>  CTreeCtrl::GetExtendedStyle

Recupera los estilos extendidos que está usando el control de vista de árbol actual.

```
DWORD GetExtendedStyle() const;
```

### <a name="return-value"></a>Valor devuelto

Un valor que contiene una combinación bit a bit (OR) del control de vista de árbol actual de estilos extendidos. Para obtener más información, consulte [estilos extendidos de Control de vista de árbol](/windows/desktop/Controls/tree-view-control-window-extended-styles).

### <a name="remarks"></a>Comentarios

Este método envía el [TVM_GETEXTENDEDSTYLE](/windows/desktop/Controls/tvm-getextendedstyle) mensaje, que se describe en el SDK de Windows.

##  <a name="getfirstvisibleitem"></a>  CTreeCtrl::GetFirstVisibleItem

Llame a esta función para recuperar el primer elemento visible del control de vista de árbol.

```
HTREEITEM GetFirstVisibleItem() const;
```

### <a name="return-value"></a>Valor devuelto

El identificador del primer elemento visible; en caso contrario, es NULL.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::SetCheck](#setcheck).

##  <a name="getimagelist"></a>  CTreeCtrl::GetImageList

Llame a esta función para recuperar el identificador del vector normal o una lista de imágenes de estado asociado al control de vista de árbol.

```
CImageList* GetImageList(UINT nImageList) const;
```

### <a name="parameters"></a>Parámetros

*nImageList*<br/>
Tipo de lista de imágenes para recuperar. La lista de imágenes puede ser uno de los siguientes valores:

- TVSIL_NORMAL recupera la lista de imágenes normal, que contiene las imágenes seleccionadas y no seleccionadas para el elemento de vista de árbol.

- TVSIL_STATE recupera la lista de imágenes de estado, que contiene las imágenes para los elementos de vista de árbol que se encuentran en un estado definido por el usuario.

### <a name="return-value"></a>Valor devuelto

Puntero a la lista de imágenes del control si se realiza correctamente; en caso contrario, es NULL.

### <a name="remarks"></a>Comentarios

Cada elemento en un control de vista de árbol puede tener un par de imágenes de mapa de bits asociados con él. Una imagen se muestra cuando el elemento está seleccionado y el otro se muestra cuando el elemento no está seleccionado. Por ejemplo, un elemento podría mostrar una carpeta abierta cuando está seleccionado y una carpeta cerrada cuando no está seleccionada.

Para obtener más información sobre las listas de imágenes, consulte el [CImageList](../../mfc/reference/cimagelist-class.md) clase.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#11](../../mfc/reference/codesnippet/cpp/ctreectrl-class_11.cpp)]

##  <a name="getindent"></a>  CTreeCtrl::GetIndent

Llame a esta función para recuperar la cantidad, en píxeles, ese elemento secundario se aplica sangría a los elementos en relación con sus elementos primarios.

```
UINT GetIndent() const;
```

### <a name="return-value"></a>Valor devuelto

La cantidad de sangría se mide en píxeles.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#12](../../mfc/reference/codesnippet/cpp/ctreectrl-class_12.cpp)]

##  <a name="getinsertmarkcolor"></a>  CTreeCtrl::GetInsertMarkColor

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_GETINSERTMARKCOLOR](/windows/desktop/Controls/tvm-getinsertmarkcolor), tal y como se describe en el SDK de Windows.

```
COLORREF GetInsertMarkColor() const;
```

### <a name="return-value"></a>Valor devuelto

Un valor COLORREF que contiene el color de la marca de inserción actual.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#13](../../mfc/reference/codesnippet/cpp/ctreectrl-class_13.cpp)]

##  <a name="getitem"></a>  CTreeCtrl::GetItem

Llame a esta función para recuperar los atributos del elemento de vista de árbol especificado.

```
BOOL GetItem(TVITEM* pItem) const;
```

### <a name="parameters"></a>Parámetros

*pItem*<br/>
Un puntero a un [estructura TVITEM](/windows/desktop/api/commctrl/ns-commctrl-tagtvitema) estructura, como se describe en el SDK de Windows.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::DeleteItem](#deleteitem).

##  <a name="getitemdata"></a>  CTreeCtrl::GetItemData

Llame a esta función para recuperar el valor específico de la aplicación de 32 bits asociado al elemento especificado.

```
DWORD_PTR GetItemData(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento cuyos datos se van a recuperar.

### <a name="return-value"></a>Valor devuelto

Un valor específico de la aplicación de 32 bits asociado al elemento especificado por *hItem*.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#14](../../mfc/reference/codesnippet/cpp/ctreectrl-class_14.cpp)]

##  <a name="getitemexpandedimageindex"></a>  CTreeCtrl::GetItemExpandedImageIndex

Recupera el índice de la imagen que se muestra cuando el elemento especificado del control de vista de árbol actual es expandido.

```
int GetItemExpandedImageIndex(HTREEITEM hItem)const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*hItem*|[in] Identificador de un elemento de control de vista de árbol.|

### <a name="return-value"></a>Valor devuelto

El índice de la imagen se muestra cuando el elemento especificado está expandido.

### <a name="remarks"></a>Comentarios

Este método envía el [TVM_GETITEM](/windows/desktop/Controls/tvm-getitem) mensaje, que se describe en el SDK de Windows. Devuelve del mensaje que el [TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa) estructura que describe el elemento de control de vista de árbol y, a continuación, este método recupera el `iExpandedImage` miembro de esa estructura.

##  <a name="getitemheight"></a>  CTreeCtrl::GetItemHeight

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_GETITEMHEIGHT](/windows/desktop/Controls/tvm-getitemheight), tal y como se describe en el SDK de Windows.

```
SHORT GetItemHeight() const;
```

### <a name="return-value"></a>Valor devuelto

El alto del elemento, en píxeles.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#15](../../mfc/reference/codesnippet/cpp/ctreectrl-class_15.cpp)]

##  <a name="getitemimage"></a>  CTreeCtrl::GetItemImage

Cada elemento en un control de vista de árbol puede tener un par de imágenes de mapa de bits asociados con él.

```
BOOL GetItemImage(
    HTREEITEM hItem,
    int& nImage,
    int& nSelectedImage) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
El identificador del elemento cuya imagen se va a recuperar.

*nImage*<br/>
Un entero que recibe el índice de la imagen del elemento dentro de la lista de imágenes del control de vista de árbol.

*nSelectedImage*<br/>
Un entero que recibe el índice de la imagen del elemento seleccionado en la lista de imágenes del control de vista de árbol.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

Las imágenes aparecen en el lado izquierdo de la etiqueta de un elemento. Una imagen se muestra cuando el elemento está seleccionado y el otro se muestra cuando el elemento no está seleccionado. Por ejemplo, un elemento podría mostrar una carpeta abierta cuando está seleccionado y una carpeta cerrada cuando no está seleccionada.

Llame a esta función para recuperar el índice de la imagen del elemento y su imagen seleccionada en la lista de imágenes del control de vista de árbol.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#16](../../mfc/reference/codesnippet/cpp/ctreectrl-class_16.cpp)]

##  <a name="getitempartrect"></a>  CTreeCtrl::GetItemPartRect

Recupera el rectángulo delimitador de un elemento especificado de un elemento especificado en el control de vista de árbol actual.

```
BOOL GetItemPartRect(
    HTREEITEM hItem,
    int nPart,
    LPRECT lpRect)const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*hItem*|[in] Identificador de un elemento de control de vista de árbol.|
|*nPart*|[in] Identificador de la parte. Debe establecerse en TVGIPR_BUTTON.|
|*lpRect*|[out] Puntero a un [RECT](/previous-versions/dd162897\(v=vs.85\)) estructura. Si este método se realiza correctamente, la estructura recibe las coordenadas del rectángulo del elemento especificado por *hItem* y *nPart*.|

### <a name="return-value"></a>Valor devuelto

TRUE si este método se realiza correctamente; en caso contrario, FALSE.

### <a name="remarks"></a>Comentarios

Cada elemento de control de árbol está limitado por un rectángulo de gráficos. Cada vez que se hace clic en un punto en el rectángulo, se dice que el elemento se *aciertos*. Este método devuelve el rectángulo más grande de modo que cuando un punto en el rectángulo se hace clic en, el elemento identificado por el *hItem* llegado al parámetro.

Este método envía el mensaje TVM_GETITEMPARTRECT, que se describe en el SDK de Windows. Para obtener más información, consulte el [TreeView_GetItemPartRect](/windows/desktop/api/commctrl/nf-commctrl-treeview_getitempartrect) macro.

### <a name="example"></a>Ejemplo

El ejemplo de código siguiente define una variable, `m_treeCtrl`, que se usa para tener acceso al control de vista de árbol actual. El ejemplo de código también define varias variables HTREEITEM y un entero sin signo. Estas variables se usan en el ejemplo siguiente.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se utiliza un identificador de accesibilidad y la [CTreeCtrl::MapAccIdToItem](#mapaccidtoitem) método para recuperar un identificador para el elemento de vista de árbol raíz. A continuación, en el ejemplo se usa el identificador y el [CTreeCtrl::GetItemPartRect](#getitempartrect) método para dibujar un rectángulo 3D alrededor de ese elemento. En una sección anterior del ejemplo de código, que no se muestra, hemos creado una vista de árbol que consta de un nodo de país o región de la raíz de los Estados Unidos, los subnodos para los Estados de Pensilvania y Washington y elementos del árbol de ciudades de esos Estados. Hemos usado el [CTreeCtrl::MapItemToAccID](#mapitemtoaccid) método para asociar el elemento de vista de árbol raíz con un identificador de accesibilidad.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#5](../../mfc/reference/codesnippet/cpp/ctreectrl-class_18.cpp)]

##  <a name="getitemrect"></a>  CTreeCtrl::GetItemRect

Llame a esta función para recuperar el rectángulo delimitador para *hItem* y determinar si está visible o no.

```
BOOL GetItemRect(
    HTREEITEM hItem,
    LPRECT lpRect,
    BOOL bTextOnly) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
El identificador de un elemento de control de vista de árbol.

*lpRect*<br/>
Puntero a un [RECT](/previous-versions/dd162897\(v=vs.85\)) estructura que recibe el rectángulo delimitador. Las coordenadas son relativas a la esquina superior izquierda del control de vista de árbol.

*bTextOnly*<br/>
Si este parámetro es distinto de cero, el rectángulo delimitador incluye sólo el texto del elemento. En caso contrario, incluye toda la línea que ocupa el elemento en el control de vista de árbol.

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el elemento está visible, con el rectángulo delimitador contenido en *lpRect*. En caso contrario, 0 con *lpRect* sin inicializar.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#17](../../mfc/reference/codesnippet/cpp/ctreectrl-class_19.cpp)]

##  <a name="getitemstate"></a>  CTreeCtrl::GetItemState

Devuelve el estado del elemento especificado por *hItem*.

```
UINT GetItemState(
    HTREEITEM hItem,
    UINT nStateMask) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento cuyo estado se va a recuperar.

*nStateMask*<br/>
Máscara que indica uno o más Estados va a recuperar. Para obtener más información sobre los valores posibles para *nStateMask*, vea la explicación de la `state` y `stateMask` los miembros de la [estructura TVITEM](/windows/desktop/api/commctrl/ns-commctrl-tagtvitema) estructura en el SDK de Windows.

### <a name="return-value"></a>Valor devuelto

Un tipo UINT que contiene la operación OR bit a bit de los valores especificados por nStateMask. Para obtener información sobre los valores posibles, vea [CTreeCtrl::GetItem](#getitem). Para encontrar el valor de un estado específico, realice una operación AND bit a bit del valor de estado y el valor devuelto, tal como se muestra en el ejemplo siguiente.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#18](../../mfc/reference/codesnippet/cpp/ctreectrl-class_20.cpp)]

##  <a name="getitemstateex"></a>  CTreeCtrl::GetItemStateEx

Recupera el estado extendido del elemento especificado en el control de vista de árbol actual.

```
UINT GetItemStateEx(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*hItem*|[in] Identificador de un elemento de control de vista de árbol.|

### <a name="return-value"></a>Valor devuelto

El estado extendido del elemento. Para obtener más información, consulte el `uStateEx` miembro de la [TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa) estructura.

### <a name="remarks"></a>Comentarios

Este método envía el [TVM_GETITEM](/windows/desktop/Controls/tvm-getitem) mensaje, que se describe en el SDK de Windows. Devuelve del mensaje que el [TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa) estructura que describe el elemento de control de vista de árbol y este método recupera el `uStateEx` miembro de esa estructura.

##  <a name="getitemtext"></a>  CTreeCtrl::GetItemText

Devuelve el texto del elemento especificado por *hItem*.

```
CString GetItemText(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento cuyo texto se va a recuperar.

### <a name="return-value"></a>Valor devuelto

Un `CString` objeto que contiene el texto del elemento.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::GetNextItem](#getnextitem).

##  <a name="getlastvisibleitem"></a>  CTreeCtrl::GetLastVisibleItem

Recupera el último elemento del nodo sin expandir en el control de vista de árbol actual.

```
HTREEITEM GetLastVisibleItem() const;
```

### <a name="return-value"></a>Valor devuelto

El identificador para el último elemento de nodo sin expandir si el método se realiza correctamente; en caso contrario, es NULL.

### <a name="remarks"></a>Comentarios

Este método envía el [TVM_GETNEXTITEM](/windows/desktop/Controls/tvm-getnextitem) mensaje, que se describe en el SDK de Windows. Para obtener más información, vea la marca TVGN_LASTVISIBLE en el *marca* parámetro de ese mensaje.

### <a name="example"></a>Ejemplo

El ejemplo de código siguiente define una variable, `m_treeCtrl`, que se usa para tener acceso al control de vista de árbol actual. El ejemplo de código también define varias variables HTREEITEM y un entero sin signo. Una o varias de estas variables se usan en el ejemplo siguiente.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se recupera un identificador para el último elemento del nodo sin expandir vista de árbol y, a continuación, se dibuja un rectángulo 3D alrededor de ese elemento. En una sección anterior del ejemplo de código, que no se muestra, hemos creado una vista de árbol que consta de un nodo de país o región de la raíz de los Estados Unidos, los subnodos para los Estados de Pensilvania y Washington y elementos del árbol de ciudades de esos Estados.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#6](../../mfc/reference/codesnippet/cpp/ctreectrl-class_21.cpp)]

##  <a name="getlinecolor"></a>  CTreeCtrl::GetLineColor

Esta función miembro implementa el comportamiento del mensaje de win32 [TVM_GETLINECOLOR](/windows/desktop/Controls/tvm-getlinecolor), tal y como se describe en el SDK de Windows.

```
COLORREF GetLineColor() const;
```

### <a name="return-value"></a>Valor devuelto

El color de línea actual.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#19](../../mfc/reference/codesnippet/cpp/ctreectrl-class_22.cpp)]

##  <a name="getnextitem"></a>  CTreeCtrl::GetNextItem

Llamada a esta función para recuperar el árbol de ver el elemento que tiene la relación especificada, indicada por el *nCode* parámetro, a *hItem*.

```
HTREEITEM GetNextItem(
    HTREEITEM hItem,
    UINT nCode) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador de un elemento de árbol.

*nCode*<br/>
Una marca que indica el tipo de relación *hItem*. Este indicador puede ser uno de los siguientes valores:

- TVGN_CARET recupera el elemento seleccionado actualmente.

- TVGN_CHILD recupera el primer elemento secundario del elemento especificado por el *hItem* parámetro.

- TVGN_DROPHILITE recupera el elemento que es el destino de una operación de arrastrar y colocar.

- TVGN_FIRSTVISIBLE recupera el primer elemento visible.

- TVGN_LASTVISIBLE recupera el último elemento expandido en el árbol. Esto no recupera el último elemento visible en la ventana de vista de árbol.

- TVGN_NEXT recupera el siguiente elemento relacionado.

- TVGN_NEXTVISIBLE recupera el siguiente elemento visible que sigue al elemento especificado.

- TVGN_PARENT recupera al elemento primario del elemento especificado.

- TVGN_PREVIOUS recupera el elemento relacionado anterior.

- TVGN_PREVIOUSVISIBLE recupera el primer elemento visible que precede al elemento especificado.

- TVGN_ROOT recupera el primer elemento secundario del elemento raíz de los cuales el elemento especificado es una parte.

### <a name="return-value"></a>Valor devuelto

El identificador del elemento siguiente si se realiza correctamente; en caso contrario, es NULL.

### <a name="remarks"></a>Comentarios

Esta función devolverá NULL si el elemento que se va a recuperar es el nodo raíz del árbol. Por ejemplo, si usa este mensaje con la marca TVGN_PARENT en un elemento secundario de primer nivel del nodo raíz de la vista de árbol, el mensaje devolverá NULL.

### <a name="example"></a>Ejemplo

Para obtener un ejemplo del uso de `GetNextItem` en un bucle, consulte [CTreeCtrl::DeleteItem](#deleteitem).

[!code-cpp[NVC_MFC_CTreeCtrl#20](../../mfc/reference/codesnippet/cpp/ctreectrl-class_23.cpp)]

##  <a name="getnextsiblingitem"></a>  CTreeCtrl::GetNextSiblingItem

Llame a esta función para recuperar el siguiente elemento relacionado de *hItem*.

```
HTREEITEM GetNextSiblingItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador de un elemento de árbol.

### <a name="return-value"></a>Valor devuelto

El identificador del siguiente elemento relacionado; en caso contrario, es NULL.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#21](../../mfc/reference/codesnippet/cpp/ctreectrl-class_24.cpp)]

##  <a name="getnextvisibleitem"></a>  CTreeCtrl::GetNextVisibleItem

Llame a esta función para recuperar el siguiente elemento visible del *hItem*.

```
HTREEITEM GetNextVisibleItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador de un elemento de árbol.

### <a name="return-value"></a>Valor devuelto

El identificador del elemento visible siguiente; en caso contrario, es NULL.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::SetCheck](#setcheck).

##  <a name="getparentitem"></a>  CTreeCtrl::GetParentItem

Llame a esta función para recuperar el elemento primario de *hItem*.

```
HTREEITEM GetParentItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador de un elemento de árbol.

### <a name="return-value"></a>Valor devuelto

El identificador del elemento primario; en caso contrario, es NULL.

### <a name="remarks"></a>Comentarios

Esta función devolverá NULL si el elemento primario del elemento especificado es el nodo raíz del árbol.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::EnsureVisible](#ensurevisible).

##  <a name="getprevsiblingitem"></a>  CTreeCtrl::GetPrevSiblingItem

Llame a esta función para recuperar el elemento relacionado anterior del *hItem*.

```
HTREEITEM GetPrevSiblingItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador de un elemento de árbol.

### <a name="return-value"></a>Valor devuelto

El identificador del nodo relacionado anterior; en caso contrario, es NULL.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#22](../../mfc/reference/codesnippet/cpp/ctreectrl-class_25.cpp)]

##  <a name="getprevvisibleitem"></a>  CTreeCtrl::GetPrevVisibleItem

Llame a esta función para recuperar el elemento visible anterior de *hItem*.

```
HTREEITEM GetPrevVisibleItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador de un elemento de árbol.

### <a name="return-value"></a>Valor devuelto

El identificador del elemento visible anterior; en caso contrario, es NULL.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#23](../../mfc/reference/codesnippet/cpp/ctreectrl-class_26.cpp)]

##  <a name="getrootitem"></a>  CTreeCtrl::GetRootItem

Llame a esta función para recuperar el elemento raíz del control de vista de árbol.

```
HTREEITEM GetRootItem() const;
```

### <a name="return-value"></a>Valor devuelto

El identificador del elemento raíz; en caso contrario, es NULL.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::EditLabel](#editlabel).

##  <a name="getscrolltime"></a>  CTreeCtrl::GetScrollTime

Llame a esta función miembro para recuperar la hora de desplazamiento máximo para el control de vista de árbol.

```
UINT GetScrollTime() const;
```

### <a name="return-value"></a>Valor devuelto

El tiempo de desplazamiento máximo, en milisegundos.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento del mensaje de win32 [TVM_GETSCROLLTIME](/windows/desktop/Controls/tvm-getscrolltime), tal y como se describe en el SDK de Windows.

##  <a name="getselectedcount"></a>  CTreeCtrl::GetSelectedCount

Recupera el número de elementos seleccionados en el control de vista de árbol actual.

```
UINT GetSelectedCount();
```

### <a name="return-value"></a>Valor devuelto

El número de elementos seleccionados.

### <a name="remarks"></a>Comentarios

Este método envía el [TVM_GETSELECTEDCOUNT](/windows/desktop/Controls/tvm-getselectedcount) mensaje, que se describe en el SDK de Windows.

##  <a name="getselecteditem"></a>  CTreeCtrl::GetSelectedItem

Llame a esta función para recuperar el elemento actualmente seleccionado del control de vista de árbol.

```
HTREEITEM GetSelectedItem() const;
```

### <a name="return-value"></a>Valor devuelto

El identificador del elemento seleccionado; en caso contrario, es NULL.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#24](../../mfc/reference/codesnippet/cpp/ctreectrl-class_27.cpp)]

##  <a name="gettextcolor"></a>  CTreeCtrl::GetTextColor

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_GETTEXTCOLOR](/windows/desktop/Controls/tvm-gettextcolor), tal y como se describe en el SDK de Windows.

```
COLORREF GetTextColor() const;
```

### <a name="return-value"></a>Valor devuelto

Un valor COLORREF que representa el color del texto actual. Si este valor es -1, el control está usando el color del sistema para el color del texto.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::SetTextColor](#settextcolor).

##  <a name="gettooltips"></a>  CTreeCtrl::GetToolTips

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_GETTOOLTIPS](/windows/desktop/Controls/tvm-gettooltips), tal y como se describe en el SDK de Windows.

```
CToolTipCtrl* GetToolTips() const;
```

### <a name="return-value"></a>Valor devuelto

Un puntero a un [CToolTipCtrl](../../mfc/reference/ctooltipctrl-class.md) objeto que va a usar el control de árbol. Si el [crear](#create) función miembro usa el estilo TVS_NOTOOLTIPS, no hay información sobre herramientas se usa y se devuelve NULL.

### <a name="remarks"></a>Comentarios

La implementación de MFC `GetToolTips` devuelve un `CToolTipCtrl` objeto, que se usa el control de árbol, en lugar de un identificador para un control de información sobre herramientas.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#25](../../mfc/reference/codesnippet/cpp/ctreectrl-class_28.cpp)]

##  <a name="getvisiblecount"></a>  CTreeCtrl::GetVisibleCount

Llame a esta función para recuperar un recuento de los elementos visibles en un control de vista de árbol.

```
UINT GetVisibleCount() const;
```

### <a name="return-value"></a>Valor devuelto

El número de elementos visibles en el control de vista de árbol; en caso contrario, - 1.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::SetCheck](#setcheck).

##  <a name="hittest"></a>  CTreeCtrl::HitTest

Llame a esta función para determinar la ubicación del punto especificado en relación con el área de cliente de un control de vista de árbol.

```
HTREEITEM HitTest(
    CPoint pt,
    UINT* pFlags = NULL) const;

HTREEITEM HitTest(TVHITTESTINFO* pHitTestInfo) const;
```

### <a name="parameters"></a>Parámetros

*pt*<br/>
Coordenadas de cliente del separador para probar.

*pFlags*<br/>
Puntero a un entero que recibe información acerca de los resultados de la prueba de posicionamiento. Puede tener uno o varios de los valores enumeran en la `flags` miembro en la sección Comentarios.

*pHitTestInfo*<br/>
Dirección de un [TVHITTESTINFO](/windows/desktop/api/commctrl/ns-commctrl-tagtvhittestinfo) estructura que contiene la posición a los resultados de pruebas y que recibe información acerca de los resultados de la prueba de posicionamiento.

### <a name="return-value"></a>Valor devuelto

El identificador del elemento de vista de árbol que ocupa el punto especificado o NULL si no hay ningún elemento ocupa el punto.

### <a name="remarks"></a>Comentarios

Cuando se llama a esta función, el *pt* parámetro especifica las coordenadas del punto de probar. La función devuelve el identificador del elemento en el punto especificado o NULL si no hay ningún elemento ocupa el punto. Además, el *pFlags* parámetro contiene un valor que indica la ubicación del punto especificado. Los valores posibles son:

|||
|-|-|
|Valor|Significado|
|TVHT_ABOVE|Encima del área de cliente.|
|TVHT_BELOW|Debajo del área de cliente.|
|TVHT_NOWHERE|En el área de cliente, pero por debajo del último elemento.|
|TVHT_ONITEM|En el mapa de bits o de la etiqueta asociada a un elemento.|
|TVHT_ONITEMBUTTON|En el botón asociado al elemento.|
|TVHT_ONITEMICON|En el mapa de bits asociado al elemento.|
|TVHT_ONITEMINDENT|En la sangría asociada al elemento.|
|TVHT_ONITEMLABEL|En la etiqueta (cadena) asociada al elemento.|
|TVHT_ONITEMRIGHT|En el área a la derecha de un elemento.|
|TVHT_ONITEMSTATEICON|En el icono de estado para un elemento de vista de árbol que se encuentra en un estado definido por el usuario.|
|TVHT_TOLEFT|A la izquierda del área cliente.|
|TVHT_TORIGHT|A la derecha del área de cliente.|
|||

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#26](../../mfc/reference/codesnippet/cpp/ctreectrl-class_29.cpp)]

##  <a name="insertitem"></a>  CTreeCtrl::InsertItem

Llame a esta función para insertar un nuevo elemento en un control de vista de árbol.

```
HTREEITEM InsertItem(LPTVINSERTSTRUCT lpInsertStruct);

HTREEITEM InsertItem(
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    int nSelectedImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam,
    HTREEITEM hParent,
    HTREEITEM hInsertAfter);

HTREEITEM InsertItem(
    LPCTSTR lpszItem,
    HTREEITEM hParent = TVI_ROOT,
    HTREEITEM hInsertAfter = TVI_LAST);

HTREEITEM InsertItem(
    LPCTSTR lpszItem,
    int nImage,
    int nSelectedImage,
    HTREEITEM hParent = TVI_ROOT,
    HTREEITEM hInsertAfter = TVI_LAST);
```

### <a name="parameters"></a>Parámetros

*lpInsertStruct*<br/>
Un puntero a un `TVINSERTSTRUCT` que especifica los atributos del elemento de vista de árbol va a insertar.

*nMask*<br/>
Entero que especifica qué atributos que se van a establecer. Consulte la `TVITEM` estructura en el SDK de Windows.

*lpszItem*<br/>
Dirección de una cadena que contiene el texto del elemento.

*nImage*<br/>
Índice de la imagen del elemento de lista de imágenes del control de vista de árbol.

*nSelectedImage*<br/>
Índice de la imagen del elemento seleccionado en la lista de imágenes del control de vista de árbol.

*nState*<br/>
Especifica los valores de los Estados del elemento. Estados de elemento Control y vista de árbol vea en el SDK de Windows para obtener una lista de Estados adecuados.

*nStateMask*<br/>
Especifica que los Estados que se van a establecer. Consulte la `TVITEM` estructura en el SDK de Windows.

*lParam*<br/>
Un valor específico de la aplicación de 32 bits asociado al elemento.

*hParent*<br/>
Identificador del elemento primario del elemento insertado.

*hInsertAfter*<br/>
Identificador del elemento después del cual se insertará el nuevo elemento.

### <a name="return-value"></a>Valor devuelto

Identificador del nuevo elemento si es correcto; en caso contrario, es NULL.

### <a name="remarks"></a>Comentarios

El ejemplo muestra en el que desea utilizar cada versión de la función cuando se inserta un elemento de control de árbol de situaciones.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#27](../../mfc/reference/codesnippet/cpp/ctreectrl-class_30.cpp)]

##  <a name="itemhaschildren"></a>  CTreeCtrl::ItemHasChildren

Utilice esta función para determinar si el elemento de árbol especificado por *hItem* tiene elementos secundarios.

```
BOOL ItemHasChildren(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador de un elemento de árbol.

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el elemento de árbol especificado por *hItem* tiene elementos secundarios; 0 si no es así.

### <a name="remarks"></a>Comentarios

Si por lo tanto, a continuación, puede usar [CTreeCtrl::GetChildItem](#getchilditem) para recuperar dichos elementos secundarios.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::GetSelectedItem](#getselecteditem).

##  <a name="mapaccidtoitem"></a>  CTreeCtrl::MapAccIdToItem

Asigna el identificador de accesibilidad especificadas para el identificador de un elemento de vista de árbol en el control de vista de árbol actual.

```
HTREEITEM MapAccIdToItem(UINT uAccId) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*uAccId*|[in] Un identificador de accesibilidad de un elemento en el elemento de vista de árbol.|

### <a name="return-value"></a>Valor devuelto

El identificador de un elemento de vista de árbol ( `HTREEITEM`) que corresponde a la *uAccId* parámetro. Para obtener más información, consulte el *hItem* miembro de la [TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa) estructura.

### <a name="remarks"></a>Comentarios

Las ayudas de accesibilidad son las aplicaciones que ayudan a las personas con discapacidades utilizar los equipos. Se utiliza un identificador de la accesibilidad mediante el `IAccessible` interfaz para especificar de forma única un elemento en una ventana. Para obtener más información acerca de los identificadores de accesibilidad, busque el tema "Acerca de la compatibilidad con Active Accessibility" en [Microsoft Developer Network](https://go.microsoft.com/fwlink/p/?linkid=56322).

Este método envía el [TVM_MAPACCIDTOHTREEITEM](/windows/desktop/Controls/tvm-mapaccidtohtreeitem) mensaje, que se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

El ejemplo de código siguiente define una variable, `m_treeCtrl`, que se usa para tener acceso al control de vista de árbol actual. El ejemplo de código también define varias variables HTREEITEM y un entero sin signo. Estas variables se usan en el ejemplo siguiente.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se utiliza un identificador de accesibilidad y la [CTreeCtrl::MapAccIdToItem](#mapaccidtoitem) método para recuperar un identificador para el elemento de vista de árbol raíz. En el ejemplo se usa el identificador y el [CTreeCtrl::GetItemPartRect](#getitempartrect) método para dibujar un rectángulo 3D alrededor de ese elemento. En una sección anterior del ejemplo de código, que no se muestra, hemos creado una vista de árbol que consta de un nodo de país o región de la raíz de los Estados Unidos, los subnodos para los Estados de Pensilvania y Washington y elementos del árbol de ciudades de esos Estados. Hemos usado el [CTreeCtrl::MapItemToAccID](#mapitemtoaccid) método para asociar el elemento de vista de árbol raíz con un identificador de accesibilidad.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#5](../../mfc/reference/codesnippet/cpp/ctreectrl-class_18.cpp)]

##  <a name="mapitemtoaccid"></a>  CTreeCtrl::MapItemToAccID

El identificador especificado de un elemento de vista de árbol en el control de vista de árbol actual se asigna a un identificador de accesibilidad.

```
UINT MapItemToAccID(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*hItem*|[in] Identificador de un elemento de vista de árbol en el control. Para obtener más información, consulte el *hItem* miembro de la [TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa) estructura.|

### <a name="return-value"></a>Valor devuelto

El identificador de accesibilidad que se corresponde con el *hItem* parámetro.

### <a name="remarks"></a>Comentarios

Las ayudas de accesibilidad son las aplicaciones que ayudan a las personas con discapacidades utilizar los equipos. Se utiliza un identificador de la accesibilidad mediante el `IAccessible` interfaz para especificar de forma única un elemento en una ventana. Para obtener más información acerca de los identificadores de accesibilidad, busque el tema "Acerca de la compatibilidad con Active Accessibility" en [Microsoft Developer Network](https://go.microsoft.com/fwlink/p/?linkid=56322).

Este método envía el [TVM_MAPHTREEITEMTOACCID](/windows/desktop/Controls/tvm-maphtreeitemtoaccid) mensaje, que se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

El ejemplo de código siguiente define una variable, `m_treeCtrl`, que se usa para tener acceso al control de vista de árbol actual. El ejemplo de código también define varias variables HTREEITEM y un entero sin signo. Estas variables se usan en el ejemplo siguiente.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se obtiene un número de identificación de un elemento de control de vista de árbol. En una sección anterior del ejemplo de código, que no se muestra, hemos creado una vista de árbol que consta de un nodo de país o región de la raíz de los Estados Unidos, los subnodos para los Estados de Pensilvania y Washington y elementos del árbol de ciudades de esos Estados. Este ejemplo de código obtiene el número de identificación único para el nodo de país o región de raíz.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#2](../../mfc/reference/codesnippet/cpp/ctreectrl-class_31.cpp)]

##  <a name="select"></a>  CTreeCtrl::Select

Llame a esta función para seleccionar el elemento de vista de árbol especificado, desplazar el elemento en la vista o volver a dibujar el elemento en el estilo utilizado para indicar el destino de una operación de arrastrar y colocar.

```
BOOL Select(
    HTREEITEM hItem,
    UINT nCode);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador de un elemento de árbol.

*nCode*<br/>
El tipo de acción que se realizará. Este parámetro puede ser uno de los siguientes valores:

- TVGN_CARET establece la selección al elemento especificado.

- TVGN_DROPHILITE vuelve a dibujar el elemento especificado en el estilo que se utiliza para indicar el destino de una operación de arrastrar y colocar.

- TVGN_FIRSTVISIBLE desplaza la vista de árbol verticalmente para que el elemento especificado es el primer elemento visible.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

Si *nCode* contiene el valor TVGN_CARET, la ventana primaria recibe los mensajes de notificación TVN_SELCHANGING y TVN_SELCHANGED. Además, si el elemento especificado es el elemento secundario de un elemento primario contraído, la lista del elemento primario de los elementos secundarios se expande para mostrar el elemento especificado. En este caso, la ventana primaria recibe los mensajes de notificación TVN_ITEMEXPANDING y TVN_ITEMEXPANDED.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::HitTest](#hittest).

##  <a name="selectdroptarget"></a>  CTreeCtrl::SelectDropTarget

Llame a esta función para volver a dibujar el elemento en el estilo utilizado para indicar el destino de una operación de arrastrar y colocar.

```
BOOL SelectDropTarget(HTREEITEM hItem);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador de un elemento de árbol.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#9](../../mfc/reference/codesnippet/cpp/ctreectrl-class_9.cpp)]

##  <a name="selectitem"></a>  CTreeCtrl::SelectItem

Llame a esta función para seleccionar el elemento de vista de árbol especificado.

```
BOOL SelectItem(HTREEITEM hItem);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador de un elemento de árbol.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

Si *hItem* es NULL, esta función selecciona ningún elemento.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#26](../../mfc/reference/codesnippet/cpp/ctreectrl-class_29.cpp)]

##  <a name="selectsetfirstvisible"></a>  CTreeCtrl::SelectSetFirstVisible

Llame a esta función para desplazarse verticalmente la vista de árbol para que el elemento especificado es el primer elemento visible.

```
BOOL SelectSetFirstVisible(HTREEITEM hItem);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento de árbol que se establecerá como el primer elemento visible.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

La función envía un mensaje a la ventana con los parámetros de mensaje TVM_SELECTITEM y TVGN_FIRSTVISIBLE.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#28](../../mfc/reference/codesnippet/cpp/ctreectrl-class_32.cpp)]

##  <a name="setautoscrollinfo"></a>  CTreeCtrl::SetAutoscrollInfo

Establece la velocidad de desplazamiento automático del control de vista de árbol actual.

```
BOOL SetAutoscrollInfo(
    UINT uPixelsPerSec,
    UINT uUpdateTime);
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*uPixelsPerSec*|[in] El número de píxeles por segundo para desplazarse.|
|*uUpdateTime*|[in] El intervalo de tiempo entre las actualizaciones del control.|

### <a name="return-value"></a>Valor devuelto

Siempre devuelve TRUE.

### <a name="remarks"></a>Comentarios

Los parámetros de desplazamiento automático se usan para desplazar en la vista de un elemento que no está visible actualmente. El control de vista de árbol debe tener el estilo, como se describe en extendido TVS_EX_AUTOHSCROLL [estilos extendidos de Control de vista de árbol](/windows/desktop/Controls/tree-view-control-window-extended-styles).

Este método envía el [TVM_SETAUTOSCROLLINFO](/windows/desktop/Controls/tvm-setautoscrollinfo) mensaje, que se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

El ejemplo de código siguiente define una variable, `m_treeCtrl`, que se usa para tener acceso al control de vista de árbol actual. El ejemplo de código también define varias variables HTREEITEM y un entero sin signo. Estas variables se usan en el ejemplo siguiente.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Ejemplo

El ejemplo de código siguiente establece el comportamiento de desplazamiento automático del control de vista de árbol actual. En una sección anterior del ejemplo de código, que no se muestra, hemos creado una vista de árbol que consta de un nodo de país o región de la raíz de los Estados Unidos, los subnodos para los Estados de Pensilvania y Washington y elementos del árbol de ciudades de esos Estados. Intencionadamente realizamos el control de vista de árbol estrecha para que se debe desplazar automáticamente para mostrar el elemento de árbol que tiene el foco. El ejemplo de código establece el control de vista de árbol para desplazarse automáticamente 30 píxeles por segundo cada 5 segundos hasta que el elemento de árbol está en la vista.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#4](../../mfc/reference/codesnippet/cpp/ctreectrl-class_33.cpp)]

##  <a name="setbkcolor"></a>  CTreeCtrl::SetBkColor

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_SETBKCOLOR](/windows/desktop/Controls/tvm-setbkcolor), tal y como se describe en el SDK de Windows.

```
COLORREF SetBkColor(COLORREF clr);
```

### <a name="parameters"></a>Parámetros

*clr*<br/>
Un valor COLORREF que contiene el nuevo color de fondo. Si este valor es -1, el control volverá a utilizar el color del sistema para el color de fondo.

### <a name="return-value"></a>Valor devuelto

Un valor COLORREF que representa el color del texto actual. Si este valor es -1, el control está usando el color del sistema para el color del texto.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::SetTextColor](#settextcolor).

##  <a name="setcheck"></a>  CTreeCtrl::SetCheck

Llame a esta función miembro para establecer el estado de comprobación para un elemento de control de árbol.

```
BOOL SetCheck(
    HTREEITEM hItem,
    BOOL fCheck = TRUE);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
HTREEITEM para recibir el cambio de estado de comprobación.

*fCheck*<br/>
Indica si el elemento de control de árbol está activada o desactivada. De forma predeterminada, `SetCheck` establece el elemento que se va a comprobar.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

Cuando el elemento de control de árbol está activado ( *fCheck* establecida en TRUE), el elemento aparece con una marca de verificación adyacente.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#29](../../mfc/reference/codesnippet/cpp/ctreectrl-class_34.cpp)]

### <a name="example"></a>Ejemplo

Para usar las casillas de verificación, establezca TVS_CHECKBOXES antes de rellenar el control de árbol.

[!code-cpp[NVC_MFC_CTreeCtrl#30](../../mfc/reference/codesnippet/cpp/ctreectrl-class_35.cpp)]

##  <a name="setextendedstyle"></a>  CTreeCtrl::SetExtendedStyle

Establece los estilos extendidos para el control de vista de árbol actual.

```
DWORD SetExtendedStyle(
    DWORD dwExMask,
    DWORD dwExStyles);
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*dwExMask*|[in] Máscara de bits que especifica los estilos del control de vista de árbol actual que se ven afectados por este método. Si este parámetro es cero, se omite y el valor de la *dwExStyles* parámetro se asigna al control de vista de árbol.<br /><br /> Especifique cero o una combinación bit a bit (OR) de los estilos que se describe en [estilos extendidos de Control de vista de árbol](/windows/desktop/Controls/tree-view-control-window-extended-styles).|
|*dwExStyles*|[in] Máscara de bits que especifica los estilos que en la vista de árbol actual de control para establecer o borrar.<br /><br /> Para establecer una combinación de estilos, especifique una combinación bit a bit (OR) de estilos que se describe en [estilos extendidos de Control de vista de árbol](/windows/desktop/Controls/tree-view-control-window-extended-styles). Para borrar un conjunto de estilos, especifique cero.|

### <a name="return-value"></a>Valor devuelto

Un valor que contiene el texto anterior amplía los estilos de control.

### <a name="remarks"></a>Comentarios

Este método borra los estilos especificados en el *dwExMask* parámetro, a continuación, Establece los estilos especificados en el *dwExStyles* parámetro. Solo los estilos extendidos que se corresponden con los bits de *dwExMask* cambiar.

Este método envía el [TVM_SETEXTENDEDSTYLE](/windows/desktop/Controls/tvm-setextendedstyle) mensaje, que se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

El ejemplo de código siguiente define una variable, `m_treeCtrl`, que se usa para tener acceso al control de vista de árbol actual. El ejemplo de código también define varias variables HTREEITEM y un entero sin signo. Estas variables se usan en el ejemplo siguiente.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Ejemplo

El ejemplo de código siguiente agrega el estilo extendido TVS_EX_AUTOHSCROLL en el control de vista de árbol actual. En una sección anterior del ejemplo de código, que no se muestra, hemos creado una vista de árbol que consta de un nodo de país o región de la raíz de los Estados Unidos, los subnodos para los Estados de Pensilvania y Washington y elementos del árbol de ciudades de esos Estados. Intencionadamente realizamos el control de vista de árbol estrecha para que se debe desplazar automáticamente para mostrar el elemento de árbol que tiene el foco.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#3](../../mfc/reference/codesnippet/cpp/ctreectrl-class_36.cpp)]

##  <a name="setimagelist"></a>  CTreeCtrl::SetImageList

Llame a esta función para establecer el valor normal o lista de imágenes de estado para un árbol de control de vista y volver a dibujar el control mediante las nuevas imágenes.

```
CImageList* SetImageList(
    CImageList* pImageList,
    int nImageListType);
```

### <a name="parameters"></a>Parámetros

*pImageList*<br/>
Puntero a la lista de imágenes para asignar. Si *pImageList* es NULL, se quitan todas las imágenes de control de vista de árbol.

*nImageListType*<br/>
Tipo de lista de imágenes para establecer. La lista de imágenes puede ser uno de los siguientes valores:

- TVSIL_NORMAL establece la lista de imágenes normal, que contiene las imágenes seleccionadas y no seleccionadas para el elemento de vista de árbol. Debe usar este estado para las imágenes de superposición.

- TVSIL_STATE establece la lista de imágenes de estado, que contiene las imágenes para los elementos de vista de árbol que se encuentran en un estado definido por el usuario.

### <a name="return-value"></a>Valor devuelto

Puntero a la lista de imágenes anteriores, si lo hay; en caso contrario, es NULL.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::GetImageList](#getimagelist).

##  <a name="setindent"></a>  CTreeCtrl::SetIndent

Llame a esta función para establecer el ancho de sangría de un control de vista de árbol y volver a dibujar el control para reflejar el nuevo ancho.

```
void SetIndent(UINT nIndent);
```

### <a name="parameters"></a>Parámetros

*nIndent*<br/>
Ancho, en píxeles, de la sangría. Si *nIndent* es menor que el ancho mínimo definido por el sistema, el nuevo ancho se establece en el mínimo definido por el sistema.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::GetIndent](#getindent).

##  <a name="setinsertmark"></a>  CTreeCtrl::SetInsertMark

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_SETINSERTMARK](/windows/desktop/Controls/tvm-setinsertmark), tal y como se describe en el SDK de Windows.

```
BOOL SetInsertMark(
    HTREEITEM hItem,
    BOOL fAfter = TRUE);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
HTREEITEM que especifica en qué elemento se colocará la marca de inserción. Si este argumento es NULL, se quita la marca de inserción.

*fAfter*<br/>
Valor booleano que especifica si la marca de inserción se coloca antes o después del elemento especificado. Si este argumento es distinto de cero, se colocará la marca de inserción después del elemento. Si este argumento es cero, la marca de inserción se colocará delante del elemento.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#31](../../mfc/reference/codesnippet/cpp/ctreectrl-class_37.cpp)]

##  <a name="setinsertmarkcolor"></a>  CTreeCtrl::SetInsertMarkColor

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_SETINSERTMARKCOLOR](/windows/desktop/Controls/tvm-setinsertmarkcolor), tal y como se describe en el SDK de Windows.

```
COLORREF SetInsertMarkColor(COLORREF clrNew);
```

### <a name="parameters"></a>Parámetros

*clrNew*<br/>
Un valor COLORREF que contiene el nuevo color de la marca de inserción.

### <a name="return-value"></a>Valor devuelto

Un valor COLORREF que contiene el color de la marca de inserción anterior.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::GetInsertMarkColor](#getinsertmarkcolor).

##  <a name="setitem"></a>  CTreeCtrl::SetItem

Llame a esta función para establecer los atributos del elemento de vista de árbol especificado.

```
BOOL SetItem(TVITEM* pItem);

BOOL SetItem(
    HTREEITEM hItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    int nSelectedImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam);
```

### <a name="parameters"></a>Parámetros

*pItem*<br/>
Un puntero a un [estructura TVITEM](/windows/desktop/api/commctrl/ns-commctrl-tagtvitema) estructura que contiene el nuevo elemento de atributos, como se describe en el SDK de Windows.

*hItem*<br/>
Identificador del elemento cuyos atributos se van a establecerse. Consulte la `hItem` miembro de la `TVITEM` estructura en el SDK de Windows.

*nMask*<br/>
Entero que especifica qué atributos que se van a establecer. Consulte la `mask` miembro de la `TVITEM` estructura.

*lpszItem*<br/>
Dirección de una cadena que contiene el texto del elemento.

*nImage*<br/>
Índice de la imagen del elemento de lista de imágenes del control de vista de árbol. Consulte la `iImage` miembro de la `TVITEM` estructura.

*nSelectedImage*<br/>
Índice de la imagen del elemento seleccionado en la lista de imágenes del control de vista de árbol. Consulte la `iSelectedImage` miembro de la `TVITEM` estructura.

*nState*<br/>
Especifica los valores de los Estados del elemento. Consulte la `State` miembro de la `TVITEM` estructura.

*nStateMask*<br/>
Especifica que los Estados que se van a establecer. Consulte la `stateMask` miembro de la `TVITEM` estructura.

*lParam*<br/>
Un valor específico de la aplicación de 32 bits asociado al elemento.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

En el `TVITEM` estructura, el `hItem` miembro identifica el elemento y el `mask` miembro especifica qué atributos que se van a establecer.

Si el `mask` miembro o el *nMask* parámetro especifica el valor TVIF_TEXT el `pszText` miembro o el *lpszItem* es la dirección de una cadena terminada en null y el `cchTextMax` se omite el miembro. Si `mask` (o *nMask*) especifica el valor TVIF_STATE el `stateMask` miembro o el *nStateMask* parámetro especifica qué elemento Estados para cambiar y `state` miembro o *nState* parámetro contiene los valores de esos Estados.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#32](../../mfc/reference/codesnippet/cpp/ctreectrl-class_38.cpp)]

##  <a name="setitemdata"></a>  CTreeCtrl::SetItemData

Llame a esta función para establecer el valor específico de la aplicación de 32 bits asociado al elemento especificado.

```
BOOL SetItemData(
    HTREEITEM hItem,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento cuyos datos se van a recuperar.

*dwData*<br/>
Un valor específico de la aplicación de 32 bits asociado al elemento especificado por *hItem*.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#33](../../mfc/reference/codesnippet/cpp/ctreectrl-class_39.cpp)]

##  <a name="setitemexpandedimageindex"></a>  CTreeCtrl::SetItemExpandedImageIndex

Establece el índice de la imagen que se muestra cuando el elemento especificado del control de vista de árbol actual es expandido.

```
BOOL SetItemExpandedImageIndex(
    HTREEITEM hItem,
    int iExpandedImage);
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*hItem*|[in] Identificador de un elemento de control de vista de árbol.|
|*iExpandedImage*|[in] El índice de la imagen se muestra cuando el elemento especificado está expandido.|

### <a name="return-value"></a>Valor devuelto

TRUE si este método se realiza correctamente; en caso contrario, FALSE.

### <a name="remarks"></a>Comentarios

Este método envía el [TVM_SETITEM](/windows/desktop/Controls/tvm-setitem) mensaje, que se describe en el SDK de Windows. Este método asigna el *iExpandedImage* parámetro para el `iExpandedImage` miembro de un [TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa) estructura y, a continuación, usa dicha estructura en el mensaje.

### <a name="example"></a>Ejemplo

El ejemplo de código siguiente define una variable, `m_treeCtrl`, que se usa para tener acceso al control de vista de árbol actual. El ejemplo de código también define varias variables HTREEITEM y un entero sin signo. Estas variables se usan en el ejemplo siguiente.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Ejemplo

El ejemplo de código siguiente es una prueba trivial para determinar si el [CTreeCtrl::GetItemExpandedImageIndex](#getitemexpandedimageindex) método devuelve el valor establecido por el [CTreeCtrl::SetItemExpandedImageIndex](#setitemexpandedimageindex) método. En una sección anterior del ejemplo de código, que no se muestra, hemos creado una vista de árbol que consta de un nodo de país o región de la raíz de los Estados Unidos, los subnodos para los Estados de Pensilvania y Washington y elementos del árbol de ciudades de esos Estados.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#8](../../mfc/reference/codesnippet/cpp/ctreectrl-class_40.cpp)]

##  <a name="setitemheight"></a>  CTreeCtrl::SetItemHeight

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_SETITEMHEIGHT](/windows/desktop/Controls/tvm-setitemheight), tal y como se describe en el SDK de Windows.

```
SHORT SetItemHeight(SHORT cyHeight);
```

### <a name="parameters"></a>Parámetros

*cyHeight*<br/>
Especifica el nuevo alto de cada elemento en la vista de árbol, en píxeles. Si este argumento es menor que el alto de las imágenes, se establecerá el alto de las imágenes. Si este argumento no es uniforme, se redondeará hacia abajo para más cercano incluso valor. Si este argumento es -1, el control volverá a utilizar su alto del elemento predeterminado.

### <a name="return-value"></a>Valor devuelto

El alto anterior de los elementos, en píxeles.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::GetItemHeight](#getitemheight).

##  <a name="setitemimage"></a>  CTreeCtrl::SetItemImage

Asocia imágenes con un elemento.

```
BOOL SetItemImage(
    HTREEITEM hItem,
    int nImage,
    int nSelectedImage);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento cuya imagen que se va a establecer.

*nImage*<br/>
Índice de la imagen del elemento de lista de imágenes del control de vista de árbol.

*nSelectedImage*<br/>
Índice de la imagen del elemento seleccionado en la lista de imágenes del control de vista de árbol.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

Cada elemento en un control de vista de árbol puede tener un par de imágenes de mapa de bits asociados con él. Las imágenes aparecen en el lado izquierdo de la etiqueta de un elemento. Una imagen se muestra cuando el elemento está seleccionado y el otro se muestra cuando el elemento no está seleccionado. Por ejemplo, un elemento podría mostrar una carpeta abierta cuando está seleccionado y una carpeta cerrada cuando no está seleccionada.

Llame a esta función para establecer el índice de la imagen del elemento y su imagen seleccionada en la lista de imágenes del control de vista de árbol.

Para obtener más información sobre las imágenes, consulte [CImageList](../../mfc/reference/cimagelist-class.md).

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::GetItemImage](#getitemimage).

##  <a name="setitemstate"></a>  CTreeCtrl::SetItemState

Establece el estado del elemento especificado por *hItem*.

```
BOOL SetItemState(
    HTREEITEM hItem,
    UINT nState,
    UINT nStateMask);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento cuyo estado se va a establecer.

*nState*<br/>
Especifica los Estados nuevo para el elemento.

*nStateMask*<br/>
Especifica qué estados se puede cambiar.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

Para obtener información sobre los Estados, consulte [CTreeCtrl::GetItem](#getitem).

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::GetItemState](#getitemstate).

##  <a name="setitemstateex"></a>  CTreeCtrl::SetItemStateEx

Establece el estado extendido del elemento especificado en el control de vista de árbol actual.

```
BOOL SetItemStateEx(
    HTREEITEM hItem,
    UINT uStateEx);
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*hItem*|[in] Identificador de un elemento de control de vista de árbol.|
|*uStateEx*|[in] El estado extendido del elemento. Para obtener más información, consulte el `uStateEx` miembro de la [TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa) estructura.|

### <a name="return-value"></a>Valor devuelto

TRUE si este método se realiza correctamente; en caso contrario, FALSE.

### <a name="remarks"></a>Comentarios

Este método envía el [TVM_SETITEM](/windows/desktop/Controls/tvm-setitem) mensaje, que se describe en el SDK de Windows. Este método asigna el *uStateEx* parámetro para el `uStateEx` miembro de un [TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa) estructura y, a continuación, usa dicha estructura en el mensaje.

### <a name="example"></a>Ejemplo

El ejemplo de código siguiente define una variable, `m_treeCtrl`, que se usa para tener acceso al control de vista de árbol actual. El ejemplo de código también define varias variables HTREEITEM y un entero sin signo. Estas variables se usan en el ejemplo siguiente.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Ejemplo

El ejemplo de código siguiente establece un elemento de vista de árbol en estado deshabilitado. En una sección anterior del ejemplo de código, que no se muestra, hemos creado una vista de árbol que consta de un nodo de país o región de la raíz de los Estados Unidos, los subnodos para los Estados de Pensilvania y Washington y elementos del árbol de ciudades de esos Estados. Este ejemplo de código establece el nodo de Pensilvania en estado deshabilitado.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#7](../../mfc/reference/codesnippet/cpp/ctreectrl-class_41.cpp)]

##  <a name="setitemtext"></a>  CTreeCtrl::SetItemText

Establece el texto del elemento especificado por *hItem*.

```
BOOL SetItemText(
    HTREEITEM hItem,
    LPCTSTR lpszItem);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento cuyo texto se va a establecer.

*lpszItem*<br/>
Dirección de una cadena que contiene el texto para el elemento nuevo

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#34](../../mfc/reference/codesnippet/cpp/ctreectrl-class_42.cpp)]

##  <a name="setlinecolor"></a>  CTreeCtrl::SetLineColor

Llame a esta función miembro para establecer el color de línea actual para el control de vista de árbol.

```
COLORREF SetLineColor(COLORREF clrNew = CLR_DEFAULT);
```

### <a name="parameters"></a>Parámetros

*clrNew*<br/>
El color de línea nueva.

### <a name="return-value"></a>Valor devuelto

Color de la línea anterior.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento del mensaje de win32 [TVM_SETLINECOLOR](/windows/desktop/Controls/tvm-setlinecolor), tal y como se describe en el SDK de Windows.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#35](../../mfc/reference/codesnippet/cpp/ctreectrl-class_43.cpp)]

##  <a name="setscrolltime"></a>  CTreeCtrl::SetScrollTime

Llame a esta función miembro para establecer el tiempo de desplazamiento máximo para el control de vista de árbol.

```
UINT SetScrollTime(UINT uScrollTime);
```

### <a name="parameters"></a>Parámetros

*uScrollTime*<br/>
El nuevo tiempo de desplazamiento máximo, en milisegundos. Si este valor es menor que 100, será redondeado hasta 100.

### <a name="return-value"></a>Valor devuelto

Tiempo de desplazamiento máximo anterior, en milisegundos.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento del mensaje de win32 [TVM_SETSCROLLTIME](/windows/desktop/Controls/tvm-setscrolltime), tal y como se describe en el SDK de Windows.

##  <a name="settextcolor"></a>  CTreeCtrl::SetTextColor

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_SETTEXTCOLOR](/windows/desktop/Controls/tvm-settextcolor), tal y como se describe en el SDK de Windows.

```
COLORREF SetTextColor(COLORREF clr);
```

### <a name="parameters"></a>Parámetros

*clr*<br/>
Un valor COLORREF que contiene el nuevo color de texto. Si este argumento es -1, el control volverá a utilizar el color del sistema para el color del texto.

### <a name="return-value"></a>Valor devuelto

Un valor COLORREF que representa el color del texto anterior. Si este valor es -1, el control estaba usando el color del sistema para el color del texto.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#36](../../mfc/reference/codesnippet/cpp/ctreectrl-class_44.cpp)]

##  <a name="settooltips"></a>  CTreeCtrl::SetToolTips

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_SETTOOLTIPS](/windows/desktop/Controls/tvm-settooltips), tal y como se describe en el SDK de Windows.

```
CToolTipCtrl* SetToolTips(CToolTipCtrl* pWndTip);
```

### <a name="parameters"></a>Parámetros

*pWndTip*<br/>
Un puntero a un [CToolTipCtrl](../../mfc/reference/ctooltipctrl-class.md) objeto que se va a usar el control de árbol.

### <a name="return-value"></a>Valor devuelto

Un puntero a un [CToolTipCtrl](../../mfc/reference/ctooltipctrl-class.md) objeto que contiene la información sobre herramientas usado previamente por el control o NULL si no hay información sobre herramientas se ha usado anteriormente.

### <a name="remarks"></a>Comentarios

Para usar informaciones sobre herramientas, indican el estilo TVS_NOTOOLTIPS al crear el `CTreeCtrl` objeto.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::GetToolTips](#gettooltips).

##  <a name="showinfotip"></a>  CTreeCtrl::ShowInfoTip

Muestra el recuadro informativo para el elemento especificado en el control de vista de árbol actual.

```
void ShowInfoTip(HTREEITEM hItem);
```

### <a name="parameters"></a>Parámetros

|Parámetro|Descripción|
|---------------|-----------------|
|*hItem*|[in] Identificador de un elemento de vista de árbol en el control. Para obtener más información, consulte el `hItem` miembro de la [TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa) estructura.|

### <a name="remarks"></a>Comentarios

Para obtener más información sobre la diferencia entre la información sobre herramientas y recuadros informativos, busque el tema "Información sobre herramientas y recuadros informativos" en [Microsoft Developer Network](https://go.microsoft.com/fwlink/p/?linkid=56322).

Este método envía el [TVM_SHOWINFOTIP](/windows/desktop/Controls/tvm-showinfotip) mensaje, que se describe en el SDK de Windows.

##  <a name="sortchildren"></a>  CTreeCtrl::SortChildren

Llame a esta función para ordenar alfabéticamente los elementos secundarios del elemento primario especificado en un control de vista de árbol.

```
BOOL SortChildren(HTREEITEM hItem);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento primario cuyos elementos secundarios son que ordenarse. Si *hItem* es NULL, ordenación continuará desde la raíz del árbol.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

`SortChildren` no recorrerá el árbol; solo los elementos secundarios inmediatos de *hItem* se ordenará.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#37](../../mfc/reference/codesnippet/cpp/ctreectrl-class_45.cpp)]

##  <a name="sortchildrencb"></a>  CTreeCtrl::SortChildrenCB

Llame a esta función para ordenar los elementos de vista de árbol mediante una función de devolución de llamada definido por la aplicación que compara los elementos.

```
BOOL SortChildrenCB(LPTVSORTCB pSort);
```

### <a name="parameters"></a>Parámetros

*pSort*<br/>
Puntero a un [TVSORTCB](/windows/desktop/api/commctrl/ns-commctrl-tagtvsortcb) estructura.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

Función de comparación de la estructura, `lpfnCompare`, debe devolver un valor negativo si el primer elemento debería preceder el segundo, un positivo valor si el primer elemento debería seguir el segundo, o cero si los dos elementos son equivalentes.

El *lParam1* y *lParam2* parámetros corresponden a la `lParam` miembro de la [estructura TVITEM](/windows/desktop/api/commctrl/ns-commctrl-tagtvitema) estructura para los dos elementos que se están comparando. El *lParamSort* parámetro corresponde a la `lParam` miembro de la `TV_SORTCB` estructura.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#38](../../mfc/reference/codesnippet/cpp/ctreectrl-class_46.cpp)]

[!code-cpp[NVC_MFC_CTreeCtrl#39](../../mfc/reference/codesnippet/cpp/ctreectrl-class_47.cpp)]

## <a name="see-also"></a>Vea también

[MFC Sample CMNCTRL1](../../overview/visual-cpp-samples.md)<br/>
[CWnd (clase)](../../mfc/reference/cwnd-class.md)<br/>
[Gráfico de jerarquías](../../mfc/hierarchy-chart.md)<br/>
[CImageList (clase)](../../mfc/reference/cimagelist-class.md)
