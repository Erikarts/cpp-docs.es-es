---
title: CTreeCtrl Class
ms.date: 11/04/2016
f1_keywords:
- CTreeCtrl
- AFXCMN/CTreeCtrl
- AFXCMN/CTreeCtrl::CTreeCtrl
- AFXCMN/CTreeCtrl::Create
- AFXCMN/CTreeCtrl::CreateDragImage
- AFXCMN/CTreeCtrl::CreateEx
- AFXCMN/CTreeCtrl::DeleteAllItems
- AFXCMN/CTreeCtrl::DeleteItem
- AFXCMN/CTreeCtrl::EditLabel
- AFXCMN/CTreeCtrl::EndEditLabelNow
- AFXCMN/CTreeCtrl::EnsureVisible
- AFXCMN/CTreeCtrl::Expand
- AFXCMN/CTreeCtrl::GetBkColor
- AFXCMN/CTreeCtrl::GetCheck
- AFXCMN/CTreeCtrl::GetChildItem
- AFXCMN/CTreeCtrl::GetCount
- AFXCMN/CTreeCtrl::GetDropHilightItem
- AFXCMN/CTreeCtrl::GetEditControl
- AFXCMN/CTreeCtrl::GetExtendedStyle
- AFXCMN/CTreeCtrl::GetFirstVisibleItem
- AFXCMN/CTreeCtrl::GetImageList
- AFXCMN/CTreeCtrl::GetIndent
- AFXCMN/CTreeCtrl::GetInsertMarkColor
- AFXCMN/CTreeCtrl::GetItem
- AFXCMN/CTreeCtrl::GetItemData
- AFXCMN/CTreeCtrl::GetItemExpandedImageIndex
- AFXCMN/CTreeCtrl::GetItemHeight
- AFXCMN/CTreeCtrl::GetItemImage
- AFXCMN/CTreeCtrl::GetItemPartRect
- AFXCMN/CTreeCtrl::GetItemRect
- AFXCMN/CTreeCtrl::GetItemState
- AFXCMN/CTreeCtrl::GetItemStateEx
- AFXCMN/CTreeCtrl::GetItemText
- AFXCMN/CTreeCtrl::GetLastVisibleItem
- AFXCMN/CTreeCtrl::GetLineColor
- AFXCMN/CTreeCtrl::GetNextItem
- AFXCMN/CTreeCtrl::GetNextSiblingItem
- AFXCMN/CTreeCtrl::GetNextVisibleItem
- AFXCMN/CTreeCtrl::GetParentItem
- AFXCMN/CTreeCtrl::GetPrevSiblingItem
- AFXCMN/CTreeCtrl::GetPrevVisibleItem
- AFXCMN/CTreeCtrl::GetRootItem
- AFXCMN/CTreeCtrl::GetScrollTime
- AFXCMN/CTreeCtrl::GetSelectedCount
- AFXCMN/CTreeCtrl::GetSelectedItem
- AFXCMN/CTreeCtrl::GetTextColor
- AFXCMN/CTreeCtrl::GetToolTips
- AFXCMN/CTreeCtrl::GetVisibleCount
- AFXCMN/CTreeCtrl::HitTest
- AFXCMN/CTreeCtrl::InsertItem
- AFXCMN/CTreeCtrl::ItemHasChildren
- AFXCMN/CTreeCtrl::MapAccIdToItem
- AFXCMN/CTreeCtrl::MapItemToAccID
- AFXCMN/CTreeCtrl::Select
- AFXCMN/CTreeCtrl::SelectDropTarget
- AFXCMN/CTreeCtrl::SelectItem
- AFXCMN/CTreeCtrl::SelectSetFirstVisible
- AFXCMN/CTreeCtrl::SetAutoscrollInfo
- AFXCMN/CTreeCtrl::SetBkColor
- AFXCMN/CTreeCtrl::SetCheck
- AFXCMN/CTreeCtrl::SetExtendedStyle
- AFXCMN/CTreeCtrl::SetImageList
- AFXCMN/CTreeCtrl::SetIndent
- AFXCMN/CTreeCtrl::SetInsertMark
- AFXCMN/CTreeCtrl::SetInsertMarkColor
- AFXCMN/CTreeCtrl::SetItem
- AFXCMN/CTreeCtrl::SetItemData
- AFXCMN/CTreeCtrl::SetItemExpandedImageIndex
- AFXCMN/CTreeCtrl::SetItemHeight
- AFXCMN/CTreeCtrl::SetItemImage
- AFXCMN/CTreeCtrl::SetItemState
- AFXCMN/CTreeCtrl::SetItemStateEx
- AFXCMN/CTreeCtrl::SetItemText
- AFXCMN/CTreeCtrl::SetLineColor
- AFXCMN/CTreeCtrl::SetScrollTime
- AFXCMN/CTreeCtrl::SetTextColor
- AFXCMN/CTreeCtrl::SetToolTips
- AFXCMN/CTreeCtrl::ShowInfoTip
- AFXCMN/CTreeCtrl::SortChildren
- AFXCMN/CTreeCtrl::SortChildrenCB
helpviewer_keywords:
- CTreeCtrl [MFC], CTreeCtrl
- CTreeCtrl [MFC], Create
- CTreeCtrl [MFC], CreateDragImage
- CTreeCtrl [MFC], CreateEx
- CTreeCtrl [MFC], DeleteAllItems
- CTreeCtrl [MFC], DeleteItem
- CTreeCtrl [MFC], EditLabel
- CTreeCtrl [MFC], EndEditLabelNow
- CTreeCtrl [MFC], EnsureVisible
- CTreeCtrl [MFC], Expand
- CTreeCtrl [MFC], GetBkColor
- CTreeCtrl [MFC], GetCheck
- CTreeCtrl [MFC], GetChildItem
- CTreeCtrl [MFC], GetCount
- CTreeCtrl [MFC], GetDropHilightItem
- CTreeCtrl [MFC], GetEditControl
- CTreeCtrl [MFC], GetExtendedStyle
- CTreeCtrl [MFC], GetFirstVisibleItem
- CTreeCtrl [MFC], GetImageList
- CTreeCtrl [MFC], GetIndent
- CTreeCtrl [MFC], GetInsertMarkColor
- CTreeCtrl [MFC], GetItem
- CTreeCtrl [MFC], GetItemData
- CTreeCtrl [MFC], GetItemExpandedImageIndex
- CTreeCtrl [MFC], GetItemHeight
- CTreeCtrl [MFC], GetItemImage
- CTreeCtrl [MFC], GetItemPartRect
- CTreeCtrl [MFC], GetItemRect
- CTreeCtrl [MFC], GetItemState
- CTreeCtrl [MFC], GetItemStateEx
- CTreeCtrl [MFC], GetItemText
- CTreeCtrl [MFC], GetLastVisibleItem
- CTreeCtrl [MFC], GetLineColor
- CTreeCtrl [MFC], GetNextItem
- CTreeCtrl [MFC], GetNextSiblingItem
- CTreeCtrl [MFC], GetNextVisibleItem
- CTreeCtrl [MFC], GetParentItem
- CTreeCtrl [MFC], GetPrevSiblingItem
- CTreeCtrl [MFC], GetPrevVisibleItem
- CTreeCtrl [MFC], GetRootItem
- CTreeCtrl [MFC], GetScrollTime
- CTreeCtrl [MFC], GetSelectedCount
- CTreeCtrl [MFC], GetSelectedItem
- CTreeCtrl [MFC], GetTextColor
- CTreeCtrl [MFC], GetToolTips
- CTreeCtrl [MFC], GetVisibleCount
- CTreeCtrl [MFC], HitTest
- CTreeCtrl [MFC], InsertItem
- CTreeCtrl [MFC], ItemHasChildren
- CTreeCtrl [MFC], MapAccIdToItem
- CTreeCtrl [MFC], MapItemToAccID
- CTreeCtrl [MFC], Select
- CTreeCtrl [MFC], SelectDropTarget
- CTreeCtrl [MFC], SelectItem
- CTreeCtrl [MFC], SelectSetFirstVisible
- CTreeCtrl [MFC], SetAutoscrollInfo
- CTreeCtrl [MFC], SetBkColor
- CTreeCtrl [MFC], SetCheck
- CTreeCtrl [MFC], SetExtendedStyle
- CTreeCtrl [MFC], SetImageList
- CTreeCtrl [MFC], SetIndent
- CTreeCtrl [MFC], SetInsertMark
- CTreeCtrl [MFC], SetInsertMarkColor
- CTreeCtrl [MFC], SetItem
- CTreeCtrl [MFC], SetItemData
- CTreeCtrl [MFC], SetItemExpandedImageIndex
- CTreeCtrl [MFC], SetItemHeight
- CTreeCtrl [MFC], SetItemImage
- CTreeCtrl [MFC], SetItemState
- CTreeCtrl [MFC], SetItemStateEx
- CTreeCtrl [MFC], SetItemText
- CTreeCtrl [MFC], SetLineColor
- CTreeCtrl [MFC], SetScrollTime
- CTreeCtrl [MFC], SetTextColor
- CTreeCtrl [MFC], SetToolTips
- CTreeCtrl [MFC], ShowInfoTip
- CTreeCtrl [MFC], SortChildren
- CTreeCtrl [MFC], SortChildrenCB
ms.assetid: 96e20031-6161-4143-8c12-8d1816c66d90
ms.openlocfilehash: 830c3b39e08252029933addde7d31ab84819b336
ms.sourcegitcommit: fcb48824f9ca24b1f8bd37d647a4d592de1cc925
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/15/2019
ms.locfileid: "69502365"
---
# <a name="ctreectrl-class"></a>CTreeCtrl Class

Proporciona la funcionalidad del control de vista de árbol común de Windows.

## <a name="syntax"></a>Sintaxis

```
class CTreeCtrl : public CWnd
```

## <a name="members"></a>Miembros

### <a name="public-constructors"></a>Constructores públicos

|NOMBRE|DESCRIPCIÓN|
|----------|-----------------|
|[CTreeCtrl::CTreeCtrl](#ctreectrl)|Construye un objeto `CTreeCtrl`.|

### <a name="public-methods"></a>Métodos públicos

|NOMBRE|DESCRIPCIÓN|
|----------|-----------------|
|[CTreeCtrl::Create](#create)|Crea un control de vista de árbol y lo adjunta a `CTreeCtrl` un objeto.|
|[CTreeCtrl::CreateDragImage](#createdragimage)|Crea un mapa de bits de arrastre para el elemento de vista de árbol especificado.|
|[CTreeCtrl::CreateEx](#createex)|Crea un control de árbol con los estilos extendidos de Windows especificados y lo `CTreeCtrl` adjunta a un objeto.|
|[CTreeCtrl::DeleteAllItems](#deleteallitems)|Elimina todos los elementos de un control de vista de árbol.|
|[CTreeCtrl::DeleteItem](#deleteitem)|Elimina un nuevo elemento de un control de vista de árbol.|
|[CTreeCtrl::EditLabel](#editlabel)|Edita un elemento de vista de árbol especificado en contexto.|
|[CTreeCtrl::EndEditLabelNow](#endeditlabelnow)|Cancela la operación de edición en la etiqueta de un elemento de vista de árbol en el control de vista de árbol actual.|
|[CTreeCtrl::EnsureVisible](#ensurevisible)|Garantiza que un elemento de vista de árbol esté visible en su control de vista de árbol.|
|[CTreeCtrl::Expand](#expand)|Expande o contrae los elementos secundarios del elemento de vista de árbol especificado.|
|[CTreeCtrl::GetBkColor](#getbkcolor)|Recupera el color de fondo actual del control.|
|[CTreeCtrl::GetCheck](#getcheck)|Recupera el estado de comprobación de un elemento de control de árbol.|
|[CTreeCtrl::GetChildItem](#getchilditem)|Recupera el elemento secundario de un elemento de vista de árbol especificado.|
|[CTreeCtrl::GetCount](#getcount)|Recupera el número de elementos de árbol asociados a un control de vista de árbol.|
|[CTreeCtrl::GetDropHilightItem](#getdrophilightitem)|Recupera el destino de una operación de arrastrar y colocar.|
|[CTreeCtrl::GetEditControl](#geteditcontrol)|Recupera el identificador del control de edición que se usa para editar el elemento de vista de árbol especificado.|
|[CTreeCtrl::GetExtendedStyle](#getextendedstyle)|Recupera los estilos extendidos que usa el control de vista de árbol actual.|
|[CTreeCtrl::GetFirstVisibleItem](#getfirstvisibleitem)|Recupera el primer elemento visible del elemento de vista de árbol especificado.|
|[CTreeCtrl::GetImageList](#getimagelist)|Recupera el identificador de la lista de imágenes asociada a un control de vista de árbol.|
|[CTreeCtrl::GetIndent](#getindent)|Recupera el desplazamiento (en píxeles) de un elemento de vista de árbol de su elemento primario.|
|[CTreeCtrl::GetInsertMarkColor](#getinsertmarkcolor)|Recupera el color usado para dibujar la marca de inserción para la vista de árbol.|
|[CTreeCtrl::GetItem](#getitem)|Recupera los atributos de un elemento de vista de árbol especificado.|
|[CTreeCtrl::GetItemData](#getitemdata)|Devuelve el valor específico de la aplicación de 32 bits asociado a un elemento.|
|[CTreeCtrl::GetItemExpandedImageIndex](#getitemexpandedimageindex)|Recupera el índice de la imagen que se va a mostrar cuando el elemento especificado del control de vista de árbol actual se encuentra en el estado expandido.|
|[CTreeCtrl::GetItemHeight](#getitemheight)|Recupera el alto actual de los elementos de la vista de árbol.|
|[CTreeCtrl::GetItemImage](#getitemimage)|Recupera las imágenes asociadas a un elemento.|
|[CTreeCtrl::GetItemPartRect](#getitempartrect)|Recupera el rectángulo delimitador de una parte especificada de un elemento especificado en el control de vista de árbol actual.|
|[CTreeCtrl::GetItemRect](#getitemrect)|Recupera el rectángulo delimitador de un elemento de vista de árbol.|
|[CTreeCtrl::GetItemState](#getitemstate)|Devuelve el estado de un elemento.|
|[CTreeCtrl::GetItemStateEx](#getitemstateex)|Recupera el estado extendido del elemento especificado en el control de vista de árbol actual.|
|[CTreeCtrl::GetItemText](#getitemtext)|Devuelve el texto de un elemento.|
|[CTreeCtrl::GetLastVisibleItem](#getlastvisibleitem)|Recupera el último elemento expandido en el control de vista de árbol actual.|
|[CTreeCtrl::GetLineColor](#getlinecolor)|Recupera el color de línea actual para el control de vista de árbol.|
|[CTreeCtrl::GetNextItem](#getnextitem)|Recupera el siguiente elemento de vista de árbol que coincide con una relación especificada.|
|[CTreeCtrl::GetNextSiblingItem](#getnextsiblingitem)|Recupera el siguiente elemento del mismo nivel del elemento de vista de árbol especificado.|
|[CTreeCtrl::GetNextVisibleItem](#getnextvisibleitem)|Recupera el siguiente elemento visible del elemento de vista de árbol especificado.|
|[CTreeCtrl::GetParentItem](#getparentitem)|Recupera el elemento primario del elemento de vista de árbol especificado.|
|[CTreeCtrl::GetPrevSiblingItem](#getprevsiblingitem)|Recupera el nodo anterior del mismo nivel del elemento de vista de árbol especificado.|
|[CTreeCtrl::GetPrevVisibleItem](#getprevvisibleitem)|Recupera el elemento visible anterior del elemento de vista de árbol especificado.|
|[CTreeCtrl::GetRootItem](#getrootitem)|Recupera la raíz del elemento de vista de árbol especificado.|
|[CTreeCtrl::GetScrollTime](#getscrolltime)|Recupera el tiempo de desplazamiento máximo para el control de vista de árbol.|
|[CTreeCtrl::GetSelectedCount](#getselectedcount)|Recupera el número de elementos seleccionados en el control de vista de árbol actual.|
|[CTreeCtrl::GetSelectedItem](#getselecteditem)|Recupera el elemento de vista de árbol seleccionado actualmente.|
|[CTreeCtrl::GetTextColor](#gettextcolor)|Recupera el color de texto actual del control.|
|[CTreeCtrl::GetToolTips](#gettooltips)|Recupera el identificador del control de información sobre herramientas secundario utilizado por un control de vista de árbol.|
|[CTreeCtrl::GetVisibleCount](#getvisiblecount)|Recupera el número de elementos de árbol visibles asociados a un control de vista de árbol.|
|[CTreeCtrl::HitTest](#hittest)|Devuelve la posición actual del cursor relacionada con el `CTreeCtrl` objeto.|
|[CTreeCtrl::InsertItem](#insertitem)|Inserta un nuevo elemento en un control de vista de árbol.|
|[CTreeCtrl::ItemHasChildren](#itemhaschildren)|Devuelve un valor distinto de cero si el elemento especificado tiene elementos secundarios.|
|[CTreeCtrl::MapAccIdToItem](#mapaccidtoitem)|Asigna el identificador de accesibilidad especificado al identificador a un elemento de vista de árbol en el control de vista de árbol actual.|
|[CTreeCtrl::MapItemToAccID](#mapitemtoaccid)|Asigna el identificador especificado a un elemento de vista de árbol del control de vista de árbol actual a un identificador de accesibilidad.|
|[CTreeCtrl::Select](#select)|Selecciona, se desplaza a la vista o vuelve a dibujar un elemento de vista de árbol especificado.|
|[CTreeCtrl::SelectDropTarget](#selectdroptarget)|Vuelve a dibujar el elemento de árbol como destino de una operación de arrastrar y colocar.|
|[CTreeCtrl::SelectItem](#selectitem)|Selecciona un elemento de vista de árbol especificado.|
|[CTreeCtrl::SelectSetFirstVisible](#selectsetfirstvisible)|Selecciona un elemento de la vista de árbol especificado como primer elemento visible.|
|[CTreeCtrl::SetAutoscrollInfo](#setautoscrollinfo)|Establece la tasa de desplazamiento automático del control de vista de árbol actual.|
|[CTreeCtrl::SetBkColor](#setbkcolor)|Establece el color de fondo del control.|
|[CTreeCtrl::SetCheck](#setcheck)|Establece el estado de activación de un elemento de control de árbol.|
|[CTreeCtrl::SetExtendedStyle](#setextendedstyle)|Establece los estilos extendidos para el control de vista de árbol actual.|
|[CTreeCtrl::SetImageList](#setimagelist)|Establece el identificador de la lista de imágenes asociada a un control de vista de árbol.|
|[CTreeCtrl::SetIndent](#setindent)|Establece el desplazamiento (en píxeles) de un elemento de vista de árbol a partir de su elemento primario.|
|[CTreeCtrl::SetInsertMark](#setinsertmark)|Establece la marca de inserción en un control de vista de árbol.|
|[CTreeCtrl::SetInsertMarkColor](#setinsertmarkcolor)|Establece el color utilizado para dibujar la marca de inserción para la vista de árbol.|
|[CTreeCtrl::SetItem](#setitem)|Establece los atributos de un elemento de vista de árbol especificado.|
|[CTreeCtrl::SetItemData](#setitemdata)|Establece el valor específico de la aplicación de 32 bits asociado a un elemento.|
|[CTreeCtrl::SetItemExpandedImageIndex](#setitemexpandedimageindex)|Establece el índice de la imagen que se va a mostrar cuando el elemento especificado del control de vista de árbol actual se encuentra en el estado expandido.|
|[CTreeCtrl::SetItemHeight](#setitemheight)|Establece el alto de los elementos de la vista de árbol.|
|[CTreeCtrl::SetItemImage](#setitemimage)|Asocia imágenes a un elemento.|
|[CTreeCtrl::SetItemState](#setitemstate)|Establece el estado de un elemento.|
|[CTreeCtrl::SetItemStateEx](#setitemstateex)|Establece el estado extendido del elemento especificado en el control de vista de árbol actual.|
|[CTreeCtrl::SetItemText](#setitemtext)|Establece el texto de un elemento.|
|[CTreeCtrl::SetLineColor](#setlinecolor)|Establece el color de línea actual para el control de vista de árbol.|
|[CTreeCtrl::SetScrollTime](#setscrolltime)|Establece el tiempo de desplazamiento máximo para el control de vista de árbol.|
|[CTreeCtrl::SetTextColor](#settextcolor)|Establece el color del texto del control.|
|[CTreeCtrl::SetToolTips](#settooltips)|Establece el control de información sobre herramientas secundario de un control de vista de árbol.|
|[CTreeCtrl::ShowInfoTip](#showinfotip)|Muestra el recuadro informativo para el elemento especificado en el control de vista de árbol actual.|
|[CTreeCtrl::SortChildren](#sortchildren)|Ordena los elementos secundarios de un elemento primario determinado.|
|[CTreeCtrl::SortChildrenCB](#sortchildrencb)|Ordena los elementos secundarios de un elemento primario dado usando una función de ordenación definida por la aplicación.|

## <a name="remarks"></a>Comentarios

Un "control de vista de árbol" es una ventana que muestra una lista jerárquica de elementos, como los encabezados de un documento, las entradas de un índice o los archivos y directorios de un disco. Cada elemento se compone de una etiqueta y una imagen de mapa de imágenes opcional, y cada elemento puede tener una lista de subelementos asociados. Al hacer clic en un elemento, el usuario puede expandir y contraer la lista asociada de subelementos.

Este control (y, por `CTreeCtrl` lo tanto, la clase) solo está disponible para programas que se ejecutan en Windows 98 y Windows NT versión 4 y versiones posteriores.

Para obtener más información sobre `CTreeCtrl`el uso de, consulte:

- [Controles](../../mfc/controls-mfc.md)

- [Uso de CTreeCtrl](../../mfc/using-ctreectrl.md)

- [Referencia de control de vista de árbol](/windows/win32/Controls/tree-view-control-reference) en el Windows SDK.

## <a name="inheritance-hierarchy"></a>Jerarquía de herencia

[CObject](../../mfc/reference/cobject-class.md)

[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)

[CWnd](../../mfc/reference/cwnd-class.md)

`CTreeCtrl`

## <a name="requirements"></a>Requisitos

**Encabezado:** afxcmn.h

##  <a name="create"></a>  CTreeCtrl::Create

Si especifica el control de árbol en una plantilla de cuadro de diálogo o si está utilizando [CTreeView](../../mfc/reference/ctreeview-class.md), el control de árbol se crea automáticamente cuando se crea el cuadro de diálogo o la vista.

```
virtual BOOL Create(
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Parámetros

*dwStyle*<br/>
Especifica el estilo del control de vista de árbol. Aplique estilos de ventana, descritos en [CreateWindow](/windows/win32/api/winuser/nf-winuser-createwindoww), y cualquier combinación de [estilos de control de vista de árbol](/windows/win32/Controls/tree-view-control-window-styles) como se describe en el Windows SDK.

*rect*<br/>
Especifica el tamaño y la posición del control de vista de árbol. Puede ser un objeto [CRect](../../atl-mfc-shared/reference/crect-class.md) o una estructura [Rect](/previous-versions/dd162897\(v=vs.85\)) .

*pParentWnd*<br/>
Especifica la ventana primaria del control de vista de árbol, `CDialog`normalmente una. No debe ser NULL.

*nID*<br/>
Especifica el identificador del control de vista de árbol.

### <a name="return-value"></a>Valor devuelto

Distinto de cero si la inicialización se realizó correctamente; de lo contrario, es 0.

### <a name="remarks"></a>Comentarios

Si desea crear el control de árbol como una ventana secundaria de otra ventana, utilice la `Create` función miembro. Si crea el control de árbol mediante `Create`, debe pasarlo WS_VISIBLE, además de otros estilos de la vista de árbol.

En dos pasos `CTreeCtrl` se crea un. En primer lugar, llame al constructor `Create`y, a continuación, llame `CTreeCtrl` a, que crea el control de vista de árbol y lo adjunta al objeto.

Para crear un control de árbol con estilos de ventana extendidos, llame a `Create` [CreateEx](#createex) en lugar de a.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_1.cpp)]

##  <a name="createex"></a>  CTreeCtrl::CreateEx

Llame a esta función para crear un control (una ventana secundaria) y asociarlo `CTreeCtrl` al objeto.

```
virtual BOOL CreateEx(
    DWORD dwExStyle,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Parámetros

*dwExStyle*<br/>
Especifica el estilo extendido del control que se va a crear. Para obtener una lista de los estilos extendidos de Windows, consulte el parámetro *dwExStyle* para [CreateWindowEx](/windows/win32/api/winuser/nf-winuser-createwindowexw) en el Windows SDK.

*dwStyle*<br/>
Especifica el estilo del control de vista de árbol. Aplique estilos de ventana, descritos en [CreateWindow](/windows/win32/api/winuser/nf-winuser-createwindoww), y cualquier combinación de [estilos de control de vista de árbol](/windows/win32/Controls/tree-view-control-window-styles) como se describe en el Windows SDK.

*rect*<br/>
Referencia a una estructura [Rect](/previous-versions/dd162897\(v=vs.85\)) que describe el tamaño y la posición de la ventana que se va a crear, en coordenadas de cliente de *pParentWnd*.

*pParentWnd*<br/>
Puntero a la ventana que es el elemento primario del control.

*nID*<br/>
IDENTIFICADOR de la ventana de elemento secundario del control.

### <a name="return-value"></a>Valor devuelto

Distinto de cero si es correcto; de lo contrario, 0.

### <a name="remarks"></a>Comentarios

Use `CreateEx` en lugar de [crear](#create) para aplicar los estilos extendidos de Windows, que especifica el **WS_EX_** de estilo extendido de Windows.

##  <a name="createdragimage"></a>  CTreeCtrl::CreateDragImage

Llame a esta función para crear un mapa de bits de arrastre para el elemento especificado en un control de vista de árbol, cree una lista de imágenes para el mapa de bits y agregue el mapa de bits a la lista de imágenes.

```
CImageList* CreateDragImage(HTREEITEM hItem);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento de árbol que se va a arrastrar.

### <a name="return-value"></a>Valor devuelto

Puntero a la lista de imágenes a la que se agregó el mapa de bits de arrastre, si se realiza correctamente; de lo contrario, NULL.

### <a name="remarks"></a>Comentarios

Una aplicación usa las funciones de lista de imágenes para mostrar la imagen cuando se arrastra el elemento.

El `CImageList` objeto es permanente y debe eliminarlo cuando termine. Por ejemplo:

[!code-cpp[NVC_MFC_CTreeCtrl#2](../../mfc/reference/codesnippet/cpp/ctreectrl-class_2.cpp)]

##  <a name="ctreectrl"></a>  CTreeCtrl::CTreeCtrl

Construye un objeto `CTreeCtrl`.

```
CTreeCtrl();
```

##  <a name="deleteallitems"></a>  CTreeCtrl::DeleteAllItems

Llame a esta función para eliminar todos los elementos del control de vista de árbol.

```
BOOL DeleteAllItems();
```

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#3](../../mfc/reference/codesnippet/cpp/ctreectrl-class_3.cpp)]

##  <a name="deleteitem"></a>  CTreeCtrl::DeleteItem

Llame a esta función para eliminar un elemento del control de vista de árbol.

```
BOOL DeleteItem(HTREEITEM hItem);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento de árbol que se va a eliminar. Si *hitem* tiene el valor TVI_ROOT, se eliminan todos los elementos del control de vista de árbol.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#4](../../mfc/reference/codesnippet/cpp/ctreectrl-class_4.cpp)]

##  <a name="editlabel"></a>  CTreeCtrl::EditLabel

Llame a esta función para iniciar la edición en contexto del texto del elemento especificado.

```
CEdit* EditLabel(HTREEITEM hItem);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento de árbol que se va a editar.

### <a name="return-value"></a>Valor devuelto

Si es correcto, puntero al `CEdit` objeto que se utiliza para editar el texto del elemento; de lo contrario, NULL.

### <a name="remarks"></a>Comentarios

La edición se realiza reemplazando el texto del elemento por un control de edición de una sola línea que contiene el texto.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#5](../../mfc/reference/codesnippet/cpp/ctreectrl-class_5.cpp)]

##  <a name="endeditlabelnow"></a>  CTreeCtrl::EndEditLabelNow

Finaliza la operación de edición en la etiqueta de un elemento de vista de árbol en el control de vista de árbol actual.

```
BOOL EndEditLabelNow(BOOL fCancelWithoutSave);
```

### <a name="parameters"></a>Parámetros

|Parámetro|DESCRIPCIÓN|
|---------------|-----------------|
|*fCancelWithoutSave*|de TRUE para descartar los cambios realizados en el elemento de vista de árbol antes de concluir la operación de edición o FALSE para guardar los cambios en el elemento de vista de árbol antes de concluir la operación.|

### <a name="return-value"></a>Valor devuelto

TRUE si este método se realiza correctamente; en caso contrario, FALSE.

### <a name="remarks"></a>Comentarios

Este método envía el mensaje [TVM_ENDEDITLABELNOW](/windows/win32/Controls/tvm-endeditlabelnow) , que se describe en el Windows SDK.

##  <a name="ensurevisible"></a>  CTreeCtrl::EnsureVisible

Llame a esta función para asegurarse de que un elemento de vista de árbol esté visible.

```
BOOL EnsureVisible(HTREEITEM hItem);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento de árbol que se va a hacer visible.

### <a name="return-value"></a>Valor devuelto

Devuelve TRUE si el sistema desplazó los elementos del control de vista de árbol para asegurarse de que el elemento especificado esté visible. De lo contrario, el valor devuelto es FALSE.

### <a name="remarks"></a>Comentarios

Si es necesario, la función expande el elemento primario o desplaza el control de vista de árbol para que el elemento esté visible.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#6](../../mfc/reference/codesnippet/cpp/ctreectrl-class_6.cpp)]

##  <a name="expand"></a>  CTreeCtrl::Expand

Llame a esta función para expandir o contraer la lista de elementos secundarios, si los hay, asociados con el elemento primario especificado.

```
BOOL Expand(
    HTREEITEM hItem,
    UINT nCode);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento de árbol que se va a expandir.

*nCode*<br/>
Marca que indica el tipo de acción que se va a realizar. Esta marca puede tener uno de los valores siguientes:

- TVE_COLLAPSE contrae la lista.

- TVE_COLLAPSERESET contrae la lista y quita los elementos secundarios. Se restablece la marca de estado TVIS_EXPANDEDONCE. Esta marca se debe utilizar con la marca TVE_COLLAPSE.

- TVE_EXPAND expande la lista.

- TVE_TOGGLE contrae la lista si está expandida o la expande si está contraída actualmente.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl:: ensureVisible](#ensurevisible).

##  <a name="getbkcolor"></a>  CTreeCtrl::GetBkColor

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_GETBKCOLOR](/windows/win32/Controls/tvm-getbkcolor), tal y como se describe en el Windows SDK.

```
COLORREF GetBkColor() const;
```

### <a name="return-value"></a>Valor devuelto

Valor de COLORREF que representa el color de fondo de la ventana actual del control. Si este valor es-1, el control utiliza el color de la ventana del sistema. En este caso, puede usar `::GetSysColor(COLOR_WINDOW)` para obtener el color actual del sistema que usa el control.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl:: SetTextColor](#settextcolor).

##  <a name="getcheck"></a>  CTreeCtrl::GetCheck

Llame a esta función miembro para recuperar el estado de comprobación de un elemento.

```
BOOL GetCheck(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
HTREEITEM sobre el que se va a recibir la información de estado.

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el elemento de control de árbol está activado; de lo contrario, es 0.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl:: SetCheck](#setcheck).

##  <a name="getchilditem"></a>  CTreeCtrl::GetChildItem

Llame a esta función para recuperar el elemento de vista de árbol que es el elemento secundario del elemento especificado por *hItem*.

```
HTREEITEM GetChildItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador de un elemento de árbol.

### <a name="return-value"></a>Valor devuelto

Identificador del elemento secundario si es correcto; de lo contrario, NULL.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#7](../../mfc/reference/codesnippet/cpp/ctreectrl-class_7.cpp)]

##  <a name="getcount"></a>  CTreeCtrl::GetCount

Llame a esta función para recuperar un recuento de los elementos de un control de vista de árbol.

```
UINT GetCount() const;
```

### <a name="return-value"></a>Valor devuelto

Número de elementos del control de vista de árbol.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#8](../../mfc/reference/codesnippet/cpp/ctreectrl-class_8.cpp)]

##  <a name="getdrophilightitem"></a>  CTreeCtrl::GetDropHilightItem

Llame a esta función para recuperar el elemento que es el destino de una operación de arrastrar y colocar.

```
HTREEITEM GetDropHilightItem() const;
```

### <a name="return-value"></a>Valor devuelto

Identificador del elemento que se ha quitado si se realiza correctamente; de lo contrario, NULL.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#9](../../mfc/reference/codesnippet/cpp/ctreectrl-class_9.cpp)]

##  <a name="geteditcontrol"></a>  CTreeCtrl::GetEditControl

Llame a esta función para recuperar el identificador del control de edición que se usa para editar el texto de un elemento de la vista de árbol.

```
CEdit* GetEditControl() const;
```

### <a name="return-value"></a>Valor devuelto

Puntero al control de edición que se usa para editar el texto del elemento, si es correcto; de lo contrario, NULL.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#10](../../mfc/reference/codesnippet/cpp/ctreectrl-class_10.cpp)]

##  <a name="getextendedstyle"></a>  CTreeCtrl::GetExtendedStyle

Recupera los estilos extendidos que usa el control de vista de árbol actual.

```
DWORD GetExtendedStyle() const;
```

### <a name="return-value"></a>Valor devuelto

Valor que contiene una combinación bit a bit (o) de los estilos extendidos del control de vista de árbol actual. Para obtener más información, vea los [estilos extendidos del control de vista de árbol](/windows/win32/Controls/tree-view-control-window-extended-styles).

### <a name="remarks"></a>Comentarios

Este método envía el mensaje [TVM_GETEXTENDEDSTYLE](/windows/win32/Controls/tvm-getextendedstyle) , que se describe en el Windows SDK.

##  <a name="getfirstvisibleitem"></a>  CTreeCtrl::GetFirstVisibleItem

Llame a esta función para recuperar el primer elemento visible del control de vista de árbol.

```
HTREEITEM GetFirstVisibleItem() const;
```

### <a name="return-value"></a>Valor devuelto

Identificador del primer elemento visible; de lo contrario, NULL.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl:: SetCheck](#setcheck).

##  <a name="getimagelist"></a>  CTreeCtrl::GetImageList

Llame a esta función para recuperar el identificador de la lista de imágenes normal o de estado asociada al control de vista de árbol.

```
CImageList* GetImageList(UINT nImageList) const;
```

### <a name="parameters"></a>Parámetros

*nImageList*<br/>
Tipo de lista de imágenes que se va a recuperar. La lista de imágenes puede tener uno de los valores siguientes:

- TVSIL_NORMAL recupera la lista de imágenes normal, que contiene las imágenes seleccionadas y no seleccionadas del elemento de vista de árbol.

- TVSIL_STATE recupera la lista de imágenes de estado, que contiene las imágenes de los elementos de la vista de árbol que se encuentran en un estado definido por el usuario.

### <a name="return-value"></a>Valor devuelto

Puntero a la lista de imágenes del control si se realiza correctamente; de lo contrario, NULL.

### <a name="remarks"></a>Comentarios

Cada elemento de un control de vista de árbol puede tener asociado un par de imágenes de mapa de columnas. Cuando el elemento está seleccionado, se muestra una imagen y la otra se muestra cuando no se selecciona el elemento. Por ejemplo, un elemento podría mostrar una carpeta abierta cuando se selecciona y una carpeta cerrada cuando no está seleccionada.

Para obtener más información sobre las listas de imágenes, vea la clase [CImageList](../../mfc/reference/cimagelist-class.md) .

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#11](../../mfc/reference/codesnippet/cpp/ctreectrl-class_11.cpp)]

##  <a name="getindent"></a>  CTreeCtrl::GetIndent

Llame a esta función para recuperar la cantidad, en píxeles, a la que se aplica sangría a los elementos secundarios con respecto a sus elementos primarios.

```
UINT GetIndent() const;
```

### <a name="return-value"></a>Valor devuelto

La cantidad de sangría medida en píxeles.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#12](../../mfc/reference/codesnippet/cpp/ctreectrl-class_12.cpp)]

##  <a name="getinsertmarkcolor"></a>  CTreeCtrl::GetInsertMarkColor

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_GETINSERTMARKCOLOR](/windows/win32/Controls/tvm-getinsertmarkcolor), tal y como se describe en el Windows SDK.

```
COLORREF GetInsertMarkColor() const;
```

### <a name="return-value"></a>Valor devuelto

Valor de COLORREF que contiene el color de la marca de inserción actual.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#13](../../mfc/reference/codesnippet/cpp/ctreectrl-class_13.cpp)]

##  <a name="getitem"></a>  CTreeCtrl::GetItem

Llame a esta función para recuperar los atributos del elemento de vista de árbol especificado.

```
BOOL GetItem(TVITEM* pItem) const;
```

### <a name="parameters"></a>Parámetros

*pItem*<br/>
Puntero a una estructura [TVITEM](/windows/win32/api/commctrl/ns-commctrl-tvitemw) , como se describe en el Windows SDK.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl::D eleteitem](#deleteitem).

##  <a name="getitemdata"></a>  CTreeCtrl::GetItemData

Llame a esta función para recuperar el valor específico de la aplicación de 32 bits asociado al elemento especificado.

```
DWORD_PTR GetItemData(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento cuyos datos se van a recuperar.

### <a name="return-value"></a>Valor devuelto

Valor específico de la aplicación de 32 bits asociado al elemento especificado por *hItem*.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#14](../../mfc/reference/codesnippet/cpp/ctreectrl-class_14.cpp)]

##  <a name="getitemexpandedimageindex"></a>  CTreeCtrl::GetItemExpandedImageIndex

Recupera el índice de la imagen que se va a mostrar cuando el elemento especificado del control de vista de árbol actual se encuentra en el estado expandido.

```
int GetItemExpandedImageIndex(HTREEITEM hItem)const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|DESCRIPCIÓN|
|---------------|-----------------|
|*hItem*|de Identificador de un elemento de control de vista de árbol.|

### <a name="return-value"></a>Valor devuelto

Índice de la imagen que se va a mostrar cuando el elemento especificado se encuentra en el estado expandido.

### <a name="remarks"></a>Comentarios

Este método envía el mensaje [TVM_GETITEM](/windows/win32/Controls/tvm-getitem) , que se describe en el Windows SDK. Ese mensaje devuelve la estructura [TVITEMEX](/windows/win32/api/commctrl/ns-commctrl-tvitemexw) que describe el elemento de control de vista de árbol y, a continuación, este `iExpandedImage` método recupera el miembro de esa estructura.

##  <a name="getitemheight"></a>  CTreeCtrl::GetItemHeight

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_GETITEMHEIGHT](/windows/win32/Controls/tvm-getitemheight), tal y como se describe en el Windows SDK.

```
SHORT GetItemHeight() const;
```

### <a name="return-value"></a>Valor devuelto

Alto del elemento, en píxeles.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#15](../../mfc/reference/codesnippet/cpp/ctreectrl-class_15.cpp)]

##  <a name="getitemimage"></a>  CTreeCtrl::GetItemImage

Cada elemento de un control de vista de árbol puede tener asociado un par de imágenes de mapa de columnas.

```
BOOL GetItemImage(
    HTREEITEM hItem,
    int& nImage,
    int& nSelectedImage) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento cuya imagen se va a recuperar.

*nImage*<br/>
Un entero que recibe el índice de la imagen del elemento en la lista de imágenes del control de vista de árbol.

*nSelectedImage*<br/>
Un entero que recibe el índice de la imagen seleccionada del elemento en la lista de imágenes del control de vista de árbol.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

Las imágenes aparecen en el lado izquierdo de la etiqueta de un elemento. Cuando el elemento está seleccionado, se muestra una imagen y la otra se muestra cuando no se selecciona el elemento. Por ejemplo, un elemento podría mostrar una carpeta abierta cuando se selecciona y una carpeta cerrada cuando no está seleccionada.

Llame a esta función para recuperar el índice de la imagen del elemento y su imagen seleccionada en la lista de imágenes del control de vista de árbol.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#16](../../mfc/reference/codesnippet/cpp/ctreectrl-class_16.cpp)]

##  <a name="getitempartrect"></a>  CTreeCtrl::GetItemPartRect

Recupera el rectángulo delimitador de una parte especificada de un elemento especificado en el control de vista de árbol actual.

```
BOOL GetItemPartRect(
    HTREEITEM hItem,
    int nPart,
    LPRECT lpRect)const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|DESCRIPCIÓN|
|---------------|-----------------|
|*hItem*|de Identificador de un elemento de control de vista de árbol.|
|*nPart*|de Identificador del elemento. Debe establecerse en TVGIPR_BUTTON.|
|*lpRect*|enuncia Puntero a una estructura [Rect](/previous-versions/dd162897\(v=vs.85\)) . Si este método se realiza correctamente, la estructura recibe las coordenadas del rectángulo de la parte especificada por *hItem* y *nel*.|

### <a name="return-value"></a>Valor devuelto

TRUE si este método se realiza correctamente; en caso contrario, FALSE.

### <a name="remarks"></a>Comentarios

Cada elemento de control de árbol está limitado por un rectángulo de gráficos. Siempre que se hace clic en un punto de ese rectángulo, se dice que se *alcanza*el elemento. Este método devuelve el rectángulo más grande, de modo que cuando se hace clic en un punto del rectángulo, se alcanza el elemento identificado por el parámetro *hItem* .

Este método envía el mensaje TVM_GETITEMPARTRECT, que se describe en el Windows SDK. Para obtener más información, vea la macro [TreeView_GetItemPartRect](/windows/win32/api/commctrl/nf-commctrl-treeview_getitempartrect) .

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se define `m_treeCtrl`una variable,, que se utiliza para tener acceso al control de vista de árbol actual. En el ejemplo de código también se define un entero sin signo y varias variables HTREEITEM. Estas variables se usan en el ejemplo siguiente.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se usa un identificador de accesibilidad y el método [CTreeCtrl:: MapAccIdToItem](#mapaccidtoitem) para recuperar un identificador del elemento de vista de árbol raíz. A continuación, el ejemplo usa el identificador y el método [CTreeCtrl:: GetItemPartRect](#getitempartrect) para dibujar un rectángulo 3D alrededor de ese elemento. En una sección anterior del ejemplo de código, que no se muestra, creamos una vista de árbol que consta de un nodo raíz de país o región para el Estados Unidos, los subnodos de los Estados de Pennsylvania y Washington, y los elementos de árbol de las ciudades de esos Estados. Usamos el método [CTreeCtrl:: MapItemToAccID](#mapitemtoaccid) para asociar el elemento de vista de árbol raíz a un identificador de accesibilidad.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#5](../../mfc/reference/codesnippet/cpp/ctreectrl-class_18.cpp)]

##  <a name="getitemrect"></a>  CTreeCtrl::GetItemRect

Llame a esta función para recuperar el rectángulo delimitador de *hItem* y determinar si está visible o no.

```
BOOL GetItemRect(
    HTREEITEM hItem,
    LPRECT lpRect,
    BOOL bTextOnly) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador de un elemento de control de vista de árbol.

*lpRect*<br/>
Puntero a una estructura [Rect](/previous-versions/dd162897\(v=vs.85\)) que recibe el rectángulo delimitador. Las coordenadas son relativas a la esquina superior izquierda del control de vista de árbol.

*bTextOnly*<br/>
Si este parámetro es distinto de cero, el rectángulo delimitador solo incluye el texto del elemento. En caso contrario, incluye la línea completa que el elemento ocupa en el control de vista de árbol.

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el elemento está visible, con el rectángulo delimitador contenido en *lpRect*. De lo contrario, 0 con *lpRect* sin inicializar.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#17](../../mfc/reference/codesnippet/cpp/ctreectrl-class_19.cpp)]

##  <a name="getitemstate"></a>  CTreeCtrl::GetItemState

Devuelve el estado del elemento especificado por *hItem*.

```
UINT GetItemState(
    HTREEITEM hItem,
    UINT nStateMask) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento cuyo estado se va a recuperar.

*nStateMask*<br/>
Máscara que indica uno o más Estados que se van a recuperar. Para obtener más información sobre los valores posibles de *nStateMask*, vea la explicación `state` de `stateMask` los miembros y de la estructura [TVITEM](/windows/win32/api/commctrl/ns-commctrl-tvitemw) en el Windows SDK.

### <a name="return-value"></a>Valor devuelto

Un valor UINT que contiene la operación OR bit a bit de los valores especificados por nStateMask. Para obtener información sobre los valores posibles, vea [CTreeCtrl:: GetItem](#getitem). Para buscar el valor de un estado concreto, realice una operación and bit a bit del valor de estado y el valor devuelto, como se muestra en el ejemplo siguiente.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#18](../../mfc/reference/codesnippet/cpp/ctreectrl-class_20.cpp)]

##  <a name="getitemstateex"></a>  CTreeCtrl::GetItemStateEx

Recupera el estado extendido del elemento especificado en el control de vista de árbol actual.

```
UINT GetItemStateEx(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|DESCRIPCIÓN|
|---------------|-----------------|
|*hItem*|de Identificador de un elemento de control de vista de árbol.|

### <a name="return-value"></a>Valor devuelto

Estado extendido del elemento. Para obtener más información, vea `uStateEx` el miembro de la estructura [TVITEMEX](/windows/win32/api/commctrl/ns-commctrl-tvitemexw) .

### <a name="remarks"></a>Comentarios

Este método envía el mensaje [TVM_GETITEM](/windows/win32/Controls/tvm-getitem) , que se describe en el Windows SDK. Ese mensaje devuelve la estructura [TVITEMEX](/windows/win32/api/commctrl/ns-commctrl-tvitemexw) que describe el elemento de control de vista de árbol y este método recupera el `uStateEx` miembro de esa estructura.

##  <a name="getitemtext"></a>  CTreeCtrl::GetItemText

Devuelve el texto del elemento especificado por *hItem*.

```
CString GetItemText(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento cuyo texto se va a recuperar.

### <a name="return-value"></a>Valor devuelto

`CString` Objeto que contiene el texto del elemento.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl:: GetNextItem](#getnextitem).

##  <a name="getlastvisibleitem"></a>  CTreeCtrl::GetLastVisibleItem

Recupera el último elemento de nodo no expandido en el control de vista de árbol actual.

```
HTREEITEM GetLastVisibleItem() const;
```

### <a name="return-value"></a>Valor devuelto

Identificador del último elemento de nodo no expandido si el método es correcto; de lo contrario, es NULL.

### <a name="remarks"></a>Comentarios

Este método envía el mensaje [TVM_GETNEXTITEM](/windows/win32/Controls/tvm-getnextitem) , que se describe en el Windows SDK. Para obtener más información, consulte la marca TVGN_LASTVISIBLE en el parámetro *Flag* de ese mensaje.

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se define `m_treeCtrl`una variable,, que se utiliza para tener acceso al control de vista de árbol actual. En el ejemplo de código también se define un entero sin signo y varias variables HTREEITEM. En el ejemplo siguiente se usan una o varias de estas variables.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se recupera un identificador del último elemento de nodo de vista de árbol sin expandir y, a continuación, se dibuja un rectángulo 3D alrededor de ese elemento. En una sección anterior del ejemplo de código, que no se muestra, creamos una vista de árbol que consta de un nodo raíz de país o región para el Estados Unidos, los subnodos de los Estados de Pennsylvania y Washington, y los elementos de árbol de las ciudades de esos Estados.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#6](../../mfc/reference/codesnippet/cpp/ctreectrl-class_21.cpp)]

##  <a name="getlinecolor"></a>  CTreeCtrl::GetLineColor

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_GETLINECOLOR](/windows/win32/Controls/tvm-getlinecolor), tal y como se describe en el Windows SDK.

```
COLORREF GetLineColor() const;
```

### <a name="return-value"></a>Valor devuelto

Color de línea actual.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#19](../../mfc/reference/codesnippet/cpp/ctreectrl-class_22.cpp)]

##  <a name="getnextitem"></a>  CTreeCtrl::GetNextItem

Llame a esta función para recuperar el elemento de vista de árbol que tiene la relación especificada, indicada por el parámetro *nCode* , en *hItem*.

```
HTREEITEM GetNextItem(
    HTREEITEM hItem,
    UINT nCode) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador de un elemento de árbol.

*nCode*<br/>
Marca que indica el tipo de relación con *hItem*. Esta marca puede ser uno de los valores siguientes:

- TVGN_CARET recupera el elemento actualmente seleccionado.

- TVGN_CHILD recupera el primer elemento secundario del elemento especificado por el parámetro *hItem* .

- TVGN_DROPHILITE recupera el elemento que es el destino de una operación de arrastrar y colocar.

- TVGN_FIRSTVISIBLE recupera el primer elemento visible.

- TVGN_LASTVISIBLE recupera el último elemento expandido en el árbol. Esto no recupera el último elemento visible en la ventana de vista de árbol.

- TVGN_NEXT recupera el siguiente elemento relacionado.

- TVGN_NEXTVISIBLE recupera el siguiente elemento visible que sigue al elemento especificado.

- TVGN_PARENT recupera el elemento primario del elemento especificado.

- TVGN_PREVIOUS recupera el elemento relacionado anterior.

- TVGN_PREVIOUSVISIBLE recupera el primer elemento visible que precede al elemento especificado.

- TVGN_ROOT recupera el primer elemento secundario del elemento raíz del que forma parte el elemento especificado.

### <a name="return-value"></a>Valor devuelto

Identificador del siguiente elemento si se realiza correctamente; de lo contrario, NULL.

### <a name="remarks"></a>Comentarios

Esta función devolverá NULL si el elemento que se va a recuperar es el nodo raíz del árbol. Por ejemplo, si usa este mensaje con la marca TVGN_PARENT en un elemento secundario de primer nivel del nodo raíz de la vista de árbol, el mensaje devolverá NULL.

### <a name="example"></a>Ejemplo

Para obtener un ejemplo del `GetNextItem` uso de en un bucle, vea [CTreeCtrl::D eleteitem](#deleteitem).

[!code-cpp[NVC_MFC_CTreeCtrl#20](../../mfc/reference/codesnippet/cpp/ctreectrl-class_23.cpp)]

##  <a name="getnextsiblingitem"></a>  CTreeCtrl::GetNextSiblingItem

Llame a esta función para recuperar el siguiente elemento del mismo nivel de *hItem*.

```
HTREEITEM GetNextSiblingItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador de un elemento de árbol.

### <a name="return-value"></a>Valor devuelto

Identificador del siguiente elemento relacionado; de lo contrario, NULL.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#21](../../mfc/reference/codesnippet/cpp/ctreectrl-class_24.cpp)]

##  <a name="getnextvisibleitem"></a>  CTreeCtrl::GetNextVisibleItem

Llame a esta función para recuperar el siguiente elemento visible de *hItem*.

```
HTREEITEM GetNextVisibleItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador de un elemento de árbol.

### <a name="return-value"></a>Valor devuelto

Identificador del elemento visible siguiente; de lo contrario, NULL.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl:: SetCheck](#setcheck).

##  <a name="getparentitem"></a>  CTreeCtrl::GetParentItem

Llame a esta función para recuperar el elemento primario de *hItem*.

```
HTREEITEM GetParentItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador de un elemento de árbol.

### <a name="return-value"></a>Valor devuelto

Identificador del elemento primario; de lo contrario, NULL.

### <a name="remarks"></a>Comentarios

Esta función devolverá NULL si el elemento primario del elemento especificado es el nodo raíz del árbol.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl:: ensureVisible](#ensurevisible).

##  <a name="getprevsiblingitem"></a>  CTreeCtrl::GetPrevSiblingItem

Llame a esta función para recuperar el elemento anterior del mismo nivel de *hItem*.

```
HTREEITEM GetPrevSiblingItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador de un elemento de árbol.

### <a name="return-value"></a>Valor devuelto

Identificador del elemento del mismo nivel anterior; de lo contrario, NULL.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#22](../../mfc/reference/codesnippet/cpp/ctreectrl-class_25.cpp)]

##  <a name="getprevvisibleitem"></a>  CTreeCtrl::GetPrevVisibleItem

Llame a esta función para recuperar el elemento visible anterior de *hItem*.

```
HTREEITEM GetPrevVisibleItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador de un elemento de árbol.

### <a name="return-value"></a>Valor devuelto

Identificador del elemento visible anterior; de lo contrario, NULL.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#23](../../mfc/reference/codesnippet/cpp/ctreectrl-class_26.cpp)]

##  <a name="getrootitem"></a>  CTreeCtrl::GetRootItem

Llame a esta función para recuperar el elemento raíz del control de vista de árbol.

```
HTREEITEM GetRootItem() const;
```

### <a name="return-value"></a>Valor devuelto

Identificador del elemento raíz; de lo contrario, NULL.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl:: EditLabel](#editlabel).

##  <a name="getscrolltime"></a>  CTreeCtrl::GetScrollTime

Llame a esta función miembro para recuperar el tiempo de desplazamiento máximo para el control de vista de árbol.

```
UINT GetScrollTime() const;
```

### <a name="return-value"></a>Valor devuelto

Tiempo de desplazamiento máximo, en milisegundos.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_GETSCROLLTIME](/windows/win32/Controls/tvm-getscrolltime), tal y como se describe en el Windows SDK.

##  <a name="getselectedcount"></a>  CTreeCtrl::GetSelectedCount

Recupera el número de elementos seleccionados en el control de vista de árbol actual.

```
UINT GetSelectedCount();
```

### <a name="return-value"></a>Valor devuelto

Número de elementos seleccionados.

### <a name="remarks"></a>Comentarios

Este método envía el mensaje [TVM_GETSELECTEDCOUNT](/windows/win32/Controls/tvm-getselectedcount) , que se describe en el Windows SDK.

##  <a name="getselecteditem"></a>  CTreeCtrl::GetSelectedItem

Llame a esta función para recuperar el elemento seleccionado actualmente del control de vista de árbol.

```
HTREEITEM GetSelectedItem() const;
```

### <a name="return-value"></a>Valor devuelto

Identificador del elemento seleccionado; de lo contrario, NULL.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#24](../../mfc/reference/codesnippet/cpp/ctreectrl-class_27.cpp)]

##  <a name="gettextcolor"></a>  CTreeCtrl::GetTextColor

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_GETTEXTCOLOR](/windows/win32/Controls/tvm-gettextcolor), tal y como se describe en el Windows SDK.

```
COLORREF GetTextColor() const;
```

### <a name="return-value"></a>Valor devuelto

Valor de COLORREF que representa el color del texto actual. Si este valor es-1, el control usa el color del sistema para el color del texto.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl:: SetTextColor](#settextcolor).

##  <a name="gettooltips"></a>  CTreeCtrl::GetToolTips

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_GETTOOLTIPS](/windows/win32/Controls/tvm-gettooltips), tal y como se describe en el Windows SDK.

```
CToolTipCtrl* GetToolTips() const;
```

### <a name="return-value"></a>Valor devuelto

Un puntero a un objeto [CToolTipCtrl](../../mfc/reference/ctooltipctrl-class.md) que va a usar el control de árbol. Si la función miembro [Create](#create) usa el estilo TVS_NOTOOLTIPS, no se usa ninguna información sobre herramientas y se devuelve NULL.

### <a name="remarks"></a>Comentarios

La implementación de MFC `GetToolTips` de devuelve `CToolTipCtrl` un objeto, que es utilizado por el control de árbol, en lugar de un identificador para un control ToolTip.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#25](../../mfc/reference/codesnippet/cpp/ctreectrl-class_28.cpp)]

##  <a name="getvisiblecount"></a>  CTreeCtrl::GetVisibleCount

Llame a esta función para recuperar un recuento de los elementos visibles en un control de vista de árbol.

```
UINT GetVisibleCount() const;
```

### <a name="return-value"></a>Valor devuelto

El número de elementos visibles en el control de vista de árbol; de lo contrario,-1.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl:: SetCheck](#setcheck).

##  <a name="hittest"></a>  CTreeCtrl::HitTest

Llame a esta función para determinar la ubicación del punto especificado con respecto al área cliente de un control de vista de árbol.

```
HTREEITEM HitTest(
    CPoint pt,
    UINT* pFlags = NULL) const;

HTREEITEM HitTest(TVHITTESTINFO* pHitTestInfo) const;
```

### <a name="parameters"></a>Parámetros

*pt*<br/>
Coordenadas de cliente del punto que se va a probar.

*pFlags*<br/>
Puntero a un entero que recibe información sobre los resultados de la prueba de posicionamiento. Puede ser uno o varios de los valores que aparecen debajo del `flags` miembro en la sección Comentarios.

*pHitTestInfo*<br/>
Dirección de una estructura [TVHITTESTINFO](/windows/win32/api/commctrl/ns-commctrl-tvhittestinfo) que contiene la posición para la prueba de posicionamiento y que recibe información sobre los resultados de la prueba de posicionamiento.

### <a name="return-value"></a>Valor devuelto

Identificador del elemento de vista de árbol que ocupa el punto especificado o NULL si ningún elemento ocupa el punto.

### <a name="remarks"></a>Comentarios

Cuando se llama a esta función, el parámetro *PT* especifica las coordenadas del punto que se va a probar. La función devuelve el identificador del elemento en el punto especificado o NULL si ningún elemento ocupa el punto. Además, el parámetro *pFlags* contiene un valor que indica la ubicación del punto especificado. Los valores posibles son:

|||
|-|-|
|Value|Significado|
|TVHT_ABOVE|Encima del área cliente.|
|TVHT_BELOW|Debajo del área cliente.|
|TVHT_NOWHERE|En el área cliente, pero debajo del último elemento.|
|TVHT_ONITEM|En el mapa de bits o la etiqueta asociada a un elemento.|
|TVHT_ONITEMBUTTON|En el botón asociado a un elemento.|
|TVHT_ONITEMICON|En el mapa de bits asociado a un elemento.|
|TVHT_ONITEMINDENT|En la sangría asociada a un elemento.|
|TVHT_ONITEMLABEL|En la etiqueta (cadena) asociada a un elemento.|
|TVHT_ONITEMRIGHT|En el área situada a la derecha de un elemento.|
|TVHT_ONITEMSTATEICON|En el icono de estado de un elemento de vista de árbol que se encuentra en un estado definido por el usuario.|
|TVHT_TOLEFT|A la izquierda del área cliente.|
|TVHT_TORIGHT|A la derecha del área cliente.|
|||

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#26](../../mfc/reference/codesnippet/cpp/ctreectrl-class_29.cpp)]

##  <a name="insertitem"></a>  CTreeCtrl::InsertItem

Llame a esta función para insertar un nuevo elemento en un control de vista de árbol.

```
HTREEITEM InsertItem(LPTVINSERTSTRUCT lpInsertStruct);

HTREEITEM InsertItem(
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    int nSelectedImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam,
    HTREEITEM hParent,
    HTREEITEM hInsertAfter);

HTREEITEM InsertItem(
    LPCTSTR lpszItem,
    HTREEITEM hParent = TVI_ROOT,
    HTREEITEM hInsertAfter = TVI_LAST);

HTREEITEM InsertItem(
    LPCTSTR lpszItem,
    int nImage,
    int nSelectedImage,
    HTREEITEM hParent = TVI_ROOT,
    HTREEITEM hInsertAfter = TVI_LAST);
```

### <a name="parameters"></a>Parámetros

*lpInsertStruct*<br/>
Puntero a un `TVINSERTSTRUCT` objeto que especifica los atributos del elemento de vista de árbol que se va a insertar.

*nMask*<br/>
Entero que especifica los atributos que se van a establecer. Vea la `TVITEM` estructura en el Windows SDK.

*lpszItem*<br/>
Dirección de una cadena que contiene el texto del elemento.

*nImage*<br/>
Índice de la imagen del elemento en la lista de imágenes del control de vista de árbol.

*nSelectedImage*<br/>
Índice de la imagen seleccionada del elemento en la lista de imágenes del control de vista de árbol.

*nState*<br/>
Especifica valores para los Estados del elemento. Vea Estados de elemento de control de vista de árbol en el Windows SDK para obtener una lista de los Estados adecuados.

*nStateMask*<br/>
Especifica los Estados que se van a establecer. Vea la `TVITEM` estructura en el Windows SDK.

*lParam*<br/>
Valor específico de la aplicación de 32 bits asociado al elemento.

*hParent*<br/>
Identificador del elemento primario del elemento insertado.

*hInsertAfter*<br/>
Identificador del elemento después del cual se va a insertar el nuevo elemento.

### <a name="return-value"></a>Valor devuelto

Identificador del nuevo elemento si se realiza correctamente; de lo contrario, NULL.

### <a name="remarks"></a>Comentarios

En el ejemplo se muestran situaciones en las que puede que desee utilizar cada versión de la función al insertar un elemento de control de árbol.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#27](../../mfc/reference/codesnippet/cpp/ctreectrl-class_30.cpp)]

##  <a name="itemhaschildren"></a>  CTreeCtrl::ItemHasChildren

Utilice esta función para determinar si el elemento de árbol especificado por *hItem* tiene elementos secundarios.

```
BOOL ItemHasChildren(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador de un elemento de árbol.

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el elemento de árbol especificado por *hItem* tiene elementos secundarios; 0 si no es así.

### <a name="remarks"></a>Comentarios

Si es así, puede usar [CTreeCtrl:: GetChildItem](#getchilditem) para recuperar los elementos secundarios.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl:: GetSelectedItem](#getselecteditem).

##  <a name="mapaccidtoitem"></a>  CTreeCtrl::MapAccIdToItem

Asigna el identificador de accesibilidad especificado al identificador de un elemento de vista de árbol en el control de vista de árbol actual.

```
HTREEITEM MapAccIdToItem(UINT uAccId) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|DESCRIPCIÓN|
|---------------|-----------------|
|*uAccId*|de Identificador de accesibilidad de un elemento en el elemento de vista de árbol.|

### <a name="return-value"></a>Valor devuelto

Identificador de un elemento de vista de árbol ( `HTREEITEM`) que corresponde al parámetro *uAccId* . Para obtener más información, vea el miembro *hItem* de la estructura [TVITEMEX](/windows/win32/api/commctrl/ns-commctrl-tvitemexw) .

### <a name="remarks"></a>Comentarios

Las ayudas de accesibilidad son aplicaciones que ayudan a las personas con discapacidades a usar equipos. La `IAccessible` interfaz utiliza un identificador de accesibilidad para especificar de forma única un elemento en una ventana. Para obtener más información acerca de los identificadores de accesibilidad, busque el tema "acerca de la compatibilidad con Active Accessibility" en [Microsoft Developer Network](https://go.microsoft.com/fwlink/p/?linkid=56322).

Este método envía el mensaje [TVM_MAPACCIDTOHTREEITEM](/windows/win32/Controls/tvm-mapaccidtohtreeitem) , que se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se define `m_treeCtrl`una variable,, que se utiliza para tener acceso al control de vista de árbol actual. En el ejemplo de código también se define un entero sin signo y varias variables HTREEITEM. Estas variables se usan en el ejemplo siguiente.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se usa un identificador de accesibilidad y el método [CTreeCtrl:: MapAccIdToItem](#mapaccidtoitem) para recuperar un identificador del elemento de vista de árbol raíz. En el ejemplo se usa el identificador y el método [CTreeCtrl:: GetItemPartRect](#getitempartrect) para dibujar un rectángulo 3D alrededor de ese elemento. En una sección anterior del ejemplo de código, que no se muestra, creamos una vista de árbol que consta de un nodo raíz de país o región para el Estados Unidos, los subnodos de los Estados de Pennsylvania y Washington, y los elementos de árbol de las ciudades de esos Estados. Usamos el método [CTreeCtrl:: MapItemToAccID](#mapitemtoaccid) para asociar el elemento de vista de árbol raíz a un identificador de accesibilidad.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#5](../../mfc/reference/codesnippet/cpp/ctreectrl-class_18.cpp)]

##  <a name="mapitemtoaccid"></a>  CTreeCtrl::MapItemToAccID

Asigna el identificador especificado de un elemento de vista de árbol del control de vista de árbol actual a un identificador de accesibilidad.

```
UINT MapItemToAccID(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parámetros

|Parámetro|DESCRIPCIÓN|
|---------------|-----------------|
|*hItem*|de Identificador de un elemento de vista de árbol en el control. Para obtener más información, vea el miembro *hItem* de la estructura [TVITEMEX](/windows/win32/api/commctrl/ns-commctrl-tvitemexw) .|

### <a name="return-value"></a>Valor devuelto

Identificador de accesibilidad que corresponde al parámetro *hItem* .

### <a name="remarks"></a>Comentarios

Las ayudas de accesibilidad son aplicaciones que ayudan a las personas con discapacidades a usar equipos. La `IAccessible` interfaz utiliza un identificador de accesibilidad para especificar de forma única un elemento en una ventana. Para obtener más información acerca de los identificadores de accesibilidad, busque el tema "acerca de la compatibilidad con Active Accessibility" en [Microsoft Developer Network](https://go.microsoft.com/fwlink/p/?linkid=56322).

Este método envía el mensaje [TVM_MAPHTREEITEMTOACCID](/windows/win32/Controls/tvm-maphtreeitemtoaccid) , que se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se define `m_treeCtrl`una variable,, que se utiliza para tener acceso al control de vista de árbol actual. En el ejemplo de código también se define un entero sin signo y varias variables HTREEITEM. Estas variables se usan en el ejemplo siguiente.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se obtiene un número de identificación para un elemento de control de vista de árbol. En una sección anterior del ejemplo de código, que no se muestra, creamos una vista de árbol que consta de un nodo raíz de país o región para el Estados Unidos, los subnodos de los Estados de Pennsylvania y Washington, y los elementos de árbol de las ciudades de esos Estados. En este ejemplo de código se obtiene un número de identificación único para el nodo raíz Country/region.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#2](../../mfc/reference/codesnippet/cpp/ctreectrl-class_31.cpp)]

##  <a name="select"></a>  CTreeCtrl::Select

Llame a esta función para seleccionar el elemento de vista de árbol determinado, desplazar el elemento a la vista o volver a dibujar el elemento en el estilo utilizado para indicar el destino de una operación de arrastrar y colocar.

```
BOOL Select(
    HTREEITEM hItem,
    UINT nCode);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador de un elemento de árbol.

*nCode*<br/>
Tipo de acción que se va a realizar. Este parámetro puede ser uno de los siguientes valores:

- TVGN_CARET establece la selección en el elemento especificado.

- TVGN_DROPHILITE vuelve a dibujar el elemento especificado en el estilo utilizado para indicar el destino de una operación de arrastrar y colocar.

- TVGN_FIRSTVISIBLE desplaza la vista de árbol verticalmente para que el elemento determinado sea el primer elemento visible.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

Si *nCode* contiene el valor TVGN_CARET, la ventana primaria recibe los mensajes de notificación TVN_SELCHANGING y TVN_SELCHANGED. Además, si el elemento especificado es el elemento secundario de un elemento primario contraído, la lista de elementos secundarios del elemento primario se expande para mostrar el elemento especificado. En este caso, la ventana primaria recibe los mensajes de notificación TVN_ITEMEXPANDING y TVN_ITEMEXPANDED.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl:: HitTest](#hittest).

##  <a name="selectdroptarget"></a>  CTreeCtrl::SelectDropTarget

Llame a esta función para volver a dibujar el elemento en el estilo utilizado para indicar el destino de una operación de arrastrar y colocar.

```
BOOL SelectDropTarget(HTREEITEM hItem);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador de un elemento de árbol.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#9](../../mfc/reference/codesnippet/cpp/ctreectrl-class_9.cpp)]

##  <a name="selectitem"></a>  CTreeCtrl::SelectItem

Llame a esta función para seleccionar el elemento de vista de árbol determinado.

```
BOOL SelectItem(HTREEITEM hItem);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador de un elemento de árbol.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

Si *hItem* es null, esta función no selecciona ningún elemento.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#26](../../mfc/reference/codesnippet/cpp/ctreectrl-class_29.cpp)]

##  <a name="selectsetfirstvisible"></a>  CTreeCtrl::SelectSetFirstVisible

Llame a esta función para desplazar la vista de árbol verticalmente de forma que el elemento determinado sea el primer elemento visible.

```
BOOL SelectSetFirstVisible(HTREEITEM hItem);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento de árbol que se va a establecer como primer elemento visible.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

La función envía un mensaje a la ventana con los parámetros de mensaje TVM_SELECTITEM y TVGN_FIRSTVISIBLE.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#28](../../mfc/reference/codesnippet/cpp/ctreectrl-class_32.cpp)]

##  <a name="setautoscrollinfo"></a>  CTreeCtrl::SetAutoscrollInfo

Establece la tasa de desplazamiento automático del control de vista de árbol actual.

```
BOOL SetAutoscrollInfo(
    UINT uPixelsPerSec,
    UINT uUpdateTime);
```

### <a name="parameters"></a>Parámetros

|Parámetro|DESCRIPCIÓN|
|---------------|-----------------|
|*uPixelsPerSec*|de Número de píxeles por segundo que se va a desplazar.|
|*uUpdateTime*|de Intervalo de tiempo entre las actualizaciones del control.|

### <a name="return-value"></a>Valor devuelto

Siempre devuelve TRUE.

### <a name="remarks"></a>Comentarios

Los parámetros de desplazamiento automático se utilizan para desplazarse en la vista de un elemento que no está visible actualmente. El control de vista de árbol debe tener el estilo extendido TVS_EX_AUTOHSCROLL, que se describe en [estilos extendidos del control de vista de árbol](/windows/win32/Controls/tree-view-control-window-extended-styles).

Este método envía el mensaje [TVM_SETAUTOSCROLLINFO](/windows/win32/Controls/tvm-setautoscrollinfo) , que se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se define `m_treeCtrl`una variable,, que se utiliza para tener acceso al control de vista de árbol actual. En el ejemplo de código también se define un entero sin signo y varias variables HTREEITEM. Estas variables se usan en el ejemplo siguiente.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se establece el comportamiento de desplazamiento automático del control de vista de árbol actual. En una sección anterior del ejemplo de código, que no se muestra, creamos una vista de árbol que consta de un nodo raíz de país o región para el Estados Unidos, los subnodos de los Estados de Pennsylvania y Washington, y los elementos de árbol de las ciudades de esos Estados. El control de vista de árbol se ha hecho estrecho de modo que debe desplazarse automáticamente para mostrar el elemento de árbol que tiene el foco. En el ejemplo de código se establece el control de vista de árbol para desplazarse automáticamente 30 píxeles por segundo cada 5 segundos hasta que el elemento de árbol esté en la vista.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#4](../../mfc/reference/codesnippet/cpp/ctreectrl-class_33.cpp)]

##  <a name="setbkcolor"></a>  CTreeCtrl::SetBkColor

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_SETBKCOLOR](/windows/win32/Controls/tvm-setbkcolor), tal y como se describe en el Windows SDK.

```
COLORREF SetBkColor(COLORREF clr);
```

### <a name="parameters"></a>Parámetros

*clr*<br/>
Valor de COLORREF que contiene el nuevo color de fondo. Si este valor es-1, el control volverá a usar el color del sistema para el color de fondo.

### <a name="return-value"></a>Valor devuelto

Valor de COLORREF que representa el color del texto actual. Si este valor es-1, el control usa el color del sistema para el color del texto.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl:: SetTextColor](#settextcolor).

##  <a name="setcheck"></a>  CTreeCtrl::SetCheck

Llame a esta función miembro para establecer el estado de activación de un elemento de control de árbol.

```
BOOL SetCheck(
    HTREEITEM hItem,
    BOOL fCheck = TRUE);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
HTREEITEM para recibir el cambio de estado de comprobación.

*fCheck*<br/>
Indica si el elemento de control de árbol debe comprobarse o desactivarse. De forma predeterminada `SetCheck` , establece el elemento que se va a comprobar.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

Cuando se activa el elemento de control de árbol ( *visite* establecido en true), el elemento aparece con una marca de verificación adyacente.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#29](../../mfc/reference/codesnippet/cpp/ctreectrl-class_34.cpp)]

### <a name="example"></a>Ejemplo

Para usar casillas, establezca TVS_CHECKBOXES antes de rellenar el control de árbol.

[!code-cpp[NVC_MFC_CTreeCtrl#30](../../mfc/reference/codesnippet/cpp/ctreectrl-class_35.cpp)]

##  <a name="setextendedstyle"></a>  CTreeCtrl::SetExtendedStyle

Establece los estilos extendidos para el control de vista de árbol actual.

```
DWORD SetExtendedStyle(
    DWORD dwExMask,
    DWORD dwExStyles);
```

### <a name="parameters"></a>Parámetros

|Parámetro|DESCRIPCIÓN|
|---------------|-----------------|
|*dwExMask*|de Máscara de bits que especifica qué estilos del control de vista de árbol actual se ven afectados por este método. Si este parámetro es cero, se omite y se asigna el valor del parámetro *dwExStyles* al control de vista de árbol.<br /><br /> Especifique cero o una combinación bit a bit (o) de estilos que se describen en [estilos extendidos del control de vista de árbol](/windows/win32/Controls/tree-view-control-window-extended-styles).|
|*dwExStyles*|de Máscara de bits que especifica los estilos del control de vista de árbol actual que se van a establecer o borrar.<br /><br /> Para establecer una combinación de estilos, especifique una combinación bit a bit (o) de estilos que se describen en [estilos extendidos del control de vista de árbol](/windows/win32/Controls/tree-view-control-window-extended-styles). Para borrar un conjunto de estilos, especifique cero.|

### <a name="return-value"></a>Valor devuelto

Valor que contiene los estilos de control extendido anteriores.

### <a name="remarks"></a>Comentarios

Este método borra los estilos especificados en el parámetro *dwExMask* y, a continuación, establece los estilos especificados en el parámetro *dwExStyles* . Solo cambian los estilos extendidos que se corresponden con los bits de *dwExMask* .

Este método envía el mensaje [TVM_SETEXTENDEDSTYLE](/windows/win32/Controls/tvm-setextendedstyle) , que se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se define `m_treeCtrl`una variable,, que se utiliza para tener acceso al control de vista de árbol actual. En el ejemplo de código también se define un entero sin signo y varias variables HTREEITEM. Estas variables se usan en el ejemplo siguiente.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se agrega el estilo extendido TVS_EX_AUTOHSCROLL al control de vista de árbol actual. En una sección anterior del ejemplo de código, que no se muestra, creamos una vista de árbol que consta de un nodo raíz de país o región para el Estados Unidos, los subnodos de los Estados de Pennsylvania y Washington, y los elementos de árbol de las ciudades de esos Estados. El control de vista de árbol se ha hecho estrecho de modo que debe desplazarse automáticamente para mostrar el elemento de árbol que tiene el foco.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#3](../../mfc/reference/codesnippet/cpp/ctreectrl-class_36.cpp)]

##  <a name="setimagelist"></a>  CTreeCtrl::SetImageList

Llame a esta función para establecer la lista de imágenes normal o de estado de un control de vista de árbol y vuelva a dibujar el control con las nuevas imágenes.

```
CImageList* SetImageList(
    CImageList* pImageList,
    int nImageListType);
```

### <a name="parameters"></a>Parámetros

*pImageList*<br/>
Puntero a la lista de imágenes que se va a asignar. Si *pImageList* es null, todas las imágenes se quitan del control de vista de árbol.

*nImageListType*<br/>
Tipo de lista de imágenes que se va a establecer. La lista de imágenes puede tener uno de los valores siguientes:

- TVSIL_NORMAL establece la lista de imágenes normal, que contiene las imágenes seleccionadas y no seleccionadas del elemento de vista de árbol. Debe usar este estado para las imágenes superpuestas.

- TVSIL_STATE establece la lista de imágenes de estado, que contiene las imágenes de los elementos de la vista de árbol que se encuentran en un estado definido por el usuario.

### <a name="return-value"></a>Valor devuelto

Puntero a la lista de imágenes anterior, si existe; de lo contrario, NULL.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl:: GetImageList](#getimagelist).

##  <a name="setindent"></a>  CTreeCtrl::SetIndent

Llame a esta función para establecer el ancho de la sangría de un control de vista de árbol y vuelva a dibujar el control para reflejar el nuevo ancho.

```
void SetIndent(UINT nIndent);
```

### <a name="parameters"></a>Parámetros

*nIndent*<br/>
Ancho, en píxeles, de la sangría. Si *nIndent* es menor que el ancho mínimo definido por el sistema, el nuevo ancho se establece en el mínimo definido por el sistema.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl:: GetIndent](#getindent).

##  <a name="setinsertmark"></a>  CTreeCtrl::SetInsertMark

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_SETINSERTMARK](/windows/win32/Controls/tvm-setinsertmark), tal y como se describe en el Windows SDK.

```
BOOL SetInsertMark(
    HTREEITEM hItem,
    BOOL fAfter = TRUE);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
HTREEITEM que especifica en qué elemento se colocará la marca de inserción. Si este argumento es NULL, se quita la marca de inserción.

*fAfter*<br/>
Valor BOOLEANO que especifica si la marca de inserción se coloca antes o después del elemento especificado. Si este argumento es distinto de cero, la marca de inserción se colocará después del elemento. Si este argumento es cero, la marca de inserción se colocará delante del elemento.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#31](../../mfc/reference/codesnippet/cpp/ctreectrl-class_37.cpp)]

##  <a name="setinsertmarkcolor"></a>  CTreeCtrl::SetInsertMarkColor

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_SETINSERTMARKCOLOR](/windows/win32/Controls/tvm-setinsertmarkcolor), tal y como se describe en el Windows SDK.

```
COLORREF SetInsertMarkColor(COLORREF clrNew);
```

### <a name="parameters"></a>Parámetros

*clrNew*<br/>
Valor de COLORREF que contiene el nuevo color de la marca de inserción.

### <a name="return-value"></a>Valor devuelto

Valor de COLORREF que contiene el color de la marca de inserción anterior.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl:: GetInsertMarkColor](#getinsertmarkcolor).

##  <a name="setitem"></a>  CTreeCtrl::SetItem

Llame a esta función para establecer los atributos del elemento de vista de árbol especificado.

```
BOOL SetItem(TVITEM* pItem);

BOOL SetItem(
    HTREEITEM hItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    int nSelectedImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam);
```

### <a name="parameters"></a>Parámetros

*pItem*<br/>
Puntero a una estructura [TVITEM](/windows/win32/api/commctrl/ns-commctrl-tvitemw) que contiene los nuevos atributos de elemento, como se describe en el Windows SDK.

*hItem*<br/>
Identificador del elemento cuyos atributos se van a establecer. Vea el `hItem` miembro de la `TVITEM` estructura en el Windows SDK.

*nMask*<br/>
Entero que especifica los atributos que se van a establecer. Vea el `mask` miembro de la `TVITEM` estructura.

*lpszItem*<br/>
Dirección de una cadena que contiene el texto del elemento.

*nImage*<br/>
Índice de la imagen del elemento en la lista de imágenes del control de vista de árbol. Vea el `iImage` miembro de la `TVITEM` estructura.

*nSelectedImage*<br/>
Índice de la imagen seleccionada del elemento en la lista de imágenes del control de vista de árbol. Vea el `iSelectedImage` miembro de la `TVITEM` estructura.

*nState*<br/>
Especifica valores para los Estados del elemento. Vea el `State` miembro de la `TVITEM` estructura.

*nStateMask*<br/>
Especifica los Estados que se van a establecer. Vea el `stateMask` miembro de la `TVITEM` estructura.

*lParam*<br/>
Valor específico de la aplicación de 32 bits asociado al elemento.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

En la `TVITEM` estructura, el `hItem` miembro identifica el elemento y el `mask` miembro especifica los atributos que se van a establecer.

Si el `mask` parámetro Member o *nMask* especifica el valor TVIF_TEXT, el `pszText` miembro o *lpszItem* es la dirección de una cadena terminada en NULL y se omite `cchTextMax` el miembro. Si `mask` (o *nMask*) especifica el valor TVIF_STATE, el `stateMask` miembro o el parámetro *nStateMask* especifica los Estados de los elementos que se `state` van a cambiar y el parámetro Member o *nState* contiene los valores de estos Estados.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#32](../../mfc/reference/codesnippet/cpp/ctreectrl-class_38.cpp)]

##  <a name="setitemdata"></a>  CTreeCtrl::SetItemData

Llame a esta función para establecer el valor específico de la aplicación de 32 bits asociado al elemento especificado.

```
BOOL SetItemData(
    HTREEITEM hItem,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento cuyos datos se van a recuperar.

*dwData*<br/>
Valor específico de la aplicación de 32 bits asociado al elemento especificado por *hItem*.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#33](../../mfc/reference/codesnippet/cpp/ctreectrl-class_39.cpp)]

##  <a name="setitemexpandedimageindex"></a>  CTreeCtrl::SetItemExpandedImageIndex

Establece el índice de la imagen que se va a mostrar cuando el elemento especificado del control de vista de árbol actual se encuentra en el estado expandido.

```
BOOL SetItemExpandedImageIndex(
    HTREEITEM hItem,
    int iExpandedImage);
```

### <a name="parameters"></a>Parámetros

|Parámetro|DESCRIPCIÓN|
|---------------|-----------------|
|*hItem*|de Identificador de un elemento de control de vista de árbol.|
|*iExpandedImage*|de Índice de la imagen que se va a mostrar cuando el elemento especificado se encuentra en el estado expandido.|

### <a name="return-value"></a>Valor devuelto

TRUE si este método se realiza correctamente; en caso contrario, FALSE.

### <a name="remarks"></a>Comentarios

Este método envía el mensaje [TVM_SETITEM](/windows/win32/Controls/tvm-setitem) , que se describe en el Windows SDK. Este método asigna el parámetro *iExpandedImage* al `iExpandedImage` miembro de una estructura [TVITEMEX](/windows/win32/api/commctrl/ns-commctrl-tvitemexw) y, a continuación, usa esa estructura en el mensaje.

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se define `m_treeCtrl`una variable,, que se utiliza para tener acceso al control de vista de árbol actual. En el ejemplo de código también se define un entero sin signo y varias variables HTREEITEM. Estas variables se usan en el ejemplo siguiente.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Ejemplo

El siguiente ejemplo de código es una prueba trivial para determinar si el método [CTreeCtrl:: GetItemExpandedImageIndex](#getitemexpandedimageindex) devuelve el valor establecido por el método [CTreeCtrl:: SetItemExpandedImageIndex](#setitemexpandedimageindex) . En una sección anterior del ejemplo de código, que no se muestra, creamos una vista de árbol que consta de un nodo raíz de país o región para el Estados Unidos, los subnodos de los Estados de Pennsylvania y Washington, y los elementos de árbol de las ciudades de esos Estados.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#8](../../mfc/reference/codesnippet/cpp/ctreectrl-class_40.cpp)]

##  <a name="setitemheight"></a>  CTreeCtrl::SetItemHeight

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_SETITEMHEIGHT](/windows/win32/Controls/tvm-setitemheight), tal y como se describe en el Windows SDK.

```
SHORT SetItemHeight(SHORT cyHeight);
```

### <a name="parameters"></a>Parámetros

*cyHeight*<br/>
Especifica el nuevo alto de cada elemento en la vista de árbol, en píxeles. Si este argumento es menor que el alto de las imágenes, se establecerá en el alto de las imágenes. Si este argumento no es par, se redondeará al valor par más cercano. Si este argumento es-1, el control volverá a usar su alto predeterminado del elemento.

### <a name="return-value"></a>Valor devuelto

Alto anterior de los elementos, en píxeles.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl:: GetItemHeight](#getitemheight).

##  <a name="setitemimage"></a>  CTreeCtrl::SetItemImage

Asocia imágenes a un elemento.

```
BOOL SetItemImage(
    HTREEITEM hItem,
    int nImage,
    int nSelectedImage);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento cuya imagen se va a establecer.

*nImage*<br/>
Índice de la imagen del elemento en la lista de imágenes del control de vista de árbol.

*nSelectedImage*<br/>
Índice de la imagen seleccionada del elemento en la lista de imágenes del control de vista de árbol.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

Cada elemento de un control de vista de árbol puede tener asociado un par de imágenes de mapa de columnas. Las imágenes aparecen en el lado izquierdo de la etiqueta de un elemento. Cuando el elemento está seleccionado, se muestra una imagen y la otra se muestra cuando no se selecciona el elemento. Por ejemplo, un elemento podría mostrar una carpeta abierta cuando se selecciona y una carpeta cerrada cuando no está seleccionada.

Llame a esta función para establecer el índice de la imagen del elemento y su imagen seleccionada en la lista de imágenes del control de vista de árbol.

Para obtener más información sobre las imágenes, vea [CImageList](../../mfc/reference/cimagelist-class.md).

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl:: GetItemImage](#getitemimage).

##  <a name="setitemstate"></a>  CTreeCtrl::SetItemState

Establece el estado del elemento especificado por *hItem*.

```
BOOL SetItemState(
    HTREEITEM hItem,
    UINT nState,
    UINT nStateMask);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento cuyo estado se va a establecer.

*nState*<br/>
Especifica los nuevos Estados del elemento.

*nStateMask*<br/>
Especifica los Estados que se van a cambiar.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

Para obtener información sobre los Estados, vea [CTreeCtrl:: GetItem](#getitem).

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl:: GetItemState](#getitemstate).

##  <a name="setitemstateex"></a>  CTreeCtrl::SetItemStateEx

Establece el estado extendido del elemento especificado en el control de vista de árbol actual.

```
BOOL SetItemStateEx(
    HTREEITEM hItem,
    UINT uStateEx);
```

### <a name="parameters"></a>Parámetros

|Parámetro|DESCRIPCIÓN|
|---------------|-----------------|
|*hItem*|de Identificador de un elemento de control de vista de árbol.|
|*uStateEx*|de Estado extendido del elemento. Para obtener más información, vea `uStateEx` el miembro de la estructura [TVITEMEX](/windows/win32/api/commctrl/ns-commctrl-tvitemexw) .|

### <a name="return-value"></a>Valor devuelto

TRUE si este método se realiza correctamente; en caso contrario, FALSE.

### <a name="remarks"></a>Comentarios

Este método envía el mensaje [TVM_SETITEM](/windows/win32/Controls/tvm-setitem) , que se describe en el Windows SDK. Este método asigna el parámetro *uStateEx* al `uStateEx` miembro de una estructura [TVITEMEX](/windows/win32/api/commctrl/ns-commctrl-tvitemexw) y, a continuación, usa esa estructura en el mensaje.

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se define `m_treeCtrl`una variable,, que se utiliza para tener acceso al control de vista de árbol actual. En el ejemplo de código también se define un entero sin signo y varias variables HTREEITEM. Estas variables se usan en el ejemplo siguiente.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Ejemplo

En el ejemplo de código siguiente se establece un elemento de vista de árbol en estado deshabilitado. En una sección anterior del ejemplo de código, que no se muestra, creamos una vista de árbol que consta de un nodo raíz de país o región para el Estados Unidos, los subnodos de los Estados de Pennsylvania y Washington, y los elementos de árbol de las ciudades de esos Estados. En este ejemplo de código se establece el nodo de Pennsylvania en estado deshabilitado.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#7](../../mfc/reference/codesnippet/cpp/ctreectrl-class_41.cpp)]

##  <a name="setitemtext"></a>  CTreeCtrl::SetItemText

Establece el texto del elemento especificado por *hItem*.

```
BOOL SetItemText(
    HTREEITEM hItem,
    LPCTSTR lpszItem);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento cuyo texto se va a establecer.

*lpszItem*<br/>
Dirección de una cadena que contiene el nuevo texto del elemento.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#34](../../mfc/reference/codesnippet/cpp/ctreectrl-class_42.cpp)]

##  <a name="setlinecolor"></a>  CTreeCtrl::SetLineColor

Llame a esta función miembro para establecer el color de línea actual para el control de vista de árbol.

```
COLORREF SetLineColor(COLORREF clrNew = CLR_DEFAULT);
```

### <a name="parameters"></a>Parámetros

*clrNew*<br/>
Nuevo color de línea.

### <a name="return-value"></a>Valor devuelto

Color de línea anterior.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_SETLINECOLOR](/windows/win32/Controls/tvm-setlinecolor), tal y como se describe en el Windows SDK.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#35](../../mfc/reference/codesnippet/cpp/ctreectrl-class_43.cpp)]

##  <a name="setscrolltime"></a>  CTreeCtrl::SetScrollTime

Llame a esta función miembro para establecer el tiempo de desplazamiento máximo para el control de vista de árbol.

```
UINT SetScrollTime(UINT uScrollTime);
```

### <a name="parameters"></a>Parámetros

*uScrollTime*<br/>
Nuevo tiempo de desplazamiento máximo, en milisegundos. Si este valor es inferior a 100, se redondeará a 100.

### <a name="return-value"></a>Valor devuelto

Tiempo de desplazamiento máximo anterior, en milisegundos.

### <a name="remarks"></a>Comentarios

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_SETSCROLLTIME](/windows/win32/Controls/tvm-setscrolltime), tal y como se describe en el Windows SDK.

##  <a name="settextcolor"></a>  CTreeCtrl::SetTextColor

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_SETTEXTCOLOR](/windows/win32/Controls/tvm-settextcolor), tal y como se describe en el Windows SDK.

```
COLORREF SetTextColor(COLORREF clr);
```

### <a name="parameters"></a>Parámetros

*clr*<br/>
Valor de COLORREF que contiene el nuevo color de texto. Si este argumento es-1, el control volverá a usar el color del sistema para el color del texto.

### <a name="return-value"></a>Valor devuelto

Valor de COLORREF que representa el color del texto anterior. Si este valor es-1, el control estaba usando el color del sistema para el color del texto.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#36](../../mfc/reference/codesnippet/cpp/ctreectrl-class_44.cpp)]

##  <a name="settooltips"></a>  CTreeCtrl::SetToolTips

Esta función miembro implementa el comportamiento del mensaje de Win32 [TVM_SETTOOLTIPS](/windows/win32/Controls/tvm-settooltips), tal y como se describe en el Windows SDK.

```
CToolTipCtrl* SetToolTips(CToolTipCtrl* pWndTip);
```

### <a name="parameters"></a>Parámetros

*pWndTip*<br/>
Un puntero a un objeto [CToolTipCtrl](../../mfc/reference/ctooltipctrl-class.md) que usará el control de árbol.

### <a name="return-value"></a>Valor devuelto

Un puntero a un objeto [CToolTipCtrl](../../mfc/reference/ctooltipctrl-class.md) que contiene la información sobre herramientas utilizada anteriormente por el control o null si no se ha utilizado previamente la información sobre herramientas.

### <a name="remarks"></a>Comentarios

Para usar la información sobre herramientas, indique el estilo TVS_NOTOOLTIPS al crear `CTreeCtrl` el objeto.

### <a name="example"></a>Ejemplo

  Vea el ejemplo de [CTreeCtrl:: GetToolTips](#gettooltips).

##  <a name="showinfotip"></a>  CTreeCtrl::ShowInfoTip

Muestra el recuadro informativo para el elemento especificado en el control de vista de árbol actual.

```
void ShowInfoTip(HTREEITEM hItem);
```

### <a name="parameters"></a>Parámetros

|Parámetro|DESCRIPCIÓN|
|---------------|-----------------|
|*hItem*|de Identificador de un elemento de vista de árbol del control. Para obtener más información, vea `hItem` el miembro de la estructura [TVITEMEX](/windows/win32/api/commctrl/ns-commctrl-tvitemexw) .|

### <a name="remarks"></a>Comentarios

Para obtener más información sobre la diferencia entre la información sobre herramientas y recuadros informativos, busque el tema "información sobre herramientas y recuadros informativos" en [Microsoft Developer Network](https://go.microsoft.com/fwlink/p/?linkid=56322).

Este método envía el mensaje [TVM_SHOWINFOTIP](/windows/win32/Controls/tvm-showinfotip) , que se describe en el Windows SDK.

##  <a name="sortchildren"></a>  CTreeCtrl::SortChildren

Llame a esta función para ordenar alfabéticamente los elementos secundarios del elemento primario dado en un control de vista de árbol.

```
BOOL SortChildren(HTREEITEM hItem);
```

### <a name="parameters"></a>Parámetros

*hItem*<br/>
Identificador del elemento primario cuyos elementos secundarios se van a ordenar. Si *hItem* es null, la ordenación continuará desde la raíz del árbol.

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

`SortChildren`no se recorrerá en el árbol; solo se ordenarán los elementos secundarios inmediatos de *hItem* .

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#37](../../mfc/reference/codesnippet/cpp/ctreectrl-class_45.cpp)]

##  <a name="sortchildrencb"></a>  CTreeCtrl::SortChildrenCB

Llame a esta función para ordenar los elementos de la vista de árbol usando una función de devolución de llamada definida por la aplicación que compara los elementos.

```
BOOL SortChildrenCB(LPTVSORTCB pSort);
```

### <a name="parameters"></a>Parámetros

*pSort*<br/>
Puntero a una estructura [TVSORTCB](/windows/win32/api/commctrl/ns-commctrl-tvsortcb) .

### <a name="return-value"></a>Valor devuelto

Si es correcta, su valor es distinto de cero. En caso contrario, es cero.

### <a name="remarks"></a>Comentarios

La función de comparación de la `lpfnCompare`estructura,, debe devolver un valor negativo si el primer elemento debe preceder al segundo, un valor positivo si el primer elemento debe seguir al segundo, o cero si los dos elementos son equivalentes.

Los parámetros *lParam1* y *lParam2* se corresponden con `lParam` el miembro de la estructura [TVITEM](/windows/win32/api/commctrl/ns-commctrl-tvitemw) de los dos elementos que se comparan. El parámetro *lParamSort* se corresponde con `lParam` el miembro de `TV_SORTCB` la estructura.

### <a name="example"></a>Ejemplo

[!code-cpp[NVC_MFC_CTreeCtrl#38](../../mfc/reference/codesnippet/cpp/ctreectrl-class_46.cpp)]

[!code-cpp[NVC_MFC_CTreeCtrl#39](../../mfc/reference/codesnippet/cpp/ctreectrl-class_47.cpp)]

## <a name="see-also"></a>Vea también

[Ejemplo de MFC CMNCTRL1](../../overview/visual-cpp-samples.md)<br/>
[CWnd (clase)](../../mfc/reference/cwnd-class.md)<br/>
[Gráfico de jerarquías](../../mfc/hierarchy-chart.md)<br/>
[CImageList (clase)](../../mfc/reference/cimagelist-class.md)
