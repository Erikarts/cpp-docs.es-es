---
title: Clase CMFCToolBarButton
ms.date: 11/04/2016
f1_keywords:
- CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeDropped
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeStored
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeStretched
- AFXTOOLBARBUTTON/CMFCToolBarButton::CompareWith
- AFXTOOLBARBUTTON/CMFCToolBarButton::CopyFrom
- AFXTOOLBARBUTTON/CMFCToolBarButton::CreateFromOleData
- AFXTOOLBARBUTTON/CMFCToolBarButton::EnableWindow
- AFXTOOLBARBUTTON/CMFCToolBarButton::ExportToMenuButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetClipboardFormat
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetHwnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetInvalidateRect
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetParentWnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetProtectedCommands
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetTextSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::HasFocus
- AFXTOOLBARBUTTON/CMFCToolBarButton::HaveHotBorder
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDrawImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDrawText
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDroppedDown
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsEditable
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsExtraSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsFirstInGroup
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsHidden
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsHorizontal
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsLastInGroup
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsLocked
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsOwnerOf
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsWindowVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::NotifyCommand
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnAddToCustomizePage
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnBeforeDrag
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnBeforeDrop
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCalculateSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCancelMode
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnChangeParentWnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnClick
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnClickUp
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnContextHelp
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCtlColor
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCustomizeMenu
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDblClk
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDraw
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDrawOnCustomizeList
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnGetCustomToolTipText
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnGlobalFontsChanged
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnMove
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnShow
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnToolHitTest
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnUpdateToolTip
- AFXTOOLBARBUTTON/CMFCToolBarButton::PrepareDrag
- AFXTOOLBARBUTTON/CMFCToolBarButton::Rect
- AFXTOOLBARBUTTON/CMFCToolBarButton::ResetImageToDefault
- AFXTOOLBARBUTTON/CMFCToolBarButton::SaveBarState
- AFXTOOLBARBUTTON/CMFCToolBarButton::Serialize
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetACCData
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetClipboardFormatName
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetProtectedCommands
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetRadio
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetRect
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetStyle
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::Show
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bTextBelow
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bUserButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWholeText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWrap
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWrapText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_nID
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_nStyle
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_strText
helpviewer_keywords:
- CMFCToolBarButton [MFC], CMFCToolBarButton
- CMFCToolBarButton [MFC], CanBeDropped
- CMFCToolBarButton [MFC], CanBeStored
- CMFCToolBarButton [MFC], CanBeStretched
- CMFCToolBarButton [MFC], CompareWith
- CMFCToolBarButton [MFC], CopyFrom
- CMFCToolBarButton [MFC], CreateFromOleData
- CMFCToolBarButton [MFC], EnableWindow
- CMFCToolBarButton [MFC], ExportToMenuButton
- CMFCToolBarButton [MFC], GetClipboardFormat
- CMFCToolBarButton [MFC], GetHwnd
- CMFCToolBarButton [MFC], GetImage
- CMFCToolBarButton [MFC], GetInvalidateRect
- CMFCToolBarButton [MFC], GetParentWnd
- CMFCToolBarButton [MFC], GetProtectedCommands
- CMFCToolBarButton [MFC], GetTextSize
- CMFCToolBarButton [MFC], HasFocus
- CMFCToolBarButton [MFC], HaveHotBorder
- CMFCToolBarButton [MFC], IsDrawImage
- CMFCToolBarButton [MFC], IsDrawText
- CMFCToolBarButton [MFC], IsDroppedDown
- CMFCToolBarButton [MFC], IsEditable
- CMFCToolBarButton [MFC], IsExtraSize
- CMFCToolBarButton [MFC], IsFirstInGroup
- CMFCToolBarButton [MFC], IsHidden
- CMFCToolBarButton [MFC], IsHorizontal
- CMFCToolBarButton [MFC], IsLastInGroup
- CMFCToolBarButton [MFC], IsLocked
- CMFCToolBarButton [MFC], IsOwnerOf
- CMFCToolBarButton [MFC], IsVisible
- CMFCToolBarButton [MFC], IsWindowVisible
- CMFCToolBarButton [MFC], NotifyCommand
- CMFCToolBarButton [MFC], OnAddToCustomizePage
- CMFCToolBarButton [MFC], OnBeforeDrag
- CMFCToolBarButton [MFC], OnBeforeDrop
- CMFCToolBarButton [MFC], OnCalculateSize
- CMFCToolBarButton [MFC], OnCancelMode
- CMFCToolBarButton [MFC], OnChangeParentWnd
- CMFCToolBarButton [MFC], OnClick
- CMFCToolBarButton [MFC], OnClickUp
- CMFCToolBarButton [MFC], OnContextHelp
- CMFCToolBarButton [MFC], OnCtlColor
- CMFCToolBarButton [MFC], OnCustomizeMenu
- CMFCToolBarButton [MFC], OnDblClk
- CMFCToolBarButton [MFC], OnDraw
- CMFCToolBarButton [MFC], OnDrawOnCustomizeList
- CMFCToolBarButton [MFC], OnGetCustomToolTipText
- CMFCToolBarButton [MFC], OnGlobalFontsChanged
- CMFCToolBarButton [MFC], OnMove
- CMFCToolBarButton [MFC], OnShow
- CMFCToolBarButton [MFC], OnSize
- CMFCToolBarButton [MFC], OnToolHitTest
- CMFCToolBarButton [MFC], OnUpdateToolTip
- CMFCToolBarButton [MFC], PrepareDrag
- CMFCToolBarButton [MFC], Rect
- CMFCToolBarButton [MFC], ResetImageToDefault
- CMFCToolBarButton [MFC], SaveBarState
- CMFCToolBarButton [MFC], Serialize
- CMFCToolBarButton [MFC], SetACCData
- CMFCToolBarButton [MFC], SetClipboardFormatName
- CMFCToolBarButton [MFC], SetImage
- CMFCToolBarButton [MFC], SetProtectedCommands
- CMFCToolBarButton [MFC], SetRadio
- CMFCToolBarButton [MFC], SetRect
- CMFCToolBarButton [MFC], SetStyle
- CMFCToolBarButton [MFC], SetVisible
- CMFCToolBarButton [MFC], Show
- CMFCToolBarButton [MFC], m_bImage
- CMFCToolBarButton [MFC], m_bText
- CMFCToolBarButton [MFC], m_bTextBelow
- CMFCToolBarButton [MFC], m_bUserButton
- CMFCToolBarButton [MFC], m_bWholeText
- CMFCToolBarButton [MFC], m_bWrap
- CMFCToolBarButton [MFC], m_bWrapText
- CMFCToolBarButton [MFC], m_nID
- CMFCToolBarButton [MFC], m_nStyle
- CMFCToolBarButton [MFC], m_strText
ms.assetid: 8a6ecffb-86b0-4f5c-8211-a9146b463efd
ms.openlocfilehash: 0793c1cecf07ddab8de93e9e5a2bc3af3513be97
ms.sourcegitcommit: fcb48824f9ca24b1f8bd37d647a4d592de1cc925
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/15/2019
ms.locfileid: "69504855"
---
# <a name="cmfctoolbarbutton-class"></a>Clase CMFCToolBarButton

Proporciona funcionalidad de botón a las barras de herramientas.

## <a name="syntax"></a>Sintaxis

```
class CMFCToolBarButton : public CObject
```

## <a name="members"></a>Miembros

### <a name="public-constructors"></a>Constructores públicos

|NOMBRE|DESCRIPCIÓN|
|----------|-----------------|
|[CMFCToolBarButton::CMFCToolBarButton](#cmfctoolbarbutton)|Construye e inicializa un objeto `CMFCToolBarButton`.|
|`CMFCToolBarButton::~CMFCToolBarButton`|Destructor.|

### <a name="public-methods"></a>Métodos públicos

|NOMBRE|DESCRIPCIÓN|
|----------|-----------------|
|[CMFCToolBarButton::CanBeDropped](#canbedropped)|Especifica si un usuario puede colocar un botón en una barra de herramientas o un menú durante la personalización.|
|[CMFCToolBarButton::CanBeStored](#canbestored)|Especifica si el botón se puede almacenar.|
|[CMFCToolBarButton::CanBeStretched](#canbestretched)|Especifica si un usuario puede ajustar el botón durante la personalización.|
|[CMFCToolBarButton::CompareWith](#comparewith)|Compara esta instancia con el objeto proporcionado `CMFCToolBarButton` .|
|[CMFCToolBarButton::CopyFrom](#copyfrom)|Copia las propiedades de otro botón de la barra de herramientas en el botón actual.|
|[CMFCToolBarButton::CreateFromOleData](#createfromoledata)|Crea un `CMFCToolBarButton` objeto a partir del `COleDataObject` objeto proporcionado.|
|`CMFCToolBarButton::CreateObject`|Usado por el marco de trabajo para crear una instancia dinámica de este tipo de clase.|
|[CMFCToolBarButton::EnableWindow](#enablewindow)|Habilita o deshabilita la entrada de mouse y de teclado.|
|[CMFCToolBarButton::ExportToMenuButton](#exporttomenubutton)|Copia texto del botón de la barra de herramientas en un menú.|
|[CMFCToolBarButton::GetClipboardFormat](#getclipboardformat)|Recupera el formato de Portapapeles global de la aplicación.|
|[CMFCToolBarButton::GetHwnd](#gethwnd)|Recupera el identificador de ventana asociado al botón de la barra de herramientas.|
|[CMFCToolBarButton::GetImage](#getimage)|Recupera el índice de la imagen del botón.|
|[CMFCToolBarButton::GetInvalidateRect](#getinvalidaterect)|Recupera la región del área cliente del botón que se debe volver a dibujar.|
|[CMFCToolBarButton::GetParentWnd](#getparentwnd)|Recupera la ventana primaria del botón.|
|[CMFCToolBarButton::GetProtectedCommands](#getprotectedcommands)|Recupera la lista de comandos que el usuario no puede personalizar.|
|[CMFCToolBarButton::GetTextSize](#gettextsize)|Recupera el tamaño del texto del botón.|
|[CMFCToolBarButton::HasFocus](#hasfocus)|Determina si el botón tiene el foco de entrada actual.|
|[CMFCToolBarButton::HaveHotBorder](#havehotborder)|Determina si se muestra un borde del botón cuando un usuario selecciona el botón.|
|[CMFCToolBarButton::IsDrawImage](#isdrawimage)|Determina si se muestra una imagen en el botón.|
|[CMFCToolBarButton::IsDrawText](#isdrawtext)|Determina si se muestra una etiqueta de texto en el botón.|
|[CMFCToolBarButton::IsDroppedDown](#isdroppeddown)|Determina si el botón muestra un submenú.|
|[CMFCToolBarButton::IsEditable](#iseditable)|Determina si el botón se puede personalizar.|
|[CMFCToolBarButton::IsExtraSize](#isextrasize)|Determina si el botón se puede mostrar con un borde extendido.|
|[CMFCToolBarButton::IsFirstInGroup](#isfirstingroup)|Determina si el botón está en la primera posición en el grupo de botones.|
|[CMFCToolBarButton::IsHidden](#ishidden)|Determina si el botón está oculto.|
|[CMFCToolBarButton::IsHorizontal](#ishorizontal)|Determina si el botón se encuentra en una barra de herramientas horizontal.|
|[CMFCToolBarButton::IsLastInGroup](#islastingroup)|Especifica si el botón está en la última posición en el grupo de botones.|
|[CMFCToolBarButton::IsLocked](#islocked)|Determina si el botón está en una barra de herramientas bloqueada (no personalizable).|
|[CMFCToolBarButton::IsOwnerOf](#isownerof)|Determina si el botón es el propietario del identificador de ventana proporcionado.|
|[CMFCToolBarButton::IsVisible](#isvisible)|Determina si el botón de la barra de herramientas está visible.|
|[CMFCToolBarButton::IsWindowVisible](#iswindowvisible)|Determina si el identificador de ventana subyacente del botón está visible.|
|[CMFCToolBarButton::NotifyCommand](#notifycommand)|Especifica si el botón procesa el mensaje [WM_COMMAND](/windows/win32/menurc/wm-command) .|
|[CMFCToolBarButton::OnAddToCustomizePage](#onaddtocustomizepage)|Lo llama el marco de trabajo cuando el botón se agrega a un cuadro de diálogo de **Personalización** .|
|[CMFCToolBarButton::OnBeforeDrag](#onbeforedrag)|Especifica si se puede arrastrar el botón.|
|[CMFCToolBarButton::OnBeforeDrop](#onbeforedrop)|Especifica si un usuario puede colocar el botón en la barra de herramientas de destino.|
|[CMFCToolBarButton::OnCalculateSize](#oncalculatesize)|Lo llama el marco de trabajo para calcular el tamaño del botón para el contexto de dispositivo y el estado de acoplamiento especificados.|
|[CMFCToolBarButton::OnCancelMode](#oncancelmode)|Lo llama el marco de trabajo para controlar el mensaje de [WM_CANCELMODE](/windows/win32/winmsg/wm-cancelmode) .|
|[CMFCToolBarButton::OnChangeParentWnd](#onchangeparentwnd)|Lo llama el marco de trabajo cuando el botón se inserta en una nueva barra de herramientas.|
|[CMFCToolBarButton::OnClick](#onclick)|Lo llama el marco de trabajo cuando el usuario hace clic con el botón del mouse.|
|[CMFCToolBarButton::OnClickUp](#onclickup)|Lo llama el marco de trabajo cuando el usuario suelta el botón del mouse.|
|[CMFCToolBarButton::OnContextHelp](#oncontexthelp)|Lo llama el marco de trabajo cuando la barra de herramientas primaria controla un mensaje WM_HELPHITTEST.|
|[CMFCToolBarButton::OnCtlColor](#onctlcolor)|Lo llama el marco de trabajo cuando la barra de herramientas primaria controla un mensaje WM_CTLCOLOR.|
|[CMFCToolBarButton::OnCustomizeMenu](#oncustomizemenu)|Permite al botón modificar el menú proporcionado cuando la aplicación muestra un menú contextual en la barra de herramientas primaria.|
|[CMFCToolBarButton::OnDblClk](#ondblclk)|Lo llama el marco de trabajo cuando la barra de herramientas primaria controla un mensaje [WM_LBUTTONDBLCLK](/windows/win32/inputdev/wm-lbuttondblclk) .|
|[CMFCToolBarButton::OnDraw](#ondraw)|Lo llama el marco de trabajo para dibujar el botón usando los estilos y las opciones especificados.|
|[CMFCToolBarButton::OnDrawOnCustomizeList](#ondrawoncustomizelist)|Lo llama el marco de trabajo para dibujar el botón en el panel **comandos** del cuadro de diálogo **personalizar** .|
|[CMFCToolBarButton::OnGetCustomToolTipText](#ongetcustomtooltiptext)|Lo llama el marco de trabajo para recuperar el texto de información sobre herramientas personalizado para el botón.|
|[CMFCToolBarButton::OnGlobalFontsChanged](#onglobalfontschanged)|Lo llama el marco de trabajo cuando ha cambiado la fuente global.|
|[CMFCToolBarButton::OnMove](#onmove)|Lo llama el marco de trabajo cuando se mueve la barra de herramientas primaria.|
|[CMFCToolBarButton::OnShow](#onshow)|Lo llama el marco de trabajo cuando el botón se vuelve visible o invisible.|
|[CMFCToolBarButton::OnSize](#onsize)|Lo llama el marco de trabajo cuando cambia el tamaño o la posición de la barra de herramientas primaria y este cambio requiere que el botón cambie de tamaño.|
|[CMFCToolBarButton::OnToolHitTest](#ontoolhittest)|Lo llama el marco de trabajo cuando la barra de herramientas primaria debe determinar si un punto está en el rectángulo delimitador del botón.|
|[CMFCToolBarButton::OnUpdateToolTip](#onupdatetooltip)|Lo llama el marco de trabajo cuando la barra de herramientas primaria actualiza el texto de información sobre herramientas.|
|[CMFCToolBarButton::PrepareDrag](#preparedrag)|Lo llama el marco de trabajo cuando el botón está a punto de realizar una operación de arrastrar y colocar.|
|[CMFCToolBarButton::Rect](#rect)|Recupera el rectángulo delimitador del botón.|
|[CMFCToolBarButton::ResetImageToDefault](#resetimagetodefault)|Establece en el valor predeterminado la imagen asociada al botón.|
|[CMFCToolBarButton::SaveBarState](#savebarstate)|Guarda el estado del botón de la barra de herramientas.|
|[CMFCToolBarButton::Serialize](#serialize)|Lee este objeto de un archivo o lo escribe en un archivo. (Invalida [CObject::Serialize](../../mfc/reference/cobject-class.md#serialize)).|
|[CMFCToolBarButton::SetACCData](#setaccdata)|Rellena el objeto proporcionado `CAccessibilityData` con los datos de accesibilidad del botón de la barra de herramientas.|
|[CMFCToolBarButton::SetClipboardFormatName](#setclipboardformatname)|Cambia el nombre del portapapeles global.|
|[CMFCToolBarButton::SetImage](#setimage)|Establece el índice de la imagen del botón.|
|[CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands)|Establece la lista de comandos que el usuario no puede personalizar.|
|[CMFCToolBarButton::SetRadio](#setradio)|Lo llama el marco de trabajo cuando un botón cambia su estado de activación.|
|[CMFCToolBarButton::SetRect](#setrect)|Establece el rectángulo delimitador del botón.|
|[CMFCToolBarButton::SetStyle](#setstyle)|Establece el estilo del botón.|
|[CMFCToolBarButton::SetVisible](#setvisible)|Especifica si el botón está visible.|
|[CMFCToolBarButton::Show](#show)|Muestra u oculta el botón.|

### <a name="data-members"></a>Miembros de datos

|NOMBRE|DESCRIPCIÓN|
|----------|-----------------|
|[CMFCToolBarButton::m_bImage](#m_bimage)|Especifica si se muestra una imagen en el botón.|
|[CMFCToolBarButton::m_bText](#m_btext)|Especifica si se muestra una etiqueta de texto en el botón.|
|[CMFCToolBarButton::m_bTextBelow](#m_btextbelow)|Especifica si la etiqueta de texto se muestra debajo de la imagen en el botón.|
|[CMFCToolBarButton::m_bUserButton](#m_buserbutton)|Especifica si el botón tiene una imagen definida por el usuario.|
|[CMFCToolBarButton::m_bWholeText](#m_bwholetext)|Especifica si el botón muestra su etiqueta de texto completo, incluso si no cabe en el rectángulo delimitador.|
|[CMFCToolBarButton::m_bWrap](#m_bwrap)|Especifica si el botón situado junto a un separador se colocará en la fila siguiente.|
|[CMFCToolBarButton::m_bWrapText](#m_bwraptext)|Especifica si las etiquetas de texto de varias líneas están habilitadas.|
|[CMFCToolBarButton::m_nID](#m_nid)|IDENTIFICADOR de comando del botón.|
|[CMFCToolBarButton::m_nStyle](#m_nstyle)|Estilo del botón.|
|[CMFCToolBarButton::m_strText](#m_strtext)|Etiqueta de texto del botón.|

## <a name="remarks"></a>Comentarios

Un `CMFCToolbarButton` objeto es un control que reside en una barra de herramientas. Su comportamiento es similar al de un botón normal. Puede asignar una imagen y una etiqueta de texto a este objeto. Un botón de la barra de herramientas también puede tener un identificador de comando. Cuando el usuario hace clic en el botón de la barra de herramientas, el marco de trabajo ejecuta el comando que este identificador especifica.

Normalmente, los botones de barra de herramientas se pueden personalizar: el usuario puede arrastrar botones de una barra de herramientas a otra y copiar, pegar, eliminar y editar etiquetas de texto e imágenes. Para evitar que el usuario Personalice la barra de herramientas, puede bloquear la barra de herramientas de una de estas dos maneras. Establezca la `bLocked` marca en true cuando llame a [CMFCToolBar:: LoadToolBar](../../mfc/reference/cmfctoolbar-class.md#loadtoolbar), o bien agregue el identificador de comando de un botón individual a la lista global de comandos protegidos mediante el método [CMFCToolBarButton:: SetProtectedCommands](#setprotectedcommands) .

`CMFCToolBarButton`los objetos muestran imágenes de las colecciones globales de imágenes de barra de herramientas de la aplicación. Estas colecciones las mantiene la barra de herramientas primaria, la [clase CMFCToolBar](../../mfc/reference/cmfctoolbar-class.md). Para obtener más información, consulte [clase CMFCToolBarImages](../../mfc/reference/cmfctoolbarimages-class.md).

Cuando el usuario hace clic en un botón de la barra de herramientas, la barra de herramientas primaria procesa el mensaje del mouse y comunica las acciones adecuadas al botón. Si el botón tiene un identificador de comando válido, la barra de herramientas primaria envía el mensaje WM_COMMAND al marco primario.

La `CMFCToolBarButton` clase es la clase base para otras clases de botón de la barra de herramientas, como clase [CMFCToolBarMenuButton](../../mfc/reference/cmfctoolbarmenubutton-class.md), [clase CMFCToolBarEditBoxButton](../../mfc/reference/cmfctoolbareditboxbutton-class.md)y [clase CMFCToolBarComboBoxButton](../../mfc/reference/cmfctoolbarcomboboxbutton-class.md).

## <a name="example"></a>Ejemplo

En el ejemplo siguiente se muestra cómo configurar `CMFCToolBarButton` un objeto mediante el uso de varios `CMFCToolBarButton` métodos en la clase. En el ejemplo se muestra cómo habilitar la entrada del mouse y del teclado, establecer el índice de la imagen del botón, establecer el rectángulo delimitador del botón y hacer que el botón esté visible. Este fragmento de código forma parte del [ejemplo de control de pestaña](../../overview/visual-cpp-samples.md).

[!code-cpp[NVC_MFC_TabControl#1](../../mfc/reference/codesnippet/cpp/cmfctoolbarbutton-class_1.cpp)]
[!code-cpp[NVC_MFC_TabControl#2](../../mfc/reference/codesnippet/cpp/cmfctoolbarbutton-class_2.cpp)]

## <a name="inheritance-hierarchy"></a>Jerarquía de herencia

[CObject](../../mfc/reference/cobject-class.md)

[CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md)

## <a name="requirements"></a>Requisitos

**Encabezado:** afxtoolbarbutton. h

##  <a name="canbedropped"></a>  CMFCToolBarButton::CanBeDropped

Especifica si un usuario puede colocar un botón en una barra de herramientas o un menú durante la personalización.

```
virtual BOOL CanBeDropped(CMFCToolBar* pToolbar);
```

### <a name="parameters"></a>Parámetros

*pToolbar*<br/>
de Sin usar.

### <a name="return-value"></a>Valor devuelto

Este método devuelve TRUE.

### <a name="remarks"></a>Comentarios

De forma predeterminada, un botón de la barra de herramientas se puede colocar en cada barra de herramientas personalizable (es decir, no bloqueada).

La implementación predeterminada de este método devuelve TRUE. Invalide este método y devuelva FALSE si desea evitar que el usuario cambie la posición del botón.

##  <a name="canbestored"></a>  CMFCToolBarButton::CanBeStored

Determina si el botón se puede almacenar.

```
virtual BOOL CanBeStored() const;
```

### <a name="return-value"></a>Valor devuelto

Este método devuelve TRUE.

### <a name="remarks"></a>Comentarios

El marco de trabajo usa este método para determinar si el botón puede participar en una operación de arrastrar y colocar.

La implementación predeterminada devuelve TRUE. Invalide este método si el botón no se puede almacenar como parte de una operación de arrastrar y colocar. Para obtener más información sobre las operaciones de arrastrar y colocar, vea [arrastrar y colocar (OLE)](../../mfc/drag-and-drop-ole.md).

##  <a name="canbestretched"></a>  CMFCToolBarButton::CanBeStretched

Especifica si un usuario puede ajustar el botón durante la personalización.

```
virtual BOOL CanBeStretched() const;
```

### <a name="return-value"></a>Valor devuelto

Este método devuelve FALSE.

### <a name="remarks"></a>Comentarios

El marco de trabajo usa este método para determinar si el botón se puede ajustar en el modo de personalización.

La implementación predeterminada de este método devuelve FALSE. Invalide este método para que devuelva TRUE para un control de ancho variable, como un cuadro combinado o un control deslizante.

Para obtener más información sobre el modo de personalización, vea [CMFCToolBar:: SetCustomizeMode](../../mfc/reference/cmfctoolbar-class.md#setcustomizemode).

##  <a name="cmfctoolbarbutton"></a>  CMFCToolBarButton::CMFCToolBarButton

Construye e inicializa un objeto `CMFCToolBarButton`.

```
CMFCToolBarButton(
    UINT uiID,
    int iImage,
    LPCTSTR lpszText=NULL,
    BOOL bUserButton=FALSE,
    BOOL bLocked=FALSE);
```

### <a name="parameters"></a>Parámetros

*uiID*<br/>
de IDENTIFICADOR de comando del botón.

*iImage*<br/>
de Índice de imagen del botón en la colección de imágenes.

*lpszText*<br/>
de Etiqueta de texto del botón. Puede ser NULL.

*bUserButton*<br/>
de Valor booleano que determina si el botón está definido por el usuario. Si este parámetro es TRUE, el botón está definido por el usuario. De lo contrario, la imagen del botón se carga desde un recurso.

*bLocked*<br/>
de Valor booleano que determina si el botón se puede personalizar. Si este parámetro es TRUE, el botón no se puede personalizar. De lo contrario, el botón se puede personalizar.

##  <a name="comparewith"></a>  CMFCToolBarButton::CompareWith

Compara esta instancia con el objeto proporcionado `CMFCToolBarButton` .

```
virtual BOOL CompareWith(const CMFCToolBarButton& other) const;
```

### <a name="parameters"></a>Parámetros

*other*<br/>
de Referencia al objeto que se va a comparar con esta instancia.

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el objeto proporcionado es igual al valor de esta instancia; de lo contrario, es 0.

### <a name="remarks"></a>Comentarios

La implementación predeterminada determina si el identificador de comando del objeto proporcionado es igual al identificador de comando de esta instancia. Invalide este método si debe realizar un procesamiento adicional para determinar `CMFCToolBarButton` si dos objetos son iguales.

##  <a name="copyfrom"></a>  CMFCToolBarButton::CopyFrom

Copia las propiedades de otro botón de la barra de herramientas en el botón actual.

```
virtual void CopyFrom(const CMFCToolBarButton& src);
```

### <a name="parameters"></a>Parámetros

*src*<br/>
de Referencia al botón de origen desde el que se va a copiar.

### <a name="remarks"></a>Comentarios

Llame a este método para copiar otro botón de la barra de herramientas en este botón de la barra de herramientas.

##  <a name="createfromoledata"></a>  CMFCToolBarButton::CreateFromOleData

Crea un `CMFCToolBarButton` objeto a partir del `COleDataObject` objeto proporcionado.

```
static CMFCToolBarButton* __stdcall CreateFromOleData(COleDataObject* pDataObject);
```

### <a name="parameters"></a>Parámetros

*pDataObject*<br/>
de Objeto de datos OLE de origen.

### <a name="return-value"></a>Valor devuelto

Objeto `CMFCToolBarButton` creado.

### <a name="remarks"></a>Comentarios

El marco de trabajo usa este método para realizar la transferencia de datos en varios formatos. Por ejemplo, el `CMFCOutlookBarPane::OnDragOver` método usa este método para realizar operaciones de arrastrar y colocar.

##  <a name="enablewindow"></a>  CMFCToolBarButton::EnableWindow

Habilita o deshabilita la entrada de mouse y de teclado.

```
virtual void EnableWindow(BOOL bEnable = TRUE);
```

### <a name="parameters"></a>Parámetros

*bEnable*<br/>
de Establezca este parámetro en TRUE para habilitar la entrada o en FALSE para deshabilitar la entrada.

### <a name="remarks"></a>Comentarios

Este método llama a `EnableWindow` la función para habilitar o deshabilitar la entrada. Para obtener más información, vea [EnableWindow](/windows/win32/api/winuser/nf-winuser-enablewindow) en el Windows SDK.

##  <a name="exporttomenubutton"></a>  CMFCToolBarButton::ExportToMenuButton

Copia texto del botón de la barra de herramientas en un menú.

```
virtual BOOL ExportToMenuButton(CMFCToolBarMenuButton& menuButton) const;
```

### <a name="parameters"></a>Parámetros

*menuButton*<br/>
de Referencia al botón de menú de destino.

### <a name="return-value"></a>Valor devuelto

Este método devuelve TRUE.

### <a name="remarks"></a>Comentarios

El marco de trabajo llama a este método para copiar el texto de un botón de la barra de herramientas en un botón de menú. La implementación predeterminada copia la etiqueta de texto del botón. Si la etiqueta de texto está vacía, este método copia el texto de información sobre herramientas del botón.

La implementación predeterminada de este método devuelve TRUE. Invalide este método si desea realizar acciones adicionales cuando el marco de trabajo convierta un objeto que se deriva de [CMFCToolbarButton](../../mfc/reference/cmfctoolbarbutton-class.md) en un botón de menú.

##  <a name="getclipboardformat"></a>  CMFCToolBarButton::GetClipboardFormat

Recupera el formato de Portapapeles global de la aplicación.

```
static CLIPFORMAT __stdcall GetClipboardFormat();
```

### <a name="return-value"></a>Valor devuelto

Valor CLIPFORMAT global de la aplicación.

### <a name="remarks"></a>Comentarios

El marco de trabajo llama a este método para recuperar el formato del portapapeles para las operaciones de transferencia de datos OLE. Por ejemplo, el método [CMFCToolBarButton:: CreateFromOleData](#createfromoledata) usa este método para copiar datos de un objeto de datos OLE de origen.

Este método establece el valor de CLIPFORMAT global la primera vez que se llama a este método. Todas las llamadas subsiguientes a este método devuelven este valor.

Para permitir que se produzcan operaciones de arrastrar y colocar entre aplicaciones, llame al método [CMFCToolBarButton:: SetClipboardFormatName](#setclipboardformatname) .

Para obtener más información sobre los portapapeles en MFC, vea [portapapeles](../../mfc/clipboard.md).

##  <a name="gethwnd"></a>  CMFCToolBarButton::GetHwnd

Recupera el identificador de ventana asociado al botón de la barra de herramientas.

```
virtual HWND GetHwnd();
```

### <a name="return-value"></a>Valor devuelto

Identificador de ventana asociado al botón de la barra de herramientas o NULL si el botón de la barra de herramientas no tiene ningún identificador de ventana asociado.

### <a name="remarks"></a>Comentarios

La implementación predeterminada de este método devuelve NULL. Invalide este método para devolver el identificador de ventana del control concreto.

##  <a name="getimage"></a>  CMFCToolBarButton::GetImage

Recupera el índice de la imagen del botón.

```
int GetImage() const;
```

### <a name="return-value"></a>Valor devuelto

Índice de la imagen asociada a este botón.

### <a name="remarks"></a>Comentarios

Si el botón tiene una imagen definida por el usuario (es decir, si *bUserButton* era true en el constructor), el índice devuelto especifica una imagen en la colección de imágenes definidas por el usuario (vea [CMFCToolBar:: GetUserImages](../../mfc/reference/cmfctoolbar-class.md#getuserimages)). De lo contrario, el índice especifica una imagen en la colección de imágenes que se cargan desde un archivo de recursos (vea [CMFCToolBar:: GetImages](../../mfc/reference/cmfctoolbar-class.md#getimages)). Para obtener más información acerca de los archivos de recursos, vea [trabajar con archivos de recursos](../../windows/working-with-resource-files.md).

##  <a name="getinvalidaterect"></a>  CMFCToolBarButton::GetInvalidateRect

Recupera la región del área cliente del botón que se debe volver a dibujar.

```
virtual const CRect GetInvalidateRect() const;
```

### <a name="return-value"></a>Valor devuelto

Objeto `CRect` que especifica la región que se debe volver A dibujar.

### <a name="remarks"></a>Comentarios

La implementación predeterminada de este método devuelve el área de cliente completa. Invalide este método si desea que se vuelva a dibujar un área diferente.

##  <a name="getparentwnd"></a>  CMFCToolBarButton::GetParentWnd

Recupera la ventana primaria del botón.

```
CWnd* GetParentWnd() const;
```

### <a name="return-value"></a>Valor devuelto

Ventana primaria del botón.

##  <a name="getprotectedcommands"></a>  CMFCToolBarButton::GetProtectedCommands

Recupera la lista de comandos que el usuario no puede personalizar.

```
static const CList<UINT,UINT>& GetProtectedCommands();
```

### <a name="return-value"></a>Valor devuelto

Lista de comandos protegidos.

### <a name="remarks"></a>Comentarios

En el modo de personalización, el marco de trabajo deshabilita los comandos del botón de la barra de herramientas que están protegidos. El usuario no puede realizar operaciones de arrastrar y colocar y editar en botones deshabilitados de la barra de herramientas.

Use el método [CMFCToolBarButton:: SetProtectedCommands](#setprotectedcommands) para definir la lista de comandos protegidos.

##  <a name="gettextsize"></a>  CMFCToolBarButton::GetTextSize

Recupera el tamaño del texto del botón.

```
SIZE GetTextSize() const;
```

### <a name="return-value"></a>Valor devuelto

Objeto de tamaño que contiene el tamaño, en píxeles, del texto del botón.

##  <a name="hasfocus"></a>  CMFCToolBarButton::HasFocus

Determina si el botón tiene el foco de entrada actual.

```
virtual BOOL HasFocus() const;
```

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el botón tiene el foco de entrada; de lo contrario, es 0.

### <a name="remarks"></a>Comentarios

La implementación predeterminada de este método devuelve un valor distinto de cero si el botón tiene el foco de entrada o es una ventana secundaria o descendiente de la ventana que tiene el foco de entrada. Puede invalidar esta función para personalizar este comportamiento.

##  <a name="havehotborder"></a>  CMFCToolBarButton::HaveHotBorder

Determina si se muestra un borde del botón cuando un usuario selecciona el botón.

```
virtual BOOL HaveHotBorder() const;
```

### <a name="return-value"></a>Valor devuelto

Este método devuelve TRUE.

### <a name="remarks"></a>Comentarios

El marco de trabajo llama a este método para determinar si el botón de la barra de herramientas debe mostrar su borde cuando un usuario lo selecciona.

La implementación predeterminada devuelve TRUE. Puede invalidar este método para personalizar este comportamiento.

##  <a name="isdrawimage"></a>  CMFCToolBarButton::IsDrawImage

Determina si se muestra una imagen en el botón.

```
BOOL IsDrawImage() const;
```

### <a name="return-value"></a>Valor devuelto

Distinto de cero si se muestra una imagen en el botón; de lo contrario, es 0.

### <a name="remarks"></a>Comentarios

Este método devuelve FALSE si el botón de la barra de herramientas no tiene ninguna imagen asociada ( [CMFCToolBarButton:: GetImage](#getimage) devuelve-1) o si [CMFCToolBarButton:: m_bImage](#m_bimage) está establecido en false.

##  <a name="isdrawtext"></a>  CMFCToolBarButton::IsDrawText

Determina si se muestra una etiqueta de texto en el botón.

```
BOOL IsDrawText() const;
```

### <a name="return-value"></a>Valor devuelto

Distinto de cero si se muestra una etiqueta de texto; de lo contrario, es 0.

### <a name="remarks"></a>Comentarios

Este método devuelve FALSE si el botón de la barra de herramientas no tiene una etiqueta de texto asociada ( [CMFCToolBarButton:: m_strText](#m_strtext) está vacía) o [CMFCToolBarButton:: m_bText](#m_btext) está establecido en false.

##  <a name="isdroppeddown"></a>  CMFCToolBarButton::IsDroppedDown

Determina si el botón muestra un submenú.

```
virtual BOOL IsDroppedDown() const;
```

### <a name="return-value"></a>Valor devuelto

Este método devuelve FALSE.

### <a name="remarks"></a>Comentarios

La implementación predeterminada de este método devuelve FALSE. Invalide este método para que devuelva TRUE si el control muestra un submenú.

##  <a name="iseditable"></a>  CMFCToolBarButton::IsEditable

Determina si el botón se puede personalizar.

```
virtual BOOL IsEditable() const;
```

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el usuario puede personalizar un botón; de lo contrario, es 0.

### <a name="remarks"></a>Comentarios

El marco de trabajo llama a este método para determinar si el usuario puede personalizar el botón de la barra de herramientas mediante operaciones de arrastrar y colocar o editar.

La implementación predeterminada devuelve false si el identificador de comando del botón es un comando estándar (puede determinarlo llamando a la `IsStandardCommand` función) o si el identificador de comando está en la lista de comandos protegidos. Para obtener más información sobre los comandos protegidos, vea [CMFCToolBarButton:: GetProtectedCommands](#getprotectedcommands) y [CMFCToolBarButton:: SetProtectedCommands](#setprotectedcommands).

Invalide este método para personalizar su comportamiento.

##  <a name="isextrasize"></a>  CMFCToolBarButton::IsExtraSize

Determina si el botón se puede mostrar con un borde extendido.

```
virtual BOOL IsExtraSize() const;
```

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el botón de la barra de herramientas se puede mostrar con un borde extendido; de lo contrario, es 0.

### <a name="remarks"></a>Comentarios

Varias máscaras usan un tamaño adicional para los bordes de los botones de la barra de herramientas (por ejemplo, botones de redondeo).

Si el usuario mueve este botón de una barra de herramientas a otra, el marco de trabajo llama al método [CMFCToolBarButton:: OnChangeParentWnd](#onchangeparentwnd) . El método [CMFCToolBarButton:: OnChangeParentWnd](#onchangeparentwnd) establece la marca de tamaño adicional en la de la nueva barra de herramientas principal (para obtener más información, vea [CMFCToolBar:: IsButtonExtraSizeAvailable](../../mfc/reference/cmfctoolbar-class.md#isbuttonextrasizeavailable)).

##  <a name="isfirstingroup"></a>  CMFCToolBarButton::IsFirstInGroup

Determina si el botón está en la primera posición en el grupo de botones.

```
virtual BOOL IsFirstInGroup() const;
```

### <a name="return-value"></a>Valor devuelto

TRUE si el botón es el primer botón de su grupo de botones; en caso contrario, FALSE.

### <a name="remarks"></a>Comentarios

Este método define un *Grupo* de botones como un conjunto de botones adyacentes que se colocan en la misma fila y se delimitan mediante separadores o el borde de la barra de herramientas. Este método devuelve FALSE si el botón de la barra de herramientas hace referencia al botón **personalizar** . Para obtener más información sobre el botón **personalizar** , vea [CMFCToolBar:: GetCustomizeButton](../../mfc/reference/cmfctoolbar-class.md#getcustomizebutton).

Llame al método [CMFCToolBarButton:: IsLastInGroup](#islastingroup) para determinar si el botón está en la última posición de su grupo de botones.

##  <a name="ishidden"></a>  CMFCToolBarButton::IsHidden

Determina si el botón está oculto.

```
BOOL IsHidden() const;
```

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el botón está oculto (invisible); de lo contrario, es 0.

### <a name="remarks"></a>Comentarios

El marco de trabajo llama a este método cuando se ajusta la barra de herramientas primaria para determinar si el botón de la barra de herramientas está visible.

Si establece que el botón sea invisible mediante el método [CMFCToolBarButton:: setVisible](#setvisible) , use [CMFCToolBarButton:: IsVisible](#isvisible) para determinar si el botón de la barra de herramientas está visible.

De forma predeterminada, todos los botones de la barra de herramientas están visibles. Use el método [CMFCToolBarButton:: show](#show) para ocultar o mostrar los botones de la barra de herramientas.

##  <a name="ishorizontal"></a>  CMFCToolBarButton::IsHorizontal

Determina si el botón se encuentra en una barra de herramientas horizontal.

```
BOOL IsHorizontal() const;
```

### <a name="return-value"></a>Valor devuelto

Distinto de cero si un botón de la barra de herramientas se encuentra en una barra de herramientas horizontal; de lo contrario, es 0.

### <a name="remarks"></a>Comentarios

El marco de trabajo llama a este método para determinar el diseño de los botones de la barra de herramientas.

Este método devuelve el `m_bHorz` miembro de datos. El valor predeterminado del miembro `m_bHorz` de datos es true; se restablece en cada llamada al método [CMFCToolBarButton:: OnDraw](#ondraw) .

##  <a name="islastingroup"></a>  CMFCToolBarButton::IsLastInGroup

Especifica si el botón está en la última posición en el grupo de botones.

```
virtual BOOL IsLastInGroup() const;
```

### <a name="return-value"></a>Valor devuelto

TRUE si el botón es el último botón de su grupo de botones; en caso contrario, FALSE.

### <a name="remarks"></a>Comentarios

Este método define un *Grupo* de botones como un conjunto de botones adyacentes que se colocan en la misma fila y están delimitados por separadores o el borde de la barra de herramientas este método devuelve false si el botón de la barra de herramientas no tiene barra de herramientas primaria o el botón de la barra de herramientas hace referencia a botón **personalizar** . Para obtener más información sobre el botón **personalizar** , vea [CMFCToolBar:: GetCustomizeButton](../../mfc/reference/cmfctoolbar-class.md#getcustomizebutton).

Llame al método [CMFCToolBarButton:: IsFirstInGroup](#isfirstingroup) para determinar si el botón está en la primera posición de su grupo de botones.

##  <a name="islocked"></a>  CMFCToolBarButton::IsLocked

Determina si el botón está en una barra de herramientas bloqueada (no personalizable).

```
BOOL IsLocked() const;
```

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el botón está en una barra de herramientas bloqueada; de lo contrario, es 0.

### <a name="remarks"></a>Comentarios

El marco de trabajo llama a este método para determinar si el usuario puede personalizar el botón de la barra de herramientas mediante operaciones de arrastrar y colocar o editar. Establezca el atributo Locked en la barra de herramientas primaria mediante el método [CMFCToolBar:: LoadToolBar](../../mfc/reference/cmfctoolbar-class.md#loadtoolbar) . El marco de trabajo pasa el valor de este atributo al constructor de cada botón de la barra de herramientas ( [CMFCToolbarButton](../../mfc/reference/cmfctoolbarbutton-class.md)) que inserta en la barra de herramientas primaria.

##  <a name="isownerof"></a>  CMFCToolBarButton::IsOwnerOf

Determina si el botón es el propietario del identificador de ventana proporcionado.

```
virtual BOOL IsOwnerOf(HWND hwnd);
```

### <a name="parameters"></a>Parámetros

*hwnd*<br/>
de Identificador de ventana.

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el botón es el propietario del identificador de ventana proporcionado; de lo contrario, es 0.

### <a name="remarks"></a>Comentarios

Este método devuelve un valor distinto de cero si *hWnd* hace referencia al identificador de ventana directa o es un elemento secundario del identificador de ventana asociado al botón. Este método devuelve 0 si *hWnd* es NULL.

##  <a name="isvisible"></a>  CMFCToolBarButton::IsVisible

Determina si el botón de la barra de herramientas está visible.

```
BOOL IsVisible() const;
```

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el botón de la barra de herramientas está visible; de lo contrario, es 0.

### <a name="remarks"></a>Comentarios

Puede mostrar u ocultar el botón de la barra de herramientas mediante el método [CMFCToolBarButton:: setVisible](#setvisible) . Llame al método [CPane:: AdjustSizeImmediate](../../mfc/reference/cpane-class.md#adjustsizeimmediate) en la barra de herramientas primaria después de llamar a [CMFCToolBarButton:: setVisible](#setvisible) para volver a calcular el diseño de una barra de herramientas primaria.

##  <a name="iswindowvisible"></a>  CMFCToolBarButton::IsWindowVisible

Determina si el identificador de ventana subyacente del botón está visible.

```
virtual BOOL IsWindowVisible();
```

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el identificador de ventana subyacente del botón es visible; de lo contrario, es 0.

### <a name="remarks"></a>Comentarios

Este método devuelve un valor distinto de cero si el atributo Styles del identificador de ventana subyacente contiene el estilo WS_VISIBLE. Este método devuelve FALSE si el identificador de ventana subyacente del botón es NULL.

##  <a name="m_bimage"></a>  CMFCToolBarButton::m_bImage

Especifica si se muestra una imagen en el botón.

```
BOOL m_bImage;
```

### <a name="remarks"></a>Comentarios

Si este miembro de datos se establece en TRUE, el marco de trabajo muestra la imagen asociada al botón de la barra de herramientas; de lo contrario, el marco no muestra la imagen. Este miembro afecta al valor devuelto del método [CMFCToolBarButton:: m_bImage](#m_bimage) .

##  <a name="m_btext"></a>  CMFCToolBarButton::m_bText

Especifica si se muestra una etiqueta de texto en el botón.

```
BOOL m_bText;
```

### <a name="remarks"></a>Comentarios

Si este miembro de datos se establece en TRUE, el marco de trabajo muestra la etiqueta de texto del botón de la barra de herramientas. de lo contrario, el marco no muestra la etiqueta de texto. Este miembro afecta al valor devuelto del método [CMFCToolBarButton:: m_bText](#m_btext) .

##  <a name="m_btextbelow"></a>  CMFCToolBarButton::m_bTextBelow

Especifica si la etiqueta de texto se muestra debajo de la imagen en el botón.

```
BOOL m_bTextBelow;
```

### <a name="remarks"></a>Comentarios

Si esta variable miembro está establecida en TRUE, el marco de trabajo muestra el texto del botón debajo de la imagen. El valor predeterminado de este miembro es FALSE.

##  <a name="m_buserbutton"></a>  CMFCToolBarButton::m_bUserButton

Especifica si el botón tiene una imagen definida por el usuario

```
BOOL m_bUserButton;
```

### <a name="remarks"></a>Comentarios

Este miembro de datos se establece en TRUE cuando el botón tiene una imagen definida por el usuario asociada a él.

##  <a name="m_bwholetext"></a>  CMFCToolBarButton::m_bWholeText

Especifica si el botón muestra su etiqueta de texto completo, incluso si no cabe en el rectángulo delimitador.

```
BOOL m_bWholeText;
```

### <a name="remarks"></a>Comentarios

Si este miembro de datos se establece en TRUE, el marco de trabajo muestra la etiqueta de texto completo ampliando el botón. En caso contrario, el marco de trabajo se trunca y anexa un botón de puntos suspensivos ( **...** ) a la etiqueta de texto.

##  <a name="m_bwrap"></a>  CMFCToolBarButton::m_bWrap

Especifica si el botón situado junto a un separador se colocará en la fila siguiente.

```
BOOL m_bWrap;
```

### <a name="remarks"></a>Comentarios

El marco de trabajo establece este miembro de datos en TRUE cuando el botón de la barra de herramientas no cabe en la fila actual o cuando se especifica un diseño (por ejemplo, un número específico de botones de la barra de herramientas por fila).

El marco de trabajo coloca este botón en la fila siguiente si este miembro de datos se establece en TRUE y la barra de herramientas está acoplada horizontal o flotante.

El valor predeterminado de este miembro de datos es FALSE.

##  <a name="m_bwraptext"></a>  CMFCToolBarButton::m_bWrapText

Especifica si las etiquetas de texto de varias líneas están habilitadas.

```
AFX_IMPORT_DATA static BOOL m_bWrapText;
```

### <a name="remarks"></a>Comentarios

Si esta variable miembro estática es TRUE, el marco de trabajo permite que todas las barras de herramientas muestren etiquetas de texto de varias líneas en los botones de la barra de herramientas.

El valor predeterminado de este miembro de datos es FALSE.

##  <a name="m_nid"></a>  CMFCToolBarButton::m_nID

IDENTIFICADOR de comando del botón.

```
UINT m_nID;
```

### <a name="remarks"></a>Comentarios

Un identificador de comando-1 indica que el botón es un separador. Todos los separadores de botones tienen el estilo TBBS_SEPARATOR. Vea [CMFCToolBarButton:: m_nStyle](#m_nstyle) para obtener más información sobre los estilos de botón.

##  <a name="m_nstyle"></a>  CMFCToolBarButton::m_nStyle

Estilo del botón.

```
UINT m_nStyle;
```

### <a name="remarks"></a>Comentarios

Vea [estilos de control de barra de herramientas](../../mfc/reference/toolbar-control-styles.md) para la lista de estilos de botones de la barra de herramientas disponibles.

##  <a name="m_strtext"></a>  CMFCToolBarButton::m_strText

Etiqueta de texto del botón.

```
CString m_strText;
```

### <a name="remarks"></a>Comentarios

Este miembro de datos contiene la etiqueta de texto del botón. La etiqueta de texto puede estar vacía.

##  <a name="notifycommand"></a>  CMFCToolBarButton::NotifyCommand

Especifica si el botón procesa el mensaje [WM_COMMAND](/windows/win32/menurc/wm-command) .

```
virtual BOOL NotifyCommand(int iNotifyCode);
```

### <a name="parameters"></a>Parámetros

*iNotifyCode*<br/>
de Mensaje de notificación asociado al comando.

### <a name="return-value"></a>Valor devuelto

Este método devuelve FALSE.

### <a name="remarks"></a>Comentarios

El marco de trabajo llama a este método cuando está a punto de enviar un mensaje [WM_COMMAND](/windows/win32/menurc/wm-command) a la ventana primaria.

De forma predeterminada, este método devuelve FALSE. Invalide este método para que devuelva TRUE si desea procesar el mensaje WM_COMMAND o FALSE para indicar que la barra de herramientas primaria debe controlar el mensaje.

##  <a name="onaddtocustomizepage"></a>  CMFCToolBarButton::OnAddToCustomizePage

Lo llama el marco de trabajo cuando el botón se agrega a un cuadro de diálogo de **Personalización** .

```
virtual void OnAddToCustomizePage();
```

### <a name="remarks"></a>Comentarios

La implementación predeterminada de este método no hace nada. Invalide este método si desea realizar alguna acción cuando el botón se agrega a un cuadro de diálogo de **Personalización** .

##  <a name="onbeforedrag"></a>  CMFCToolBarButton::OnBeforeDrag

Especifica si se puede arrastrar el botón.

```
virtual BOOL OnBeforeDrag() const;
```

### <a name="return-value"></a>Valor devuelto

TRUE si se puede arrastrar el botón; en caso contrario, FALSE.

### <a name="remarks"></a>Comentarios

El marco de trabajo llama a este método antes de que el usuario empiece a arrastrar el botón.

La implementación predeterminada de este método devuelve TRUE. Invalide este método para que devuelva FALSE para deshabilitar el arrastre del botón.

##  <a name="onbeforedrop"></a>  CMFCToolBarButton::OnBeforeDrop

Especifica si un usuario puede colocar el botón en la barra de herramientas de destino.

```
virtual BOOL OnBeforeDrop(CMFCToolBar* pTarget);
```

### <a name="parameters"></a>Parámetros

*pTarget*<br/>
de Destino de la operación de arrastrar y colocar.

### <a name="return-value"></a>Valor devuelto

TRUE si el botón se puede colocar en la barra de herramientas de destino proporcionada; en caso contrario, FALSE.

### <a name="remarks"></a>Comentarios

El marco de trabajo llama a este método antes de que el botón se coloque en una barra de herramientas.

La implementación predeterminada de este método devuelve TRUE. Invalide este método para que devuelva FALSE para deshabilitar la operación de colocar en el destino especificado.

##  <a name="oncalculatesize"></a>  CMFCToolBarButton::OnCalculateSize

Lo llama el marco de trabajo para calcular el tamaño del botón para el contexto de dispositivo y el estado de acoplamiento especificados.

```
virtual SIZE OnCalculateSize(
    CDC* pDC,
    const CSize& sizeDefault,
    BOOL bHorz);
```

### <a name="parameters"></a>Parámetros

*pDC*<br/>
de Contexto de dispositivo que muestra el botón.

*sizeDefault*<br/>
de Tamaño predeterminado del botón.

*bHorz*<br/>
de Estado de acoplamiento de la barra de herramientas primaria. Este parámetro es TRUE si la barra de herramientas está acoplada horizontalmente o es flotante, o FALSE si la barra de herramientas está acoplada verticalmente.

### <a name="return-value"></a>Valor devuelto

`SIZE` Estructura que contiene las dimensiones del botón, en píxeles.

### <a name="remarks"></a>Comentarios

El marco de trabajo llama a este método para determinar el tamaño del botón de la barra de herramientas para el contexto de dispositivo y el estado de acoplamiento especificados.

La implementación predeterminada tiene en cuenta los tamaños de texto e imagen (si se muestran), las posiciones de texto y de imagen (el texto siguiente o en el lado derecho de la imagen) y el estado de acoplamiento de la barra de herramientas.

Invalide este método si desea proporcionar el tamaño de un botón no estándar (por ejemplo, un botón de cuadro de edición).

##  <a name="oncancelmode"></a>  CMFCToolBarButton::OnCancelMode

Lo llama el marco de trabajo para controlar el mensaje de [WM_CANCELMODE](/windows/win32/winmsg/wm-cancelmode) .

```
virtual void OnCancelMode();
```

### <a name="remarks"></a>Comentarios

La implementación predeterminada de este método no hace nada. Invalide este método si desea controlar el mensaje [WM_CANCELMODE](/windows/win32/winmsg/wm-cancelmode) .

##  <a name="onchangeparentwnd"></a>  CMFCToolBarButton::OnChangeParentWnd

Lo llama el marco de trabajo cuando el botón se inserta en una nueva barra de herramientas.

```
virtual void OnChangeParentWnd(CWnd* pWndParent);
```

### <a name="parameters"></a>Parámetros

*pWndParent*<br/>
de Nueva ventana primaria.

### <a name="remarks"></a>Comentarios

El botón se inserta en una barra de herramientas, por ejemplo, cuando el usuario lo arrastra de una barra de herramientas a otra.

La implementación predeterminada de este método no hace nada.

##  <a name="onclick"></a>  CMFCToolBarButton::OnClick

Lo llama el marco de trabajo cuando el usuario hace clic con el botón del mouse.

```
virtual BOOL OnClick(
    CWnd* pWnd,
    BOOL bDelay=TRUE);
```

### <a name="parameters"></a>Parámetros

*pWnd*<br/>
de Ventana primaria del botón de la barra de herramientas.

*bDelay*<br/>
de TRUE si el mensaje se debe controlar con un retraso.

### <a name="return-value"></a>Valor devuelto

Este método devuelve FALSE.

### <a name="remarks"></a>Comentarios

El marco de trabajo llama a este método cuando el usuario hace clic en el botón de la barra de herramientas.

La implementación predeterminada no hace nada y devuelve FALSE. Invalide este método para devolver un valor distinto de cero si el botón procesa el mensaje de clic.

##  <a name="onclickup"></a>  CMFCToolBarButton::OnClickUp

Lo llama el marco de trabajo cuando el usuario suelta el botón del mouse.

```
virtual BOOL OnClickUp();
```

### <a name="return-value"></a>Valor devuelto

Este método devuelve FALSE.

### <a name="remarks"></a>Comentarios

El marco de trabajo llama a este método cuando el usuario suelta el botón de la barra de herramientas.

La implementación predeterminada no hace nada y devuelve FALSE. Invalide este método para devolver un valor distinto de cero si el botón procesa el mensaje de clic.

##  <a name="oncontexthelp"></a>  CMFCToolBarButton::OnContextHelp

Lo llama el marco de trabajo cuando la barra de herramientas primaria controla un mensaje WM_HELPHITTEST.

```
virtual BOOL OnContextHelp(CWnd* pWnd);
```

### <a name="parameters"></a>Parámetros

*pWnd*<br/>
de Ventana primaria del botón de la barra de herramientas.

### <a name="return-value"></a>Valor devuelto

Este método devuelve FALSE.

### <a name="remarks"></a>Comentarios

La implementación predeterminada de este método no hace nada y devuelve FALSE. Invalide este método para devolver un valor distinto de cero si el botón procesa el mensaje de ayuda.

Para obtener más información sobre el mensaje WM_HELPHITTEST, [consulte TN028: Compatibilidad con](../../mfc/tn028-context-sensitive-help-support.md)la ayuda contextual.

##  <a name="onctlcolor"></a>  CMFCToolBarButton::OnCtlColor

Lo llama el marco de trabajo cuando la barra de herramientas primaria controla un mensaje WM_CTLCOLOR.

```
virtual HBRUSH OnCtlColor(
    CDC* pDC,
    UINT nCtlColor);
```

### <a name="parameters"></a>Parámetros

*pDC*<br/>
de Contexto de dispositivo que muestra el botón.

*nCtlColor*<br/>
de La notificación de color específica.

### <a name="return-value"></a>Valor devuelto

Identificador del objeto Brush que el marco de trabajo usa para pintar el fondo del botón.

### <a name="remarks"></a>Comentarios

El marco de trabajo llama a este método cuando la barra de herramientas primaria procesa el mensaje WM_CTLCOLOR para un botón de la barra de herramientas que contiene un control de Windows. El marco de trabajo no llama a este método si el botón de la barra de herramientas no tiene ventanas.

El marco de trabajo llama a este método cuando el marco de la barra de herramientas está en modo de personalización y el botón de la barra de herramientas está desbloqueado. Para obtener más información sobre el modo de personalización, vea [CMFCToolBar:: SetCustomizeMode](../../mfc/reference/cmfctoolbar-class.md#setcustomizemode). Para obtener más información sobre cómo bloquear botones de la barra de herramientas, vea [CMFCToolBarButton:: IsLocked (](#islocked).

La implementación predeterminada no hace nada y devuelve NULL.

##  <a name="oncustomizemenu"></a>  CMFCToolBarButton::OnCustomizeMenu

Permite al botón modificar el menú proporcionado cuando la aplicación muestra un menú contextual en la barra de herramientas primaria.

```
virtual BOOL OnCustomizeMenu(CMenu* pMenu);
```

### <a name="parameters"></a>Parámetros

*pMenu*<br/>
de Menú que se va a personalizar.

### <a name="return-value"></a>Valor devuelto

Este método devuelve FALSE.

### <a name="remarks"></a>Comentarios

La implementación predeterminada no hace nada y devuelve FALSE. Invalide este método y devuelva un valor distinto de cero si desea modificar el contenido del menú proporcionado.

##  <a name="ondblclk"></a>  CMFCToolBarButton::OnDblClk

Lo llama el marco de trabajo cuando la barra de herramientas primaria controla un mensaje [WM_LBUTTONDBLCLK](/windows/win32/inputdev/wm-lbuttondblclk) .

```
virtual void OnDblClk(CWnd* pWnd);
```

### <a name="parameters"></a>Parámetros

*pWnd*<br/>
[in]: ventana primaria del botón.

### <a name="remarks"></a>Comentarios

El `CMFCToolBar::OnLButtonDblClk` método llama a este método cuando la barra de herramientas primaria controla un mensaje [WM_LBUTTONDBLCLK](/windows/win32/inputdev/wm-lbuttondblclk) .

La implementación predeterminada de este método no hace nada.

##  <a name="ondraw"></a>  CMFCToolBarButton::OnDraw

Lo llama el marco de trabajo para dibujar el botón usando los estilos y las opciones especificados.

```
virtual void OnDraw(
    CDC* pDC,
    const CRect& rect,
    CMFCToolBarImages* pImages,
    BOOL bHorz=TRUE,
    BOOL bCustomizeMode=FALSE,
    BOOL bHighlight=FALSE,
    BOOL bDrawBorder=TRUE,
    BOOL bGrayDisabledButtons=TRUE);
```

### <a name="parameters"></a>Parámetros

*pDC*<br/>
de Contexto de dispositivo que muestra el botón.

*rect*<br/>
de Rectángulo delimitador del botón.

*pImages*<br/>
de Colección de imágenes de la barra de herramientas que está asociada al botón.

*bHorz*<br/>
de Estado de acoplamiento de la barra de herramientas primaria. Este parámetro es TRUE cuando el botón se acopla horizontalmente y FALSE cuando el botón está acoplado verticalmente.

*bCustomizeMode*<br/>
de Especifica si la barra de herramientas está en modo de personalización. Este parámetro es TRUE cuando la barra de herramientas está en modo de personalización y FALSE cuando la barra de herramientas no está en modo de personalización.

*bHighlight*<br/>
de Especifica si el botón está resaltado. Este parámetro es TRUE cuando el botón está resaltado y FALSE cuando el botón no está resaltado.

*bDrawBorder*<br/>
de Especifica si el botón debe mostrar su borde. Este parámetro es TRUE cuando el botón debe mostrar su borde y FALSE cuando el botón no debe mostrar su borde.

*bGrayDisabledButtons*<br/>
de Especifica si se deben sombrear los botones deshabilitados o usar la colección de imágenes deshabilitadas. Este parámetro es TRUE cuando los botones deshabilitados deben estar sombreados y FALSE cuando este método debe utilizar la colección de imágenes deshabilitadas.

### <a name="remarks"></a>Comentarios

Invalide este método para personalizar el dibujo del botón de la barra de herramientas.

##  <a name="ondrawoncustomizelist"></a>  CMFCToolBarButton::OnDrawOnCustomizeList

Lo llama el marco de trabajo para dibujar el botón en el panel **comandos** del cuadro de diálogo **personalizar** .

```
virtual int OnDrawOnCustomizeList(
    CDC* pDC,
    const CRect& rect,
    BOOL bSelected);
```

### <a name="parameters"></a>Parámetros

*pDC*<br/>
de Contexto de dispositivo que muestra el botón.

*rect*<br/>
de Rectángulo delimitador del botón.

*bSelected*<br/>
de Especifica si el botón está seleccionado. Si este parámetro es TRUE, el botón está seleccionado. Si este parámetro es FALSE, el botón no está seleccionado.

### <a name="return-value"></a>Valor devuelto

Ancho, en píxeles, del botón en el contexto de dispositivo especificado.

### <a name="remarks"></a>Comentarios

Este método se llama mediante el cuadro de diálogo Personalización (pestaña **comandos** ) cuando el botón está a punto de mostrarse en el cuadro de lista dibujado por el propietario.

La implementación predeterminada de este método muestra la imagen y la etiqueta de texto del botón si están disponibles. Si la etiqueta de texto del botón no está disponible, el método muestra el texto de información sobre herramientas.

Invalide este método para realizar un dibujo personalizado.

##  <a name="ongetcustomtooltiptext"></a>  CMFCToolBarButton::OnGetCustomToolTipText

Lo llama el marco de trabajo para recuperar el texto de información sobre herramientas personalizado para el botón.

```
virtual BOOL OnGetCustomToolTipText(CString& strToolTip);
```

### <a name="parameters"></a>Parámetros

*strToolTip*<br/>
enuncia `CString` Objeto que recibe el texto de información sobre herramientas personalizado.

### <a name="return-value"></a>Valor devuelto

Este método devuelve FALSE.

### <a name="remarks"></a>Comentarios

El marco de trabajo llama a este método cuando muestra la información sobre herramientas para el botón de la barra de herramientas. Si este método devuelve FALSE, el marco de trabajo utiliza una información sobre herramientas predeterminada.

La implementación predeterminada no hace nada y devuelve FALSE. Invalide este método y devuelva un valor distinto de cero para proporcionar el texto de información sobre herramientas personalizado para el botón de barra de herramientas.

##  <a name="onglobalfontschanged"></a>  CMFCToolBarButton::OnGlobalFontsChanged

Lo llama el marco de trabajo cuando ha cambiado la fuente global.

```
virtual void OnGlobalFontsChanged();
```

### <a name="remarks"></a>Comentarios

La implementación predeterminada de este método no hace nada. Invalide este método para actualizar la fuente que se usa para mostrar el texto del botón.

##  <a name="onmove"></a>  CMFCToolBarButton::OnMove

Lo llama el marco de trabajo cuando se mueve la barra de herramientas primaria.

```
virtual void OnMove();
```

### <a name="remarks"></a>Comentarios

La implementación predeterminada de este método no hace nada. Invalide este método para cambiar la posición del botón cuando se mueva la barra de herramientas primaria.

##  <a name="onshow"></a>  CMFCToolBarButton::OnShow

Lo llama el marco de trabajo cuando el botón se vuelve visible o invisible.

```
virtual void OnShow(BOOL bShow);
```

### <a name="parameters"></a>Parámetros

*bShow*<br/>
de Especifica si el botón está visible. Si este parámetro es TRUE, el botón está visible. De lo contrario, el botón no está visible.

### <a name="remarks"></a>Comentarios

La implementación predeterminada de este método no hace nada. Invalide este método para actualizar la visibilidad del botón.

##  <a name="onsize"></a>  CMFCToolBarButton::OnSize

Lo llama el marco de trabajo cuando cambia el tamaño o la posición de la barra de herramientas primaria y este cambio hace que el botón cambie de tamaño.

```
virtual void OnSize(int iSize);
```

### <a name="parameters"></a>Parámetros

*iSize*<br/>
de Nuevo ancho del botón.

### <a name="remarks"></a>Comentarios

La implementación predeterminada de este método no hace nada. Invalide este método para cambiar el tamaño del botón cuando cambie el tamaño o la posición de la barra de herramientas primaria.

##  <a name="ontoolhittest"></a>  CMFCToolBarButton::OnToolHitTest

Lo llama el marco de trabajo cuando la barra de herramientas primaria debe determinar si un punto está en el rectángulo delimitador del botón.

```
virtual BOOL OnToolHitTest(
    const CWnd* pWnd,
    TOOLINFO* pTI);
```

### <a name="parameters"></a>Parámetros

*pWnd*<br/>
de Ventana primaria del botón. Puede ser NULL.

*pTI*<br/>
de `TOOLINFO` Estructura que contiene información sobre una herramienta en un control de información sobre herramientas.

### <a name="return-value"></a>Valor devuelto

Resultado de `OnMenuButtonToolHitTest` si el botón puede recuperar un puntero a la ventana de marco primario; en caso contrario, false.

### <a name="remarks"></a>Comentarios

Este método llama a uno de los métodos siguientes si puede convertir la ventana primaria en un objeto de marco válido:

- [CMDIFrameWndEx::OnMenuButtonToolHitTest](../../mfc/reference/cmdiframewndex-class.md#onmenubuttontoolhittest)

- [CFrameWndEx::OnMenuButtonToolHitTest](../../mfc/reference/cframewndex-class.md#onmenubuttontoolhittest)

- [COleIPFrameWndEx::OnMenuButtonToolHitTest](../../mfc/reference/coleipframewndex-class.md#onmenubuttontoolhittest)

##  <a name="onupdatetooltip"></a>  CMFCToolBarButton::OnUpdateToolTip

Lo llama el marco de trabajo cuando la barra de herramientas primaria actualiza el texto de información sobre herramientas.

```
virtual BOOL OnUpdateToolTip(
    CWnd* pWndParent,
    int iButtonIndex,
    CToolTipCtrl& wndToolTip,
    CString& str);
```

### <a name="parameters"></a>Parámetros

*pWndParent*<br/>
de La ventana primaria.

*iButtonIndex*<br/>
de Índice de base cero del botón de la colección de botones primario.

*wndToolTip*<br/>
de Control que muestra el texto de la información sobre herramientas.

*str*<br/>
enuncia `CString` Objeto que recibe el texto de información sobre herramientas actualizado.

### <a name="return-value"></a>Valor devuelto

Este método devuelve FALSE.

### <a name="remarks"></a>Comentarios

La implementación predeterminada de este método no hace nada y devuelve FALSE. Invalide este método para devolver un valor distinto de cero si proporciona una cadena de texto de información sobre herramientas.

##  <a name="preparedrag"></a>  CMFCToolBarButton::PrepareDrag

Lo llama el marco de trabajo cuando el botón está a punto de realizar una operación de arrastrar y colocar.

```
virtual BOOL PrepareDrag(COleDataSource& srcItem);
```

### <a name="parameters"></a>Parámetros

*srcItem*<br/>
de `COleDataSource` Objeto que almacena información de estado sobre la operación de arrastrar y colocar.

### <a name="return-value"></a>Valor devuelto

TRUE si la operación se realiza correctamente; en caso contrario, FALSE.

### <a name="remarks"></a>Comentarios

El marco de trabajo llama a este método para preparar el botón de la barra de herramientas `COleDataSource` para almacenar su estado en el objeto proporcionado. Este método almacena su estado mediante la serialización a un archivo compartido y, a continuación, pasando ese archivo al método [COleDataSource:: CacheGlobalData](../../mfc/reference/coledatasource-class.md#cacheglobaldata) . Para obtener más información sobre la serialización del botón de la barra de herramientas, vea [CMFCToolBarButton:: Serialize](#serialize).

Este método no realiza ninguna acción y devuelve TRUE si el botón no se puede almacenar (el método [CMFCToolBarButton:: CanBeStored](#canbestored) devuelve false). Devuelve FALSE si se produce una excepción durante la serialización de objetos.

Para obtener más información sobre las operaciones OLE de arrastrar y colocar, vea [arrastrar y colocar (OLE)](../../mfc/drag-and-drop-ole.md).

##  <a name="rect"></a>  CMFCToolBarButton::Rect

Recupera el rectángulo delimitador del botón.

```
const CRect& Rect() const;
```

### <a name="return-value"></a>Valor devuelto

`CRect` Objeto que contiene el rectángulo delimitador de un botón.

##  <a name="resetimagetodefault"></a>  CMFCToolBarButton::ResetImageToDefault

Establece en el valor predeterminado la imagen asociada al botón.

```
virtual void ResetImageToDefault();
```

### <a name="remarks"></a>Comentarios

Este método recupera la imagen predeterminada de su barra de herramientas primaria mediante el método [CMFCToolBar:: GetDefaultImage](../../mfc/reference/cmfctoolbar-class.md#getdefaultimage) . Si el botón no tiene ninguna imagen predeterminada asociada, este método establece la etiqueta de texto del botón según su recurso de cadena mediante el método [CStringT:: LoadString](../../atl-mfc-shared/reference/cstringt-class.md#loadstring) . Para obtener más información sobre los recursos de cadena, vea [trabajar con archivos de recursos](../../windows/working-with-resource-files.md).

Este método no hace nada si el botón tiene una imagen definida por el usuario.

##  <a name="savebarstate"></a>  CMFCToolBarButton::SaveBarState

Guarda el estado del botón de la barra de herramientas.

```
virtual void SaveBarState();
```

### <a name="remarks"></a>Comentarios

El marco de trabajo llama a este método cuando `CMFCToolBarButton` crea un objeto como resultado de una operación de arrastrar y colocar.

La implementación predeterminada de este método no hace nada. Invalide este método para guardar el estado del botón de la barra de herramientas en un origen de datos externo.

##  <a name="serialize"></a>  CMFCToolBarButton::Serialize

Lee este objeto de un archivo o lo escribe en un archivo.

```
virtual void Serialize(CArchive& ar);
```

### <a name="parameters"></a>Parámetros

*ar*<br/>
de Objeto `CArchive` del que se va a serializar o en el que se va a serializar.

### <a name="remarks"></a>Comentarios

Este método admite procesos de transferencia de datos, como el portapapeles o las operaciones de arrastrar y colocar. Lee o escribe propiedades del botón, como el identificador, la etiqueta de texto y el ID. de imagen de o en `CArchive` el objeto proporcionado.

Para obtener ejemplos de serialización [, vea Serialización: Serializar un objeto](../../mfc/serialization-serializing-an-object.md).

##  <a name="setaccdata"></a>  CMFCToolBarButton::SetACCData

Rellena el objeto proporcionado `CAccessibilityData` con los datos de accesibilidad del botón de la barra de herramientas.

```
virtual BOOL SetACCData(
    CWnd* pParent,
    CAccessibilityData& data);
```

### <a name="parameters"></a>Parámetros

*pParent*<br/>
de Ventana primaria del botón de la barra de herramientas.

*data*<br/>
de `CAccessibilityData` Objeto que se rellena con los datos de accesibilidad del botón de la barra de herramientas.

### <a name="return-value"></a>Valor devuelto

Este método devuelve TRUE.

### <a name="remarks"></a>Comentarios

Invalide este método para que devuelva FALSE si el botón de la barra de herramientas no proporciona datos de accesibilidad.

##  <a name="setclipboardformatname"></a>  CMFCToolBarButton::SetClipboardFormatName

Cambia el nombre del portapapeles global.

```
static void __stdcall SetClipboardFormatName(LPCTSTR lpszName);
```

### <a name="parameters"></a>Parámetros

*lpszName*<br/>
de Nuevo nombre del formato del portapapeles global. No puede ser nulo.

### <a name="remarks"></a>Comentarios

Este método permite que se produzcan operaciones de arrastrar y colocar entre varias aplicaciones. Cada aplicación debe proporcionar el mismo nombre de formato del portapapeles.

Debe llamar a este método antes de que el marco de trabajo llame a [CMFCToolBarButton:: GetClipboardFormat](#getclipboardformat).

##  <a name="setimage"></a>  CMFCToolBarButton::SetImage

Establece el índice de la imagen del botón.

```
virtual void SetImage(int iImage);
```

### <a name="parameters"></a>Parámetros

*iImage*<br/>
de Índice de la imagen en la colección de imágenes de la barra de herramientas.

### <a name="remarks"></a>Comentarios

Si el botón de la barra de herramientas es un separador, *iImage* hace referencia al nuevo ancho del botón separador.

Si *iImage* es menor que cero, este método deshabilita el dibujo de la imagen y habilita el dibujo de la etiqueta de texto del botón.

##  <a name="setprotectedcommands"></a>  CMFCToolBarButton::SetProtectedCommands

Establece la lista de comandos que el usuario no puede personalizar.

```
static void SetProtectedCommands(const CList<UINT,UINT>& lstCmds);
```

### <a name="parameters"></a>Parámetros

*lstCmds*<br/>
de Lista de comandos protegidos.

### <a name="remarks"></a>Comentarios

En el modo de personalización, el marco de trabajo deshabilita los comandos del botón de la barra de herramientas que están protegidos. El usuario no puede realizar operaciones de arrastrar y colocar y editar en botones deshabilitados de la barra de herramientas.

Use el método [CMFCToolBarButton:: GetProtectedCommands](#getprotectedcommands) para recuperar la lista de comandos protegidos.

##  <a name="setradio"></a>  CMFCToolBarButton::SetRadio

Lo llama el marco de trabajo cuando un botón cambia su estado de activación.

```
virtual void SetRadio();
```

### <a name="remarks"></a>Comentarios

La implementación predeterminada de este método no hace nada. Invalide este método para realizar una acción personalizada cuando el botón cambie su estado activado.

##  <a name="setrect"></a>  CMFCToolBarButton::SetRect

Establece el rectángulo delimitador del botón.

```
void SetRect(const CRect rect);
```

### <a name="parameters"></a>Parámetros

*rect*<br/>
de Nuevo rectángulo delimitador del botón.

### <a name="remarks"></a>Comentarios

Este método llama al método [CMFCToolBarButton:: Move](#onmove) después de establecer el nuevo rectángulo delimitador.

##  <a name="setstyle"></a>  CMFCToolBarButton::SetStyle

Establece el estilo del botón.

```
virtual void SetStyle(UINT nStyle);
```

### <a name="parameters"></a>Parámetros

*nStyle*<br/>
de Nuevo estilo del botón.

### <a name="remarks"></a>Comentarios

La implementación predeterminada establece el miembro de datos [CMFCToolBarButton:: m_nStyle](#m_nstyle) en *nStyle*. Invalide este método si desea realizar un procesamiento adicional para controlar el cambio de estilo. Vea [estilos de control de barra de herramientas](toolbar-control-styles.md) para obtener una lista de marcas de estilo válidas.

##  <a name="setvisible"></a>  CMFCToolBarButton::SetVisible

Especifica si el botón está visible.

```
void SetVisible(BOOL bShow=TRUE);
```

### <a name="parameters"></a>Parámetros

*bShow*<br/>
de Valor booleano que especifica si se debe mostrar u ocultar el botón. Si este parámetro es TRUE, se muestra el botón. Si el parámetro es FALSE, el botón está oculto.

### <a name="remarks"></a>Comentarios

Use esta función para ocultar o mostrar un botón de la barra de herramientas determinado. Llame al método [CPane:: AdjustSizeImmediate](../../mfc/reference/cpane-class.md#adjustsizeimmediate) después de llamar a este método.

##  <a name="show"></a>  CMFCToolBarButton::Show

Muestra u oculta el botón.

```
void Show(BOOL bShow);
```

### <a name="parameters"></a>Parámetros

*bShow*<br/>
de Valor booleano que especifica si se debe mostrar u ocultar el botón. Si este parámetro es TRUE, se muestra el botón. Si el parámetro es FALSE, el botón está oculto.

### <a name="remarks"></a>Comentarios

El marco de trabajo llama a este método para actualizar la visibilidad de los botones de la barra de herramientas cuando se cambia el tamaño de la barra de herramientas principal. El marco de trabajo llama a este método con *bShow* establecido en false cuando el botón deja de caber dentro de los límites de la barra de herramientas. El marco de trabajo llama a este método con *bShow* establecido en true cuando después de cambiar el tamaño del botón de nuevo se ajusta dentro de los límites de la barra de herramientas.

Use el método [CMFCToolBarButton:: setVisible](#setvisible) para establecer la visibilidad general del botón.

Este método llama al método [CMFCToolBarButton:: show](#onshow) , después de actualizar el estado de visibilidad del botón.

## <a name="see-also"></a>Vea también

[Gráfico de jerarquías](../../mfc/hierarchy-chart.md)<br/>
[Clases](../../mfc/reference/mfc-classes.md)<br/>
[CMFCToolBar (clase)](../../mfc/reference/cmfctoolbar-class.md)<br/>
[CMFCToolBarImages (clase)](../../mfc/reference/cmfctoolbarimages-class.md)
