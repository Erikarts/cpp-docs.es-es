---
title: CMFCToolBarButton (clase)
ms.date: 11/04/2016
f1_keywords:
- CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeDropped
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeStored
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeStretched
- AFXTOOLBARBUTTON/CMFCToolBarButton::CompareWith
- AFXTOOLBARBUTTON/CMFCToolBarButton::CopyFrom
- AFXTOOLBARBUTTON/CMFCToolBarButton::CreateFromOleData
- AFXTOOLBARBUTTON/CMFCToolBarButton::EnableWindow
- AFXTOOLBARBUTTON/CMFCToolBarButton::ExportToMenuButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetClipboardFormat
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetHwnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetInvalidateRect
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetParentWnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetProtectedCommands
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetTextSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::HasFocus
- AFXTOOLBARBUTTON/CMFCToolBarButton::HaveHotBorder
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDrawImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDrawText
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDroppedDown
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsEditable
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsExtraSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsFirstInGroup
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsHidden
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsHorizontal
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsLastInGroup
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsLocked
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsOwnerOf
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsWindowVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::NotifyCommand
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnAddToCustomizePage
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnBeforeDrag
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnBeforeDrop
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCalculateSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCancelMode
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnChangeParentWnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnClick
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnClickUp
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnContextHelp
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCtlColor
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCustomizeMenu
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDblClk
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDraw
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDrawOnCustomizeList
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnGetCustomToolTipText
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnGlobalFontsChanged
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnMove
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnShow
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnToolHitTest
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnUpdateToolTip
- AFXTOOLBARBUTTON/CMFCToolBarButton::PrepareDrag
- AFXTOOLBARBUTTON/CMFCToolBarButton::Rect
- AFXTOOLBARBUTTON/CMFCToolBarButton::ResetImageToDefault
- AFXTOOLBARBUTTON/CMFCToolBarButton::SaveBarState
- AFXTOOLBARBUTTON/CMFCToolBarButton::Serialize
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetACCData
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetClipboardFormatName
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetProtectedCommands
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetRadio
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetRect
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetStyle
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::Show
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bTextBelow
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bUserButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWholeText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWrap
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWrapText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_nID
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_nStyle
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_strText
helpviewer_keywords:
- CMFCToolBarButton [MFC], CMFCToolBarButton
- CMFCToolBarButton [MFC], CanBeDropped
- CMFCToolBarButton [MFC], CanBeStored
- CMFCToolBarButton [MFC], CanBeStretched
- CMFCToolBarButton [MFC], CompareWith
- CMFCToolBarButton [MFC], CopyFrom
- CMFCToolBarButton [MFC], CreateFromOleData
- CMFCToolBarButton [MFC], EnableWindow
- CMFCToolBarButton [MFC], ExportToMenuButton
- CMFCToolBarButton [MFC], GetClipboardFormat
- CMFCToolBarButton [MFC], GetHwnd
- CMFCToolBarButton [MFC], GetImage
- CMFCToolBarButton [MFC], GetInvalidateRect
- CMFCToolBarButton [MFC], GetParentWnd
- CMFCToolBarButton [MFC], GetProtectedCommands
- CMFCToolBarButton [MFC], GetTextSize
- CMFCToolBarButton [MFC], HasFocus
- CMFCToolBarButton [MFC], HaveHotBorder
- CMFCToolBarButton [MFC], IsDrawImage
- CMFCToolBarButton [MFC], IsDrawText
- CMFCToolBarButton [MFC], IsDroppedDown
- CMFCToolBarButton [MFC], IsEditable
- CMFCToolBarButton [MFC], IsExtraSize
- CMFCToolBarButton [MFC], IsFirstInGroup
- CMFCToolBarButton [MFC], IsHidden
- CMFCToolBarButton [MFC], IsHorizontal
- CMFCToolBarButton [MFC], IsLastInGroup
- CMFCToolBarButton [MFC], IsLocked
- CMFCToolBarButton [MFC], IsOwnerOf
- CMFCToolBarButton [MFC], IsVisible
- CMFCToolBarButton [MFC], IsWindowVisible
- CMFCToolBarButton [MFC], NotifyCommand
- CMFCToolBarButton [MFC], OnAddToCustomizePage
- CMFCToolBarButton [MFC], OnBeforeDrag
- CMFCToolBarButton [MFC], OnBeforeDrop
- CMFCToolBarButton [MFC], OnCalculateSize
- CMFCToolBarButton [MFC], OnCancelMode
- CMFCToolBarButton [MFC], OnChangeParentWnd
- CMFCToolBarButton [MFC], OnClick
- CMFCToolBarButton [MFC], OnClickUp
- CMFCToolBarButton [MFC], OnContextHelp
- CMFCToolBarButton [MFC], OnCtlColor
- CMFCToolBarButton [MFC], OnCustomizeMenu
- CMFCToolBarButton [MFC], OnDblClk
- CMFCToolBarButton [MFC], OnDraw
- CMFCToolBarButton [MFC], OnDrawOnCustomizeList
- CMFCToolBarButton [MFC], OnGetCustomToolTipText
- CMFCToolBarButton [MFC], OnGlobalFontsChanged
- CMFCToolBarButton [MFC], OnMove
- CMFCToolBarButton [MFC], OnShow
- CMFCToolBarButton [MFC], OnSize
- CMFCToolBarButton [MFC], OnToolHitTest
- CMFCToolBarButton [MFC], OnUpdateToolTip
- CMFCToolBarButton [MFC], PrepareDrag
- CMFCToolBarButton [MFC], Rect
- CMFCToolBarButton [MFC], ResetImageToDefault
- CMFCToolBarButton [MFC], SaveBarState
- CMFCToolBarButton [MFC], Serialize
- CMFCToolBarButton [MFC], SetACCData
- CMFCToolBarButton [MFC], SetClipboardFormatName
- CMFCToolBarButton [MFC], SetImage
- CMFCToolBarButton [MFC], SetProtectedCommands
- CMFCToolBarButton [MFC], SetRadio
- CMFCToolBarButton [MFC], SetRect
- CMFCToolBarButton [MFC], SetStyle
- CMFCToolBarButton [MFC], SetVisible
- CMFCToolBarButton [MFC], Show
- CMFCToolBarButton [MFC], m_bImage
- CMFCToolBarButton [MFC], m_bText
- CMFCToolBarButton [MFC], m_bTextBelow
- CMFCToolBarButton [MFC], m_bUserButton
- CMFCToolBarButton [MFC], m_bWholeText
- CMFCToolBarButton [MFC], m_bWrap
- CMFCToolBarButton [MFC], m_bWrapText
- CMFCToolBarButton [MFC], m_nID
- CMFCToolBarButton [MFC], m_nStyle
- CMFCToolBarButton [MFC], m_strText
ms.assetid: 8a6ecffb-86b0-4f5c-8211-a9146b463efd
ms.openlocfilehash: 5d6b964543a5cbd8a8896fe768e2d57a098ead97
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/14/2020
ms.locfileid: "81372215"
---
# <a name="cmfctoolbarbutton-class"></a>CMFCToolBarButton (clase)

Proporciona funcionalidad de botón a las barras de herramientas.

## <a name="syntax"></a>Sintaxis

```
class CMFCToolBarButton : public CObject
```

## <a name="members"></a>Miembros

### <a name="public-constructors"></a>Constructores públicos

|Nombre|Descripción|
|----------|-----------------|
|[CMFCToolBarButton::CMFCToolBarButton](#cmfctoolbarbutton)|Construye e inicializa un objeto `CMFCToolBarButton`.|
|`CMFCToolBarButton::~CMFCToolBarButton`|Destructor.|

### <a name="public-methods"></a>Métodos públicos

|Nombre|Descripción|
|----------|-----------------|
|[CMFCToolBarButton::CanBedropped](#canbedropped)|Especifica si un usuario puede colocar un botón en una barra de herramientas o un menú durante la personalización.|
|[CMFCToolBarButton::CanBeStored](#canbestored)|Especifica si se puede almacenar el botón.|
|[CMFCToolBarButton::CanBestretched](#canbestretched)|Especifica si un usuario puede estirar el botón durante la personalización.|
|[CMFCToolBarButton::CompareWith](#comparewith)|Compara esta instancia con `CMFCToolBarButton` el objeto proporcionado.|
|[CMFCToolBarButton::CopyFrom](#copyfrom)|Copia las propiedades de otro botón de la barra de herramientas en el botón actual.|
|[CMFCToolBarButton::CreateFromOleData](#createfromoledata)|Crea `CMFCToolBarButton` un objeto `COleDataObject` a partir del objeto proporcionado.|
|`CMFCToolBarButton::CreateObject`|Usado por el marco de trabajo para crear una instancia dinámica de este tipo de clase.|
|[CMFCToolBarButton::EnableWindow](#enablewindow)|Habilita o deshabilita la entrada de mouse y de teclado.|
|[CMFCToolBarButton::ExportToMenuButton](#exporttomenubutton)|Copia texto del botón de la barra de herramientas en un menú.|
|[CMFCToolBarButton::GetClipboardFormat](#getclipboardformat)|Recupera el formato global del portapapeles para la aplicación.|
|[CMFCToolBarButton::GetHwnd](#gethwnd)|Recupera el identificador de ventana asociado al botón de barra de herramientas.|
|[CMFCToolBarButton::GetImage](#getimage)|Recupera el índice de imagen del botón.|
|[CMFCToolBarButton::GetInvalidateRect](#getinvalidaterect)|Recupera la región del área de cliente del botón que se debe volver a dibujar.|
|[CMFCToolBarButton::GetParentWnd](#getparentwnd)|Recupera la ventana primaria del botón.|
|[CMFCToolBarButton::GetProtectedCommands](#getprotectedcommands)|Recupera la lista de comandos que el usuario no puede personalizar.|
|[CMFCToolBarButton::GetTextSize](#gettextsize)|Recupera el tamaño del texto del botón.|
|[CMFCToolBarButton::HasFocus](#hasfocus)|Determina si el botón tiene el foco de entrada actual.|
|[CMFCToolBarButton::HaveHotBorder](#havehotborder)|Determina si se muestra un borde del botón cuando un usuario selecciona el botón.|
|[CMFCToolBarButton::IsDrawImage](#isdrawimage)|Determina si se muestra una imagen en el botón.|
|[CMFCToolBarButton::IsDrawText](#isdrawtext)|Determina si se muestra una etiqueta de texto en el botón.|
|[CMFCToolBarButton::IsDroppedDown](#isdroppeddown)|Determina si el botón muestra un submenú.|
|[CMFCToolBarButton::IsEditable](#iseditable)|Determina si el botón se puede personalizar.|
|[CMFCToolBarButton::IsExtraSize](#isextrasize)|Determina si el botón se puede mostrar con un borde extendido.|
|[CMFCToolBarButton::IsFirstInGroup](#isfirstingroup)|Determina si el botón está en la primera posición de su grupo de botones.|
|[CMFCToolBarButton::IsHidden](#ishidden)|Determina si el botón está oculto.|
|[CMFCToolBarButton::IsHorizontal](#ishorizontal)|Determina si el botón se encuentra en una barra de herramientas horizontal.|
|[CMFCToolBarButton::IslastInGroup](#islastingroup)|Especifica si el botón está en la última posición de su grupo de botones.|
|[CMFCToolBarButton::IsLocked](#islocked)|Determina si el botón está en una barra de herramientas bloqueada (no personalizable).|
|[CMFCToolBarButton::IsOwnerOf](#isownerof)|Determina si el botón es el propietario del identificador de ventana proporcionado.|
|[CMFCToolBarButton::IsVisible](#isvisible)|Determina si el botón de la barra de herramientas está visible.|
|[CMFCToolBarButton::IsWindowVisible](#iswindowvisible)|Determina si el identificador de ventana subyacente del botón está visible.|
|[CMFCToolBarButton::NotifyCommand](#notifycommand)|Especifica si el botón procesa el [mensaje de WM_COMMAND.](/windows/win32/menurc/wm-command)|
|[CMFCToolBarButton::OnAddToCustomizePage](#onaddtocustomizepage)|Llamado por el marco de trabajo cuando el botón se agrega a un **personalizar** cuadro de diálogo.|
|[CMFCToolBarButton::OnBeforeDrag](#onbeforedrag)|Especifica si se puede arrastrar el botón.|
|[CMFCToolBarButton::OnBeforeDrop](#onbeforedrop)|Especifica si un usuario puede colocar el botón en la barra de herramientas de destino.|
|[CMFCToolBarButton::OnCalculateSize](#oncalculatesize)|Llamado por el marco de trabajo para calcular el tamaño del botón para el contexto de dispositivo especificado y el estado de acoplamiento.|
|[CMFCToolBarButton::OnCancelMode](#oncancelmode)|Llamado por el marco de trabajo para controlar el [mensaje de WM_CANCELMODE.](/windows/win32/winmsg/wm-cancelmode)|
|[CMFCToolBarButton::OnChangeParentWnd](#onchangeparentwnd)|Llamado por el marco de trabajo cuando el botón se inserta en una nueva barra de herramientas.|
|[CMFCToolBarButton::OnClick](#onclick)|Llamado por el marco de trabajo cuando el usuario hace clic en el botón del mouse.|
|[CMFCToolBarButton::OnClickUp](#onclickup)|Llamado por el marco de trabajo cuando el usuario suelta el botón del mouse.|
|[CMFCToolBarButton::OnContextHelp](#oncontexthelp)|Llamado por el marco de trabajo cuando la barra de herramientas primaria controla un mensaje de WM_HELPHITTEST.|
|[CMFCToolBarButton::OnCtlColor](#onctlcolor)|Llamado por el marco de trabajo cuando la barra de herramientas primaria controla un mensaje de WM_CTLCOLOR.|
|[CMFCToolBarButton::OnCustomizeMenu](#oncustomizemenu)|Permite que el botón modifique el menú proporcionado cuando la aplicación muestra un menú contextual en la barra de herramientas principal.|
|[CMFCToolBarButton::OnDblClk](#ondblclk)|Llamado por el marco de trabajo cuando la barra de herramientas primaria controla un [mensaje de WM_LBUTTONDBLCLK.](/windows/win32/inputdev/wm-lbuttondblclk)|
|[CMFCToolBarButton::OnDraw](#ondraw)|Llamado por el marco de trabajo para dibujar el botón mediante el uso de los estilos y opciones especificados.|
|[CMFCToolBarButton::OnDrawOnCustomizeList](#ondrawoncustomizelist)|Llamado por el marco de trabajo para dibujar el botón en el **comandos** panel de la **personalizar** cuadro de diálogo.|
|[CMFCToolBarButton::OnGetCustomToolTipText](#ongetcustomtooltiptext)|Llamado por el marco de trabajo para recuperar el texto de información sobre herramientas personalizado para el botón.|
|[CMFCToolBarButton::OnGlobalFontsChanged](#onglobalfontschanged)|Llamado por el marco de trabajo cuando la fuente global ha cambiado.|
|[CMFCToolBarButton::OnMove](#onmove)|Llamado por el marco de trabajo cuando se mueve la barra de herramientas principal.|
|[CMFCToolBarButton::OnShow](#onshow)|Llamado por el marco de trabajo cuando el botón se vuelve visible o invisible.|
|[CMFCToolBarButton::OnSize](#onsize)|Llamado por el marco de trabajo cuando la barra de herramientas primaria cambia su tamaño o posición y este cambio requiere que el botón cambie el tamaño.|
|[CMFCToolBarButton::OnToolHitTest](#ontoolhittest)|Llamado por el marco de trabajo cuando la barra de herramientas primaria debe determinar si un punto está en el rectángulo delimitador del botón.|
|[CMFCToolBarButton::OnUpdateToolTip](#onupdatetooltip)|Llamado por el marco de trabajo cuando la barra de herramientas primaria actualiza su texto de información sobre herramientas.|
|[CMFCToolBarButton::PrepareDrag](#preparedrag)|Llamado por el marco de trabajo cuando el botón está a punto de realizar una operación de arrastrar y colocar.|
|[CMFCToolBarButton::Rect](#rect)|Recupera el rectángulo delimitador del botón.|
|[CMFCToolBarButton::ResetImageToDefault](#resetimagetodefault)|Establece en el valor predeterminado la imagen asociada al botón.|
|[CMFCToolBarButton::SaveBarState](#savebarstate)|Guarda el estado del botón de la barra de herramientas.|
|[CMFCToolBarButton::Serialize](#serialize)|Lee este objeto de un archivo o lo escribe en un archivo. (Invalida [CObject::Serialize](../../mfc/reference/cobject-class.md#serialize)).|
|[CMFCToolBarButton::SetACCData](#setaccdata)|Rellena el `CAccessibilityData` objeto proporcionado con datos de accesibilidad desde el botón de la barra de herramientas.|
|[CMFCToolBarButton::SetClipboardFormatName](#setclipboardformatname)|Cambia el nombre del formato global del portapapeles.|
|[CMFCToolBarButton::SetImage](#setimage)|Establece el índice de imagen del botón.|
|[CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands)|Establece la lista de comandos que el usuario no puede personalizar.|
|[CMFCToolBarButton::SetRadio](#setradio)|Llamado por el marco de trabajo cuando un botón cambia su estado comprobado.|
|[CMFCToolBarButton::SetRect](#setrect)|Establece el rectángulo delimitador del botón.|
|[CMFCToolBarButton::SetStyle](#setstyle)|Establece el estilo del botón.|
|[CMFCToolBarButton::SetVisible](#setvisible)|Especifica si el botón está visible.|
|[CMFCToolBarButton::Show](#show)|Muestra u oculta el botón.|

### <a name="data-members"></a>Miembros de datos

|Nombre|Descripción|
|----------|-----------------|
|[CMFCToolBarButton::m_bImage](#m_bimage)|Especifica si se muestra una imagen en el botón.|
|[CMFCToolBarButton::m_bText](#m_btext)|Especifica si se muestra una etiqueta de texto en el botón.|
|[CMFCToolBarButton::m_bTextBelow](#m_btextbelow)|Especifica si la etiqueta de texto se muestra debajo de la imagen en el botón.|
|[CMFCToolBarButton::m_bUserButton](#m_buserbutton)|Especifica si el botón tiene una imagen definida por el usuario.|
|[CMFCToolBarButton::m_bWholeText](#m_bwholetext)|Especifica si el botón muestra su etiqueta de texto completo incluso si no cabe en el rectángulo delimitador.|
|[CMFCToolBarButton::m_bWrap](#m_bwrap)|Especifica si el botón situado junto a un separador se colocará en la fila siguiente.|
|[CMFCToolBarButton::m_bWrapText](#m_bwraptext)|Especifica si las etiquetas de texto de varias líneas están habilitadas.|
|[CMFCToolBarButton::m_nID](#m_nid)|El identificador de comando del botón.|
|[CMFCToolBarButton::m_nStyle](#m_nstyle)|El estilo del botón.|
|[CMFCToolBarButton::m_strText](#m_strtext)|La etiqueta de texto del botón.|

## <a name="remarks"></a>Observaciones

Un `CMFCToolbarButton` objeto es un control que reside en una barra de herramientas. Su comportamiento se asemeja al de un botón ordinario. Puede asignar una imagen y una etiqueta de texto a este objeto. Un botón de barra de herramientas también puede tener un identificador de comando. Cuando el usuario hace clic en el botón de la barra de herramientas, el marco de trabajo ejecuta el comando que especifica este identificador.

Normalmente, los botones de la barra de herramientas se pueden personalizar: el usuario puede arrastrar botones de una barra de herramientas a otra y copiar, pegar, eliminar y editar etiquetas de texto e imágenes. Para evitar que el usuario personalice la barra de herramientas, puede bloquear la barra de herramientas de una de estas dos maneras. Establezca el `bLocked` indicador en TRUE cuando llame a [CMFCToolBar::LoadToolBar](../../mfc/reference/cmfctoolbar-class.md#loadtoolbar)o agregue el identificador de comando de un botón individual a la lista global de comandos protegidos mediante el método [CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands) .

`CMFCToolBarButton`los objetos muestran imágenes de las colecciones globales de imágenes de la barra de herramientas en la aplicación. Estas colecciones se mantienen mediante la barra de herramientas primaria, [CMFCToolBar (Clase).](../../mfc/reference/cmfctoolbar-class.md) Para obtener más información, vea [CMFCToolBarImages (Clase)](../../mfc/reference/cmfctoolbarimages-class.md).

Cuando el usuario hace clic en un botón de la barra de herramientas, su barra de herramientas principal procesa el mensaje del mouse y comunica las acciones adecuadas al botón. Si el botón tiene un identificador de comando válido, la barra de herramientas principal envía el mensaje WM_COMMAND al marco primario.

La `CMFCToolBarButton` clase es la clase base para otras clases de botón de barra de herramientas, como [CMFCToolBarMenuButton (Clase)](../../mfc/reference/cmfctoolbarmenubutton-class.md), [CMFCToolBarEditBoxButton (Clase)](../../mfc/reference/cmfctoolbareditboxbutton-class.md)y [CMFCToolBarComboBoxButton (Clase).](../../mfc/reference/cmfctoolbarcomboboxbutton-class.md)

## <a name="example"></a>Ejemplo

En el ejemplo siguiente se `CMFCToolBarButton` muestra cómo configurar `CMFCToolBarButton` un objeto mediante varios métodos en la clase. En el ejemplo se muestra cómo habilitar la entrada del mouse y el teclado, establecer el índice de imagen del botón, establecer el rectángulo delimitador del botón y hacer que el botón sea visible. Este fragmento de código forma parte del [ejemplo Control](../../overview/visual-cpp-samples.md)de pestañas .

[!code-cpp[NVC_MFC_TabControl#1](../../mfc/reference/codesnippet/cpp/cmfctoolbarbutton-class_1.cpp)]
[!code-cpp[NVC_MFC_TabControl#2](../../mfc/reference/codesnippet/cpp/cmfctoolbarbutton-class_2.cpp)]

## <a name="inheritance-hierarchy"></a>Jerarquía de herencia

[CObject](../../mfc/reference/cobject-class.md)

[CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md)

## <a name="requirements"></a>Requisitos

**Encabezado:** afxtoolbarbutton.h

## <a name="cmfctoolbarbuttoncanbedropped"></a><a name="canbedropped"></a>CMFCToolBarButton::CanBedropped

Especifica si un usuario puede colocar un botón en una barra de herramientas o un menú durante la personalización.

```
virtual BOOL CanBeDropped(CMFCToolBar* pToolbar);
```

### <a name="parameters"></a>Parámetros

*pToolbar*<br/>
[in] Sin utilizar.

### <a name="return-value"></a>Valor devuelto

Este método devuelve TRUE.

### <a name="remarks"></a>Observaciones

De forma predeterminada, se puede colocar un botón de barra de herramientas en cada barra de herramientas personalizable (es decir, no bloqueada).

La implementación predeterminada de este método devuelve TRUE. Invalide este método y devuelva FALSE si desea evitar que el usuario cambie la posición del botón.

## <a name="cmfctoolbarbuttoncanbestored"></a><a name="canbestored"></a>CMFCToolBarButton::CanBeStored

Determina si se puede almacenar el botón.

```
virtual BOOL CanBeStored() const;
```

### <a name="return-value"></a>Valor devuelto

Este método devuelve TRUE.

### <a name="remarks"></a>Observaciones

El marco de trabajo usa este método para determinar si el botón puede participar en una operación de arrastrar y colocar.

La implementación predeterminada devuelve TRUE. Invalide este método si el botón no se puede almacenar como parte de una operación de arrastrar y colocar. Para obtener más información acerca de las operaciones de arrastrar y colocar, vea [arrastrar y colocar OLE](../../mfc/drag-and-drop-ole.md).

## <a name="cmfctoolbarbuttoncanbestretched"></a><a name="canbestretched"></a>CMFCToolBarButton::CanBestretched

Especifica si un usuario puede estirar el botón durante la personalización.

```
virtual BOOL CanBeStretched() const;
```

### <a name="return-value"></a>Valor devuelto

Este método devuelve FALSE.

### <a name="remarks"></a>Observaciones

El marco de trabajo usa este método para determinar si el botón se puede estirar en modo de personalización.

La implementación predeterminada de este método devuelve FALSE. Invalide este método para devolver TRUE para un control de ancho variable, como un cuadro combinado o un control deslizante.

Para obtener más información sobre el modo de personalización, vea [CMFCToolBar::SetCustomizeMode](../../mfc/reference/cmfctoolbar-class.md#setcustomizemode).

## <a name="cmfctoolbarbuttoncmfctoolbarbutton"></a><a name="cmfctoolbarbutton"></a>CMFCToolBarButton::CMFCToolBarButton

Construye e inicializa un objeto `CMFCToolBarButton`.

```
CMFCToolBarButton(
    UINT uiID,
    int iImage,
    LPCTSTR lpszText=NULL,
    BOOL bUserButton=FALSE,
    BOOL bLocked=FALSE);
```

### <a name="parameters"></a>Parámetros

*uiID*<br/>
[en] El identificador de comando del botón.

*iImage*<br/>
[en] El índice de imagen del botón de la colección de imágenes.

*lpszText*<br/>
[en] La etiqueta de texto del botón. Puede ser NULL.

*bUserButton*<br/>
[en] Valor booleano que determina si el botón está definido por el usuario. Si este parámetro es TRUE, el botón está definido por el usuario. De lo contrario, la imagen del botón se carga desde un recurso.

*Bloqueado*<br/>
[en] Valor booleano que determina si se puede personalizar el botón. Si este parámetro es TRUE, el botón no se puede personalizar. De lo contrario, el botón se puede personalizar.

## <a name="cmfctoolbarbuttoncomparewith"></a><a name="comparewith"></a>CMFCToolBarButton::CompareWith

Compara esta instancia con `CMFCToolBarButton` el objeto proporcionado.

```
virtual BOOL CompareWith(const CMFCToolBarButton& other) const;
```

### <a name="parameters"></a>Parámetros

*Otro*<br/>
[en] Referencia al objeto que se va a comparar con esta instancia.

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el objeto proporcionado es igual al valor de esta instancia; de lo contrario, 0.

### <a name="remarks"></a>Observaciones

La implementación predeterminada determina si el identificador de comando del objeto proporcionado es igual al identificador de comando de esta instancia. Invalide este método si debe realizar `CMFCToolBarButton` un procesamiento adicional para determinar si dos objetos son iguales.

## <a name="cmfctoolbarbuttoncopyfrom"></a><a name="copyfrom"></a>CMFCToolBarButton::CopyFrom

Copia las propiedades de otro botón de la barra de herramientas en el botón actual.

```
virtual void CopyFrom(const CMFCToolBarButton& src);
```

### <a name="parameters"></a>Parámetros

*src*<br/>
[en] Una referencia al botón de origen desde el que se copia.

### <a name="remarks"></a>Observaciones

Llame a este método para copiar otro botón de la barra de herramientas en este botón de la barra de herramientas.

## <a name="cmfctoolbarbuttoncreatefromoledata"></a><a name="createfromoledata"></a>CMFCToolBarButton::CreateFromOleData

Crea `CMFCToolBarButton` un objeto `COleDataObject` a partir del objeto proporcionado.

```
static CMFCToolBarButton* __stdcall CreateFromOleData(COleDataObject* pDataObject);
```

### <a name="parameters"></a>Parámetros

*pDataObject*<br/>
[en] El objeto de datos OLE de origen.

### <a name="return-value"></a>Valor devuelto

Objeto `CMFCToolBarButton` creado.

### <a name="remarks"></a>Observaciones

El marco de trabajo utiliza este método para realizar la transferencia de datos en varios formatos. Por ejemplo, `CMFCOutlookBarPane::OnDragOver` el método utiliza este método para realizar operaciones de arrastrar y colocar.

## <a name="cmfctoolbarbuttonenablewindow"></a><a name="enablewindow"></a>CMFCToolBarButton::EnableWindow

Habilita o deshabilita la entrada de mouse y de teclado.

```
virtual void EnableWindow(BOOL bEnable = TRUE);
```

### <a name="parameters"></a>Parámetros

*bHabilitar*<br/>
[en] Establezca este parámetro en TRUE para habilitar la entrada o en FALSE para deshabilitar la entrada.

### <a name="remarks"></a>Observaciones

Este método `EnableWindow` llama a la función para habilitar o deshabilitar la entrada. Para obtener más información, vea [EnableWindow](/windows/win32/api/winuser/nf-winuser-enablewindow) en el Windows SDK.

## <a name="cmfctoolbarbuttonexporttomenubutton"></a><a name="exporttomenubutton"></a>CMFCToolBarButton::ExportToMenuButton

Copia texto del botón de la barra de herramientas en un menú.

```
virtual BOOL ExportToMenuButton(CMFCToolBarMenuButton& menuButton) const;
```

### <a name="parameters"></a>Parámetros

*menuButton*<br/>
[en] Una referencia al botón de menú de destino.

### <a name="return-value"></a>Valor devuelto

Este método devuelve TRUE.

### <a name="remarks"></a>Observaciones

El marco de trabajo llama a este método para copiar el texto de un botón de barra de herramientas a un botón de menú. La implementación predeterminada copia la etiqueta de texto del botón. Si la etiqueta de texto está vacía, este método copia el texto de información sobre herramientas del botón.

La implementación predeterminada de este método devuelve TRUE. Invalide este método si desea realizar acciones adicionales cuando el marco de trabajo convierte un objeto que se deriva de [CMFCToolbarButton](../../mfc/reference/cmfctoolbarbutton-class.md) en un botón de menú.

## <a name="cmfctoolbarbuttongetclipboardformat"></a><a name="getclipboardformat"></a>CMFCToolBarButton::GetClipboardFormat

Recupera el formato global del portapapeles para la aplicación.

```
static CLIPFORMAT __stdcall GetClipboardFormat();
```

### <a name="return-value"></a>Valor devuelto

El valor CLIPFORMAT global para la aplicación.

### <a name="remarks"></a>Observaciones

El marco de trabajo llama a este método para recuperar el formato del portapapeles para las operaciones de transferencia de datos OLE. Por ejemplo, el [CMFCToolBarButton::CreateFromOleData](#createfromoledata) método utiliza este método para copiar datos de un objeto de datos OLE de origen.

Este método establece el valor CLIPFORMAT global la primera vez que se llama a este método. Todas las llamadas posteriores a este método devuelven este valor.

Para permitir que se produzcan operaciones de arrastrar y colocar entre aplicaciones, llame a la [CMFCToolBarButton::SetClipboardFormatName](#setclipboardformatname) método.

Para obtener más información acerca de los portapapeles en MFC, vea [Portapapeles](../../mfc/clipboard.md).

## <a name="cmfctoolbarbuttongethwnd"></a><a name="gethwnd"></a>CMFCToolBarButton::GetHwnd

Recupera el identificador de ventana asociado al botón de barra de herramientas.

```
virtual HWND GetHwnd();
```

### <a name="return-value"></a>Valor devuelto

El identificador de ventana que está asociado con el botón de barra de herramientas o NULL si el botón de barra de herramientas no tiene ningún identificador de ventana asociado.

### <a name="remarks"></a>Observaciones

La implementación predeterminada de este método devuelve NULL. Invalide este método para devolver el identificador de ventana del control específico.

## <a name="cmfctoolbarbuttongetimage"></a><a name="getimage"></a>CMFCToolBarButton::GetImage

Recupera el índice de imagen del botón.

```
int GetImage() const;
```

### <a name="return-value"></a>Valor devuelto

El índice de la imagen asociada a este botón.

### <a name="remarks"></a>Observaciones

Si el botón tiene una imagen definida por el usuario (es decir, si *bUserButton* era TRUE en el constructor), el índice devuelto especifica una imagen en la colección de imágenes definidas por el usuario (consulte [CMFCToolBar::GetUserImages](../../mfc/reference/cmfctoolbar-class.md#getuserimages)). De lo contrario, el índice especifica una imagen de la colección de imágenes que se cargan desde un archivo de recursos (consulte [CMFCToolBar::GetImages](../../mfc/reference/cmfctoolbar-class.md#getimages)). Para obtener más información acerca de los archivos de recursos, consulte [Trabajar con archivos](../../windows/working-with-resource-files.md)de recursos .

## <a name="cmfctoolbarbuttongetinvalidaterect"></a><a name="getinvalidaterect"></a>CMFCToolBarButton::GetInvalidateRect

Recupera la región del área de cliente del botón que se debe volver a dibujar.

```
virtual const CRect GetInvalidateRect() const;
```

### <a name="return-value"></a>Valor devuelto

Objeto `CRect` que especifica la región que se debe volver a dibujar.

### <a name="remarks"></a>Observaciones

La implementación predeterminada de este método devuelve todo el área de cliente. Invalide este método si desea que se vuelva a dibujar un área diferente.

## <a name="cmfctoolbarbuttongetparentwnd"></a><a name="getparentwnd"></a>CMFCToolBarButton::GetParentWnd

Recupera la ventana primaria del botón.

```
CWnd* GetParentWnd() const;
```

### <a name="return-value"></a>Valor devuelto

La ventana principal del botón.

## <a name="cmfctoolbarbuttongetprotectedcommands"></a><a name="getprotectedcommands"></a>CMFCToolBarButton::GetProtectedCommands

Recupera la lista de comandos que el usuario no puede personalizar.

```
static const CList<UINT,UINT>& GetProtectedCommands();
```

### <a name="return-value"></a>Valor devuelto

La lista de comandos protegidos.

### <a name="remarks"></a>Observaciones

En el modo de personalización, el marco de trabajo deshabilita los comandos de botón de barra de herramientas que están protegidos. El usuario no puede realizar operaciones de arrastrar y colocar y editar en los botones de la barra de herramientas deshabilitados.

Utilice el método [CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands) para definir la lista de comandos protegidos.

## <a name="cmfctoolbarbuttongettextsize"></a><a name="gettextsize"></a>CMFCToolBarButton::GetTextSize

Recupera el tamaño del texto del botón.

```
SIZE GetTextSize() const;
```

### <a name="return-value"></a>Valor devuelto

Objeto SIZE que contiene el tamaño, en píxeles, del texto del botón.

## <a name="cmfctoolbarbuttonhasfocus"></a><a name="hasfocus"></a>CMFCToolBarButton::HasFocus

Determina si el botón tiene el foco de entrada actual.

```
virtual BOOL HasFocus() const;
```

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el botón tiene el foco de entrada; de lo contrario 0.

### <a name="remarks"></a>Observaciones

La implementación predeterminada de este método devuelve distinto de cero si el botón tiene el foco de entrada o es una ventana secundaria o descendiente de la ventana que tiene el foco de entrada. Puede invalidar esta función para personalizar este comportamiento.

## <a name="cmfctoolbarbuttonhavehotborder"></a><a name="havehotborder"></a>CMFCToolBarButton::HaveHotBorder

Determina si se muestra un borde del botón cuando un usuario selecciona el botón.

```
virtual BOOL HaveHotBorder() const;
```

### <a name="return-value"></a>Valor devuelto

Este método devuelve TRUE.

### <a name="remarks"></a>Observaciones

El marco de trabajo llama a este método para determinar si el botón de barra de herramientas debe mostrar su borde cuando un usuario lo selecciona.

La implementación predeterminada devuelve TRUE. Puede invalidar este método para personalizar este comportamiento.

## <a name="cmfctoolbarbuttonisdrawimage"></a><a name="isdrawimage"></a>CMFCToolBarButton::IsDrawImage

Determina si se muestra una imagen en el botón.

```
BOOL IsDrawImage() const;
```

### <a name="return-value"></a>Valor devuelto

Distinto de cero si se muestra una imagen en el botón; de lo contrario 0.

### <a name="remarks"></a>Observaciones

Este método devuelve FALSE si el botón de barra de herramientas no tiene ninguna imagen asociada ( [CMFCToolBarButton::GetImage](#getimage) devuelve -1) o si [CMFCToolBarButton::m_bImage](#m_bimage) está establecido en FALSE.

## <a name="cmfctoolbarbuttonisdrawtext"></a><a name="isdrawtext"></a>CMFCToolBarButton::IsDrawText

Determina si se muestra una etiqueta de texto en el botón.

```
BOOL IsDrawText() const;
```

### <a name="return-value"></a>Valor devuelto

Distinto de cero si se muestra una etiqueta de texto; de lo contrario 0.

### <a name="remarks"></a>Observaciones

Este método devuelve FALSE si el botón de barra de herramientas no tiene ninguna etiqueta de texto asociada ( [CMFCToolBarButton::m_strText](#m_strtext) está vacío) o [CMFCToolBarButton::m_bText](#m_btext) se establece en FALSE.

## <a name="cmfctoolbarbuttonisdroppeddown"></a><a name="isdroppeddown"></a>CMFCToolBarButton::IsDroppedDown

Determina si el botón muestra un submenú.

```
virtual BOOL IsDroppedDown() const;
```

### <a name="return-value"></a>Valor devuelto

Este método devuelve FALSE.

### <a name="remarks"></a>Observaciones

La implementación predeterminada de este método devuelve FALSE. Invalide este método para devolver TRUE si el control muestra un submenú.

## <a name="cmfctoolbarbuttoniseditable"></a><a name="iseditable"></a>CMFCToolBarButton::IsEditable

Determina si el botón se puede personalizar.

```
virtual BOOL IsEditable() const;
```

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el usuario puede personalizar un botón; de lo contrario 0.

### <a name="remarks"></a>Observaciones

El marco de trabajo llama a este método para determinar si el usuario puede personalizar el botón de la barra de herramientas mediante las operaciones de arrastrar y colocar o editar.

La implementación predeterminada devuelve FALSE si el identificador de comando del botón es un comando estándar (puede determinarlo llamando a la `IsStandardCommand` función) o si el identificador de comando está en la lista de comandos protegidos. Para obtener más información acerca de los comandos protegidos, vea [CMFCToolBarButton::GetProtectedCommands](#getprotectedcommands) y [CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands).

Invalide este método para personalizar su comportamiento.

## <a name="cmfctoolbarbuttonisextrasize"></a><a name="isextrasize"></a>CMFCToolBarButton::IsExtraSize

Determina si el botón se puede mostrar con un borde extendido.

```
virtual BOOL IsExtraSize() const;
```

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el botón de la barra de herramientas se puede mostrar con un borde extendido; de lo contrario 0.

### <a name="remarks"></a>Observaciones

Varios aspectos utilizan un tamaño adicional para los bordes de los botones de la barra de herramientas (por ejemplo, botones redondos).

Si el usuario mueve este botón de una barra de herramientas a otra, el marco de trabajo llama a la [CMFCToolBarButton::OnChangeParentWnd](#onchangeparentwnd) método. El [método CMFCToolBarButton::OnChangeParentWnd](#onchangeparentwnd) establece el indicador de tamaño adicional en el de la nueva barra de herramientas primaria (para obtener más información, vea [CMFCToolBar::IsButtonExtraSizeAvailable](../../mfc/reference/cmfctoolbar-class.md#isbuttonextrasizeavailable)).

## <a name="cmfctoolbarbuttonisfirstingroup"></a><a name="isfirstingroup"></a>CMFCToolBarButton::IsFirstInGroup

Determina si el botón está en la primera posición de su grupo de botones.

```
virtual BOOL IsFirstInGroup() const;
```

### <a name="return-value"></a>Valor devuelto

TRUESi el botón es el primer botón de su grupo de botones; de lo contrario FALSO.

### <a name="remarks"></a>Observaciones

Este método define un grupo de *botones* como un conjunto vecino de botones que se colocan en la misma fila y están delimitados por separadores o el borde de la barra de herramientas. Este método devuelve FALSE si el botón de barra de herramientas hace referencia al botón **Personalizar.** Para obtener más información sobre el botón **Personalizar,** vea [CMFCToolBar::GetCustomizeButton](../../mfc/reference/cmfctoolbar-class.md#getcustomizebutton).

Llame a la [CMFCToolBarButton::IsLastInGroup](#islastingroup) método para determinar si el botón está en la última posición de su grupo de botones.

## <a name="cmfctoolbarbuttonishidden"></a><a name="ishidden"></a>CMFCToolBarButton::IsHidden

Determina si el botón está oculto.

```
BOOL IsHidden() const;
```

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el botón está oculto (invisible); de lo contrario 0.

### <a name="remarks"></a>Observaciones

El marco de trabajo llama a este método cuando la barra de herramientas primaria se extiende para determinar si el botón de la barra de herramientas está visible.

Si establece el botón para que sea invisible mediante el [CMFCToolBarButton::SetVisible](#setvisible) método, utilice [CMFCToolBarButton::IsVisible](#isvisible) para determinar si el botón de barra de herramientas está visible.

De forma predeterminada, todos los botones de la barra de herramientas están visibles. Utilice el [método CMFCToolBarButton::Show](#show) para ocultar o mostrar los botones de la barra de herramientas.

## <a name="cmfctoolbarbuttonishorizontal"></a><a name="ishorizontal"></a>CMFCToolBarButton::IsHorizontal

Determina si el botón se encuentra en una barra de herramientas horizontal.

```
BOOL IsHorizontal() const;
```

### <a name="return-value"></a>Valor devuelto

Distinto de cero si un botón de barra de herramientas se encuentra en una barra de herramientas horizontal; de lo contrario 0.

### <a name="remarks"></a>Observaciones

El marco de trabajo llama a este método para determinar el diseño de los botones de la barra de herramientas.

Este método `m_bHorz` devuelve el miembro de datos. El valor predeterminado `m_bHorz` del miembro de datos es TRUE; se restablece en cada llamada a la [CMFCToolBarButton::OnDraw](#ondraw) método.

## <a name="cmfctoolbarbuttonislastingroup"></a><a name="islastingroup"></a>CMFCToolBarButton::IslastInGroup

Especifica si el botón está en la última posición de su grupo de botones.

```
virtual BOOL IsLastInGroup() const;
```

### <a name="return-value"></a>Valor devuelto

TRUESi el botón es el último botón de su grupo de botones; de lo contrario FALSO.

### <a name="remarks"></a>Observaciones

Este método define un grupo de *botones* como un conjunto vecino de botones que se colocan en la misma fila y están limitados por separadores o el borde de la barra de herramientas Este método devuelve FALSE si el botón de barra de herramientas no tiene ninguna barra de herramientas principal o el botón de barra de herramientas hace referencia al botón **Personalizar.** Para obtener más información sobre el botón **Personalizar,** vea [CMFCToolBar::GetCustomizeButton](../../mfc/reference/cmfctoolbar-class.md#getcustomizebutton).

Llame al método [CMFCToolBarButton::IsFirstInGroup](#isfirstingroup) para determinar si el botón está en la primera posición de su grupo de botones.

## <a name="cmfctoolbarbuttonislocked"></a><a name="islocked"></a>CMFCToolBarButton::IsLocked

Determina si el botón está en una barra de herramientas bloqueada (no personalizable).

```
BOOL IsLocked() const;
```

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el botón está en una barra de herramientas bloqueada; de lo contrario 0.

### <a name="remarks"></a>Observaciones

El marco de trabajo llama a este método para determinar si el usuario puede personalizar el botón de la barra de herramientas mediante las operaciones de arrastrar y colocar o editar. Establezca el atributo locked en la barra de herramientas primaria mediante el método [CMFCToolBar::LoadToolBar](../../mfc/reference/cmfctoolbar-class.md#loadtoolbar) . El marco de trabajo pasa el valor de este atributo al constructor de cada botón de barra de herramientas ( [CMFCToolbarButton](../../mfc/reference/cmfctoolbarbutton-class.md)) que inserta en la barra de herramientas primaria.

## <a name="cmfctoolbarbuttonisownerof"></a><a name="isownerof"></a>CMFCToolBarButton::IsOwnerOf

Determina si el botón es el propietario del identificador de ventana proporcionado.

```
virtual BOOL IsOwnerOf(HWND hwnd);
```

### <a name="parameters"></a>Parámetros

*Hwnd*<br/>
[en] Un asa de ventana.

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el botón es el propietario del identificador de ventana proporcionado; de lo contrario 0.

### <a name="remarks"></a>Observaciones

Este método devuelve distinto de cero si *hwnd* hace referencia al identificador de ventana directa o es un elemento secundario del identificador de ventana que está asociado con el botón. Este método devuelve 0 si *hwnd* es NULL.

## <a name="cmfctoolbarbuttonisvisible"></a><a name="isvisible"></a>CMFCToolBarButton::IsVisible

Determina si el botón de la barra de herramientas está visible.

```
BOOL IsVisible() const;
```

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el botón de la barra de herramientas está visible; de lo contrario 0.

### <a name="remarks"></a>Observaciones

Puede mostrar u ocultar el botón de barra de herramientas mediante el [CMFCToolBarButton::SetVisible](#setvisible) método. Llame a la [CPane::AdjustSizeImmediate](../../mfc/reference/cpane-class.md#adjustsizeimmediate) método en la barra de herramientas primaria después de llamar a [CMFCToolBarButton::SetVisible](#setvisible) para volver a calcular el diseño de una barra de herramientas primaria.

## <a name="cmfctoolbarbuttoniswindowvisible"></a><a name="iswindowvisible"></a>CMFCToolBarButton::IsWindowVisible

Determina si el identificador de ventana subyacente del botón está visible.

```
virtual BOOL IsWindowVisible();
```

### <a name="return-value"></a>Valor devuelto

Distinto de cero si el identificador de ventana subyacente del botón está visible; de lo contrario 0.

### <a name="remarks"></a>Observaciones

Este método devuelve distinto de cero si el atributo styles del identificador de ventana subyacente contiene el estilo WS_VISIBLE. Este método devuelve FALSE si el identificador de ventana subyacente del botón es NULL.

## <a name="cmfctoolbarbuttonm_bimage"></a><a name="m_bimage"></a>CMFCToolBarButton::m_bImage

Especifica si se muestra una imagen en el botón.

```
BOOL m_bImage;
```

### <a name="remarks"></a>Observaciones

Si este miembro de datos se establece en TRUE, el marco de trabajo muestra la imagen que está asociada con el botón de barra de herramientas; de lo contrario, el marco de trabajo no muestra la imagen. Este miembro afecta al valor devuelto de la [CMFCToolBarButton::m_bImage](#m_bimage) método.

## <a name="cmfctoolbarbuttonm_btext"></a><a name="m_btext"></a>CMFCToolBarButton::m_bText

Especifica si se muestra una etiqueta de texto en el botón.

```
BOOL m_bText;
```

### <a name="remarks"></a>Observaciones

Si este miembro de datos se establece en TRUE, el marco de trabajo muestra la etiqueta de texto del botón de barra de herramientas; de lo contrario, el marco de trabajo no muestra la etiqueta de texto. Este miembro afecta al valor devuelto de la [CMFCToolBarButton::m_bText](#m_btext) método.

## <a name="cmfctoolbarbuttonm_btextbelow"></a><a name="m_btextbelow"></a>CMFCToolBarButton::m_bTextBelow

Especifica si la etiqueta de texto se muestra debajo de la imagen en el botón.

```
BOOL m_bTextBelow;
```

### <a name="remarks"></a>Observaciones

Si esta variable miembro se establece en TRUE, el marco de trabajo muestra el texto del botón debajo de la imagen. El valor predeterminado de este miembro es FALSE.

## <a name="cmfctoolbarbuttonm_buserbutton"></a><a name="m_buserbutton"></a>CMFCToolBarButton::m_bUserButton

Especifica si el botón tiene una imagen definida por el usuario

```
BOOL m_bUserButton;
```

### <a name="remarks"></a>Observaciones

Este miembro de datos se establece en TRUE cuando el botón tiene una imagen definida por el usuario asociada.

## <a name="cmfctoolbarbuttonm_bwholetext"></a><a name="m_bwholetext"></a>CMFCToolBarButton::m_bWholeText

Especifica si el botón muestra su etiqueta de texto completo incluso si no cabe en el rectángulo delimitador.

```
BOOL m_bWholeText;
```

### <a name="remarks"></a>Observaciones

Si este miembro de datos se establece en TRUE, el marco de trabajo muestra la etiqueta de texto completo ampliando el botón. De lo contrario, el marco trunca y anexa puntos suspensivos ( **...**) a la etiqueta de texto.

## <a name="cmfctoolbarbuttonm_bwrap"></a><a name="m_bwrap"></a>CMFCToolBarButton::m_bWrap

Especifica si el botón situado junto a un separador se colocará en la fila siguiente.

```
BOOL m_bWrap;
```

### <a name="remarks"></a>Observaciones

El marco de trabajo establece este miembro de datos en TRUE cuando el botón de barra de herramientas no cabe en la fila actual o cuando se especifica un diseño (por ejemplo, un número específico de botones de barra de herramientas por fila).

El marco de trabajo coloca este botón en la fila siguiente si este miembro de datos se establece en TRUE y la barra de herramientas se acopla horizontalmente o flotante.

El valor predeterminado de este miembro de datos es FALSE.

## <a name="cmfctoolbarbuttonm_bwraptext"></a><a name="m_bwraptext"></a>CMFCToolBarButton::m_bWrapText

Especifica si las etiquetas de texto de varias líneas están habilitadas.

```
AFX_IMPORT_DATA static BOOL m_bWrapText;
```

### <a name="remarks"></a>Observaciones

Si esta variable miembro estática es TRUE, el marco de trabajo permite que todas las barras de herramientas muestren etiquetas de texto de varias líneas en los botones de la barra de herramientas.

El valor predeterminado de este miembro de datos es FALSE.

## <a name="cmfctoolbarbuttonm_nid"></a><a name="m_nid"></a>CMFCToolBarButton::m_nID

El identificador de comando del botón.

```
UINT m_nID;
```

### <a name="remarks"></a>Observaciones

Un identificador de comando de -1 indica que el botón es un separador. Todos los separadores de botones tienen el estilo TBBS_SEPARATOR. Consulte [CMFCToolBarButton::m_nStyle](#m_nstyle) para obtener más información acerca de los estilos de botón.

## <a name="cmfctoolbarbuttonm_nstyle"></a><a name="m_nstyle"></a>CMFCToolBarButton::m_nStyle

El estilo del botón.

```
UINT m_nStyle;
```

### <a name="remarks"></a>Observaciones

Consulte [Estilos](../../mfc/reference/toolbar-control-styles.md) de control de barra de herramientas para obtener la lista de estilos de botón de barra de herramientas disponibles.

## <a name="cmfctoolbarbuttonm_strtext"></a><a name="m_strtext"></a>CMFCToolBarButton::m_strText

La etiqueta de texto del botón.

```
CString m_strText;
```

### <a name="remarks"></a>Observaciones

Este miembro de datos contiene la etiqueta de texto del botón. La etiqueta de texto puede estar vacía.

## <a name="cmfctoolbarbuttonnotifycommand"></a><a name="notifycommand"></a>CMFCToolBarButton::NotifyCommand

Especifica si el botón procesa el [mensaje de WM_COMMAND.](/windows/win32/menurc/wm-command)

```
virtual BOOL NotifyCommand(int iNotifyCode);
```

### <a name="parameters"></a>Parámetros

*iNotifyCode*<br/>
[en] El mensaje de notificación asociado al comando.

### <a name="return-value"></a>Valor devuelto

Este método devuelve FALSE.

### <a name="remarks"></a>Observaciones

El marco de trabajo llama a este método cuando está a punto de enviar un [mensaje de WM_COMMAND](/windows/win32/menurc/wm-command) a la ventana primaria.

De forma predeterminada, este método devuelve FALSE. Invalide este método para devolver TRUE si desea procesar el mensaje de WM_COMMAND o FALSE para indicar que la barra de herramientas primaria debe controlar el mensaje.

## <a name="cmfctoolbarbuttononaddtocustomizepage"></a><a name="onaddtocustomizepage"></a>CMFCToolBarButton::OnAddToCustomizePage

Llamado por el marco de trabajo cuando el botón se agrega a un **personalizar** cuadro de diálogo.

```
virtual void OnAddToCustomizePage();
```

### <a name="remarks"></a>Observaciones

La implementación predeterminada de este método no hace nada. Invalide este método si desea realizar alguna acción cuando el botón se agrega a un **personalizar** cuadro de diálogo.

## <a name="cmfctoolbarbuttononbeforedrag"></a><a name="onbeforedrag"></a>CMFCToolBarButton::OnBeforeDrag

Especifica si se puede arrastrar el botón.

```
virtual BOOL OnBeforeDrag() const;
```

### <a name="return-value"></a>Valor devuelto

TRUESi se puede arrastrar el botón; de lo contrario FALSO.

### <a name="remarks"></a>Observaciones

El marco de trabajo llama a este método antes de que el usuario comience a arrastrar el botón.

La implementación predeterminada de este método devuelve TRUE. Invalide este método para devolver FALSE para deshabilitar el arrastre del botón.

## <a name="cmfctoolbarbuttononbeforedrop"></a><a name="onbeforedrop"></a>CMFCToolBarButton::OnBeforeDrop

Especifica si un usuario puede colocar el botón en la barra de herramientas de destino.

```
virtual BOOL OnBeforeDrop(CMFCToolBar* pTarget);
```

### <a name="parameters"></a>Parámetros

*pTarget*<br/>
[en] El destino de la operación de arrastrar y colocar.

### <a name="return-value"></a>Valor devuelto

TRUESi el botón se puede colocar en la barra de herramientas de destino proporcionada; de lo contrario FALSO.

### <a name="remarks"></a>Observaciones

El marco de trabajo llama a este método antes de que el botón se coloca en una barra de herramientas.

La implementación predeterminada de este método devuelve TRUE. Invalide este método para devolver FALSE para deshabilitar la operación de colocación en el destino especificado.

## <a name="cmfctoolbarbuttononcalculatesize"></a><a name="oncalculatesize"></a>CMFCToolBarButton::OnCalculateSize

Llamado por el marco de trabajo para calcular el tamaño del botón para el contexto de dispositivo especificado y el estado de acoplamiento.

```
virtual SIZE OnCalculateSize(
    CDC* pDC,
    const CSize& sizeDefault,
    BOOL bHorz);
```

### <a name="parameters"></a>Parámetros

*pDC*<br/>
[en] El contexto del dispositivo que muestra el botón.

*sizeDefault*<br/>
[en] El tamaño predeterminado del botón.

*bHorz*<br/>
[en] El estado de acoplamiento de la barra de herramientas principal. Este parámetro es TRUE si la barra de herramientas está acoplada horizontalmente o está flotante, o FALSE si la barra de herramientas está acoplada verticalmente.

### <a name="return-value"></a>Valor devuelto

Estructura `SIZE` que contiene las dimensiones del botón, en píxeles.

### <a name="remarks"></a>Observaciones

El marco de trabajo llama a este método para determinar el tamaño del botón de barra de herramientas para el contexto de dispositivo especificado y el estado de acoplamiento.

La implementación predeterminada tiene en cuenta los tamaños de texto e imagen (si se muestran), las posiciones de texto e imagen (el texto debajo o en el lado derecho de la imagen) y el estado de acoplamiento de la barra de herramientas.

Invalide este método si desea proporcionar el tamaño de un botón no estándar (por ejemplo, un botón de cuadro de edición).

## <a name="cmfctoolbarbuttononcancelmode"></a><a name="oncancelmode"></a>CMFCToolBarButton::OnCancelMode

Llamado por el marco de trabajo para controlar el [mensaje de WM_CANCELMODE.](/windows/win32/winmsg/wm-cancelmode)

```
virtual void OnCancelMode();
```

### <a name="remarks"></a>Observaciones

La implementación predeterminada de este método no hace nada. Invalide este método si desea controlar el [mensaje de WM_CANCELMODE.](/windows/win32/winmsg/wm-cancelmode)

## <a name="cmfctoolbarbuttononchangeparentwnd"></a><a name="onchangeparentwnd"></a>CMFCToolBarButton::OnChangeParentWnd

Llamado por el marco de trabajo cuando el botón se inserta en una nueva barra de herramientas.

```
virtual void OnChangeParentWnd(CWnd* pWndParent);
```

### <a name="parameters"></a>Parámetros

*pWndParent*<br/>
[en] La nueva ventana primaria.

### <a name="remarks"></a>Observaciones

El botón se inserta en una barra de herramientas, por ejemplo, cuando el usuario lo arrastra de una barra de herramientas a otra barra de herramientas.

La implementación predeterminada de este método no hace nada.

## <a name="cmfctoolbarbuttononclick"></a><a name="onclick"></a>CMFCToolBarButton::OnClick

Llamado por el marco de trabajo cuando el usuario hace clic en el botón del mouse.

```
virtual BOOL OnClick(
    CWnd* pWnd,
    BOOL bDelay=TRUE);
```

### <a name="parameters"></a>Parámetros

*pWnd*<br/>
[en] La ventana principal del botón de la barra de herramientas.

*bDelay*<br/>
[en] TRUESi el mensaje debe controlarse con un retraso.

### <a name="return-value"></a>Valor devuelto

Este método devuelve FALSE.

### <a name="remarks"></a>Observaciones

El marco de trabajo llama a este método cuando el usuario hace clic en el botón de barra de herramientas.

La implementación predeterminada no hace nada y devuelve FALSE. Invalide este método para devolver un valor distinto de cero si el botón procesa el mensaje de clic.

## <a name="cmfctoolbarbuttononclickup"></a><a name="onclickup"></a>CMFCToolBarButton::OnClickUp

Llamado por el marco de trabajo cuando el usuario suelta el botón del mouse.

```
virtual BOOL OnClickUp();
```

### <a name="return-value"></a>Valor devuelto

Este método devuelve FALSE.

### <a name="remarks"></a>Observaciones

El marco de trabajo llama a este método cuando el usuario libera el botón de barra de herramientas.

La implementación predeterminada no hace nada y devuelve FALSE. Invalide este método para devolver un valor distinto de cero si el botón procesa el mensaje de clic.

## <a name="cmfctoolbarbuttononcontexthelp"></a><a name="oncontexthelp"></a>CMFCToolBarButton::OnContextHelp

Llamado por el marco de trabajo cuando la barra de herramientas primaria controla un mensaje de WM_HELPHITTEST.

```
virtual BOOL OnContextHelp(CWnd* pWnd);
```

### <a name="parameters"></a>Parámetros

*pWnd*<br/>
[en] La ventana principal del botón de la barra de herramientas.

### <a name="return-value"></a>Valor devuelto

Este método devuelve FALSE.

### <a name="remarks"></a>Observaciones

La implementación predeterminada de este método no hace nada y devuelve FALSE. Invalide este método para devolver un valor distinto de cero si el botón procesa el mensaje de ayuda.

Para obtener más información acerca del mensaje de WM_HELPHITTEST, vea [TN028: Compatibilidad](../../mfc/tn028-context-sensitive-help-support.md)con ayuda contextual .

## <a name="cmfctoolbarbuttononctlcolor"></a><a name="onctlcolor"></a>CMFCToolBarButton::OnCtlColor

Llamado por el marco de trabajo cuando la barra de herramientas primaria controla un mensaje de WM_CTLCOLOR.

```
virtual HBRUSH OnCtlColor(
    CDC* pDC,
    UINT nCtlColor);
```

### <a name="parameters"></a>Parámetros

*pDC*<br/>
[en] El contexto del dispositivo que muestra el botón.

*nCtlColor*<br/>
[en] La notificación de color específica.

### <a name="return-value"></a>Valor devuelto

Identificador del objeto de pincel que el marco de trabajo utiliza para pintar el fondo del botón.

### <a name="remarks"></a>Observaciones

El marco de trabajo llama a este método cuando la barra de herramientas primaria procesa el mensaje de WM_CTLCOLOR para un botón de barra de herramientas que contiene un control de Windows. El marco de trabajo no llama a este método si el botón de barra de herramientas no tiene ventanas.

El marco de trabajo llama a este método cuando el marco de la barra de herramientas está en modo de personalización y el botón de la barra de herramientas está desbloqueado. Para obtener más información sobre el modo de personalización, vea [CMFCToolBar::SetCustomizeMode](../../mfc/reference/cmfctoolbar-class.md#setcustomizemode). Para obtener más información sobre el bloqueo de botones de barra de herramientas, vea [CMFCToolBarButton::IsLocked](#islocked).

La implementación predeterminada no hace nada y devuelve NULL.

## <a name="cmfctoolbarbuttononcustomizemenu"></a><a name="oncustomizemenu"></a>CMFCToolBarButton::OnCustomizeMenu

Permite que el botón modifique el menú proporcionado cuando la aplicación muestra un menú contextual en la barra de herramientas principal.

```
virtual BOOL OnCustomizeMenu(CMenu* pMenu);
```

### <a name="parameters"></a>Parámetros

*pMenu*<br/>
[en] El menú para personalizar.

### <a name="return-value"></a>Valor devuelto

Este método devuelve FALSE.

### <a name="remarks"></a>Observaciones

La implementación predeterminada no hace nada y devuelve FALSE. Invalide este método y devuelva un valor distinto de cero si desea modificar el contenido del menú proporcionado.

## <a name="cmfctoolbarbuttonondblclk"></a><a name="ondblclk"></a>CMFCToolBarButton::OnDblClk

Llamado por el marco de trabajo cuando la barra de herramientas primaria controla un [mensaje de WM_LBUTTONDBLCLK.](/windows/win32/inputdev/wm-lbuttondblclk)

```
virtual void OnDblClk(CWnd* pWnd);
```

### <a name="parameters"></a>Parámetros

*pWnd*<br/>
[in] - La ventana principal del botón.

### <a name="remarks"></a>Observaciones

El método llama `CMFCToolBar::OnLButtonDblClk` a este método cuando la barra de herramientas primaria controla un mensaje [de WM_LBUTTONDBLCLK.](/windows/win32/inputdev/wm-lbuttondblclk)

La implementación predeterminada de este método no hace nada.

## <a name="cmfctoolbarbuttonondraw"></a><a name="ondraw"></a>CMFCToolBarButton::OnDraw

Llamado por el marco de trabajo para dibujar el botón mediante el uso de los estilos y opciones especificados.

```
virtual void OnDraw(
    CDC* pDC,
    const CRect& rect,
    CMFCToolBarImages* pImages,
    BOOL bHorz=TRUE,
    BOOL bCustomizeMode=FALSE,
    BOOL bHighlight=FALSE,
    BOOL bDrawBorder=TRUE,
    BOOL bGrayDisabledButtons=TRUE);
```

### <a name="parameters"></a>Parámetros

*pDC*<br/>
[en] El contexto del dispositivo que muestra el botón.

*Rect*<br/>
[en] El rectángulo delimitador del botón.

*pImages*<br/>
[en] La colección de imágenes de la barra de herramientas asociada al botón.

*bHorz*<br/>
[en] El estado de acoplamiento de la barra de herramientas principal. Este parámetro es TRUE cuando el botón se acopla horizontalmente y FALSE cuando el botón se acopla verticalmente.

*bCustomizeMode*<br/>
[en] Especifica si la barra de herramientas está en modo de personalización. Este parámetro es TRUE cuando la barra de herramientas está en modo de personalización y FALSE cuando la barra de herramientas no está en modo de personalización.

*bResaltar*<br/>
[en] Especifica si el botón está resaltado. Este parámetro es TRUE cuando se resalta el botón y FALSE cuando el botón no está resaltado.

*bDrawBorder*<br/>
[en] Especifica si el botón debe mostrar su borde. Este parámetro es TRUE cuando el botón debe mostrar su borde y FALSE cuando el botón no debe mostrar su borde.

*bGrayDisabledButtons*<br/>
[en] Especifica si se deben sombrear los botones deshabilitados o utilizar la colección de imágenes deshabilitadas. Este parámetro es TRUE cuando los botones deshabilitados deben estar sombreados y FALSE cuando este método debe usar la colección de imágenes deshabilitadas.

### <a name="remarks"></a>Observaciones

Invalide este método para personalizar el dibujo del botón de la barra de herramientas.

## <a name="cmfctoolbarbuttonondrawoncustomizelist"></a><a name="ondrawoncustomizelist"></a>CMFCToolBarButton::OnDrawOnCustomizeList

Llamado por el marco de trabajo para dibujar el botón en el **comandos** panel de la **personalizar** cuadro de diálogo.

```
virtual int OnDrawOnCustomizeList(
    CDC* pDC,
    const CRect& rect,
    BOOL bSelected);
```

### <a name="parameters"></a>Parámetros

*pDC*<br/>
[en] El contexto del dispositivo que muestra el botón.

*Rect*<br/>
[en] El rectángulo delimitador del botón.

*bSeleccionado*<br/>
[en] Especifica si el botón está seleccionado. Si este parámetro es TRUE, se selecciona el botón. Si este parámetro es FALSE, el botón no está seleccionado.

### <a name="return-value"></a>Valor devuelto

El ancho, en píxeles, del botón en el contexto del dispositivo especificado.

### <a name="remarks"></a>Observaciones

El cuadro de diálogo de personalización (ficha **Comandos)** llama a este método cuando el botón está a punto de mostrarse en el cuadro de lista de dibujo del propietario.

La implementación predeterminada de este método muestra la imagen y la etiqueta de texto del botón si están disponibles. Si la etiqueta de texto del botón no está disponible, el método muestra el texto de información sobre herramientas.

Invalide este método para realizar un dibujo personalizado.

## <a name="cmfctoolbarbuttonongetcustomtooltiptext"></a><a name="ongetcustomtooltiptext"></a>CMFCToolBarButton::OnGetCustomToolTipText

Llamado por el marco de trabajo para recuperar el texto de información sobre herramientas personalizado para el botón.

```
virtual BOOL OnGetCustomToolTipText(CString& strToolTip);
```

### <a name="parameters"></a>Parámetros

*strToolTip*<br/>
[fuera] Objeto `CString` que recibe el texto de información sobre herramientas personalizado.

### <a name="return-value"></a>Valor devuelto

Este método devuelve FALSE.

### <a name="remarks"></a>Observaciones

El marco de trabajo llama a este método cuando muestra la información sobre herramientas para el botón de barra de herramientas. Si este método devuelve FALSE, el marco de trabajo usa una información sobre herramientas predeterminada.

La implementación predeterminada no hace nada y devuelve FALSE. Invalide este método y devuelva un valor distinto de cero para proporcionar texto de información sobre herramientas personalizado para el botón de la barra de herramientas.

## <a name="cmfctoolbarbuttononglobalfontschanged"></a><a name="onglobalfontschanged"></a>CMFCToolBarButton::OnGlobalFontsChanged

Llamado por el marco de trabajo cuando la fuente global ha cambiado.

```
virtual void OnGlobalFontsChanged();
```

### <a name="remarks"></a>Observaciones

La implementación predeterminada de este método no hace nada. Invalide este método para actualizar la fuente que se utiliza para mostrar el texto del botón.

## <a name="cmfctoolbarbuttononmove"></a><a name="onmove"></a>CMFCToolBarButton::OnMove

Llamado por el marco de trabajo cuando se mueve la barra de herramientas principal.

```
virtual void OnMove();
```

### <a name="remarks"></a>Observaciones

La implementación predeterminada de este método no hace nada. Invalide este método para cambiar la posición del botón cuando se mueva la barra de herramientas principal.

## <a name="cmfctoolbarbuttononshow"></a><a name="onshow"></a>CMFCToolBarButton::OnShow

Llamado por el marco de trabajo cuando el botón se vuelve visible o invisible.

```
virtual void OnShow(BOOL bShow);
```

### <a name="parameters"></a>Parámetros

*bMostrar*<br/>
[en] Especifica si el botón está visible. Si este parámetro es TRUE, el botón es visible. De lo contrario, el botón no está visible.

### <a name="remarks"></a>Observaciones

La implementación predeterminada de este método no hace nada. Invalide este método para actualizar la visibilidad del botón.

## <a name="cmfctoolbarbuttononsize"></a><a name="onsize"></a>CMFCToolBarButton::OnSize

Llamado por el marco de trabajo cuando la barra de herramientas primaria cambia su tamaño o posición y este cambio hace que el botón cambie de tamaño.

```
virtual void OnSize(int iSize);
```

### <a name="parameters"></a>Parámetros

*iSize*<br/>
[en] El nuevo ancho del botón.

### <a name="remarks"></a>Observaciones

La implementación predeterminada de este método no hace nada. Invalide este método para cambiar el tamaño del botón cuando cambie el tamaño o la posición de la barra de herramientas principal.

## <a name="cmfctoolbarbuttonontoolhittest"></a><a name="ontoolhittest"></a>CMFCToolBarButton::OnToolHitTest

Llamado por el marco de trabajo cuando la barra de herramientas primaria debe determinar si un punto está en el rectángulo delimitador del botón.

```
virtual BOOL OnToolHitTest(
    const CWnd* pWnd,
    TOOLINFO* pTI);
```

### <a name="parameters"></a>Parámetros

*pWnd*<br/>
[en] La ventana principal del botón. Puede ser NULL.

*Pti*<br/>
[en] Estructura `TOOLINFO` que contiene información sobre una herramienta en un control de información sobre herramientas.

### <a name="return-value"></a>Valor devuelto

El resultado `OnMenuButtonToolHitTest` de si el botón puede recuperar un puntero a la ventana de marco primario; de lo contrario FALSO.

### <a name="remarks"></a>Observaciones

Este método llama a uno de los métodos siguientes si puede convertir la ventana primaria en un objeto de marco válido:

- [CMDIFrameWndEx::OnMenuButtonToolHitTest](../../mfc/reference/cmdiframewndex-class.md#onmenubuttontoolhittest)

- [CFrameWndEx::OnMenuButtonToolHitTest](../../mfc/reference/cframewndex-class.md#onmenubuttontoolhittest)

- [COleIPFrameWndEx::OnMenuButtonToolHitTest](../../mfc/reference/coleipframewndex-class.md#onmenubuttontoolhittest)

## <a name="cmfctoolbarbuttononupdatetooltip"></a><a name="onupdatetooltip"></a>CMFCToolBarButton::OnUpdateToolTip

Llamado por el marco de trabajo cuando la barra de herramientas primaria actualiza su texto de información sobre herramientas.

```
virtual BOOL OnUpdateToolTip(
    CWnd* pWndParent,
    int iButtonIndex,
    CToolTipCtrl& wndToolTip,
    CString& str);
```

### <a name="parameters"></a>Parámetros

*pWndParent*<br/>
[en] La ventana principal.

*iButtonIndex*<br/>
[en] El índice de base cero del botón de la colección de botones primarios.

*wndToolTip*<br/>
[en] El control que muestra el texto de información sobre herramientas.

*Str*<br/>
[fuera] Objeto `CString` que recibe el texto de información sobre herramientas actualizado.

### <a name="return-value"></a>Valor devuelto

Este método devuelve FALSE.

### <a name="remarks"></a>Observaciones

La implementación predeterminada de este método no hace nada y devuelve FALSE. Invalide este método para devolver un valor distinto de cero si proporciona una cadena de texto de información sobre herramientas.

## <a name="cmfctoolbarbuttonpreparedrag"></a><a name="preparedrag"></a>CMFCToolBarButton::PrepareDrag

Llamado por el marco de trabajo cuando el botón está a punto de realizar una operación de arrastrar y colocar.

```
virtual BOOL PrepareDrag(COleDataSource& srcItem);
```

### <a name="parameters"></a>Parámetros

*srcItem*<br/>
[en] Objeto `COleDataSource` que almacena información de estado sobre la operación de arrastrar y colocar.

### <a name="return-value"></a>Valor devuelto

TRUESi la operación se realiza correctamente; de lo contrario FALSO.

### <a name="remarks"></a>Observaciones

El marco de trabajo llama a este método para `COleDataSource` preparar el botón de barra de herramientas para almacenar su estado en el objeto proporcionado. Este método almacena su estado serializando a sí mismo a un archivo compartido y, a continuación, pasando ese archivo a la [COleDataSource::CacheGlobalData](../../mfc/reference/coledatasource-class.md#cacheglobaldata) método. Para obtener más información acerca de la serialización de botones de barra de herramientas, vea [CMFCToolBarButton::Serialize](#serialize).

Este método no hace nada y devuelve TRUE si no se puede almacenar el botón (el [CMFCToolBarButton::CanBeStored](#canbestored) método devuelve FALSE). Devuelve FALSE si se produce una excepción durante la serialización de objetos.

Para obtener más información acerca de las operaciones de arrastrar y colocar OLE, vea [arrastrar y colocar OLE](../../mfc/drag-and-drop-ole.md).

## <a name="cmfctoolbarbuttonrect"></a><a name="rect"></a>CMFCToolBarButton::Rect

Recupera el rectángulo delimitador del botón.

```
const CRect& Rect() const;
```

### <a name="return-value"></a>Valor devuelto

Objeto `CRect` que contiene el rectángulo delimitador de un botón.

## <a name="cmfctoolbarbuttonresetimagetodefault"></a><a name="resetimagetodefault"></a>CMFCToolBarButton::ResetImageToDefault

Establece en el valor predeterminado la imagen asociada al botón.

```
virtual void ResetImageToDefault();
```

### <a name="remarks"></a>Observaciones

Este método recupera la imagen predeterminada de su barra de herramientas primaria mediante el [CMFCToolBar::GetDefaultImage](../../mfc/reference/cmfctoolbar-class.md#getdefaultimage) método. Si el botón no tiene ninguna imagen predeterminada asociada, este método establece la etiqueta de texto del botón según su recurso de cadena mediante el [método CStringT::LoadString](../../atl-mfc-shared/reference/cstringt-class.md#loadstring) . Para obtener más información acerca de los recursos de cadena, vea [Trabajar con archivos](../../windows/working-with-resource-files.md)de recursos .

Este método no hace nada si el botón tiene una imagen definida por el usuario.

## <a name="cmfctoolbarbuttonsavebarstate"></a><a name="savebarstate"></a>CMFCToolBarButton::SaveBarState

Guarda el estado del botón de la barra de herramientas.

```
virtual void SaveBarState();
```

### <a name="remarks"></a>Observaciones

El marco de trabajo llama `CMFCToolBarButton` a este método cuando crea un objeto como resultado de una operación de arrastrar y colocar.

La implementación predeterminada de este método no hace nada. Invalide este método para guardar el estado del botón de la barra de herramientas en un origen de datos externo.

## <a name="cmfctoolbarbuttonserialize"></a><a name="serialize"></a>CMFCToolBarButton::Serialize

Lee este objeto de un archivo o lo escribe en un archivo.

```
virtual void Serialize(CArchive& ar);
```

### <a name="parameters"></a>Parámetros

*ar*<br/>
[en] Objeto `CArchive` desde el que se va a serializar o al que se va a serializar.

### <a name="remarks"></a>Observaciones

Este método admite procesos de transferencia de datos, como el portapapeles o las operaciones de arrastrar y colocar. Lee o escribe propiedades del botón, como el identificador, la etiqueta de `CArchive` texto y el identificador de imagen desde o hacia el objeto proporcionado.

Para obtener ejemplos de serialización, vea [Serialización: serialización](../../mfc/serialization-serializing-an-object.md)de un objeto .

## <a name="cmfctoolbarbuttonsetaccdata"></a><a name="setaccdata"></a>CMFCToolBarButton::SetACCData

Rellena el `CAccessibilityData` objeto proporcionado con datos de accesibilidad desde el botón de la barra de herramientas.

```
virtual BOOL SetACCData(
    CWnd* pParent,
    CAccessibilityData& data);
```

### <a name="parameters"></a>Parámetros

*pParent*<br/>
[en] La ventana principal del botón de la barra de herramientas.

*datos*<br/>
[en] Objeto `CAccessibilityData` que se rellena con los datos de accesibilidad del botón de la barra de herramientas.

### <a name="return-value"></a>Valor devuelto

Este método devuelve TRUE.

### <a name="remarks"></a>Observaciones

Invalide este método para devolver FALSE si el botón de barra de herramientas no proporciona datos de accesibilidad.

## <a name="cmfctoolbarbuttonsetclipboardformatname"></a><a name="setclipboardformatname"></a>CMFCToolBarButton::SetClipboardFormatName

Cambia el nombre del formato global del portapapeles.

```
static void __stdcall SetClipboardFormatName(LPCTSTR lpszName);
```

### <a name="parameters"></a>Parámetros

*lpszName*<br/>
[en] El nuevo nombre del formato de portapapeles global. No puede ser NULL.

### <a name="remarks"></a>Observaciones

Este método permite que las operaciones de arrastrar y colocar se produzcan entre varias aplicaciones. Cada aplicación debe proporcionar el mismo nombre de formato de portapapeles.

Debe llamar a este método antes de que el marco de trabajo llame a [CMFCToolBarButton::GetClipboardFormat](#getclipboardformat).

## <a name="cmfctoolbarbuttonsetimage"></a><a name="setimage"></a>CMFCToolBarButton::SetImage

Establece el índice de imagen del botón.

```
virtual void SetImage(int iImage);
```

### <a name="parameters"></a>Parámetros

*iImage*<br/>
[en] El índice de la imagen en la colección de imágenes de la barra de herramientas.

### <a name="remarks"></a>Observaciones

Si el botón de barra de herramientas es un separador, *iImage* hace referencia al nuevo ancho del botón separador.

Si *iImage* es menor que cero, este método deshabilita el dibujo de la imagen y habilita el dibujo de la etiqueta de texto del botón.

## <a name="cmfctoolbarbuttonsetprotectedcommands"></a><a name="setprotectedcommands"></a>CMFCToolBarButton::SetProtectedCommands

Establece la lista de comandos que el usuario no puede personalizar.

```
static void SetProtectedCommands(const CList<UINT,UINT>& lstCmds);
```

### <a name="parameters"></a>Parámetros

*lstCmds*<br/>
[en] La lista de comandos protegidos.

### <a name="remarks"></a>Observaciones

En el modo de personalización, el marco de trabajo deshabilita los comandos de botón de barra de herramientas que están protegidos. El usuario no puede realizar operaciones de arrastrar y colocar y editar en los botones de la barra de herramientas deshabilitados.

Utilice el [método CMFCToolBarButton::GetProtectedCommands](#getprotectedcommands) para recuperar la lista de comandos protegidos.

## <a name="cmfctoolbarbuttonsetradio"></a><a name="setradio"></a>CMFCToolBarButton::SetRadio

Llamado por el marco de trabajo cuando un botón cambia su estado comprobado.

```
virtual void SetRadio();
```

### <a name="remarks"></a>Observaciones

La implementación predeterminada de este método no hace nada. Invalide este método para realizar una acción personalizada cuando el botón cambie su estado activado.

## <a name="cmfctoolbarbuttonsetrect"></a><a name="setrect"></a>CMFCToolBarButton::SetRect

Establece el rectángulo delimitador del botón.

```
void SetRect(const CRect rect);
```

### <a name="parameters"></a>Parámetros

*Rect*<br/>
[en] El nuevo rectángulo delimitador del botón.

### <a name="remarks"></a>Observaciones

Este método llama a la [CMFCToolBarButton::OnMove](#onmove) método después de establece el nuevo rectángulo delimitador.

## <a name="cmfctoolbarbuttonsetstyle"></a><a name="setstyle"></a>CMFCToolBarButton::SetStyle

Establece el estilo del botón.

```
virtual void SetStyle(UINT nStyle);
```

### <a name="parameters"></a>Parámetros

*nStyle*<br/>
[en] El nuevo estilo del botón.

### <a name="remarks"></a>Observaciones

La implementación predeterminada establece el [CMFCToolBarButton::m_nStyle](#m_nstyle) miembro de datos *en nStyle*. Invalide este método si desea realizar un procesamiento adicional para controlar el cambio de estilo. Consulte [Estilos](toolbar-control-styles.md) de control de Barra de herramientas para obtener una lista de indicadores de estilo válidos.

## <a name="cmfctoolbarbuttonsetvisible"></a><a name="setvisible"></a>CMFCToolBarButton::SetVisible

Especifica si el botón está visible.

```
void SetVisible(BOOL bShow=TRUE);
```

### <a name="parameters"></a>Parámetros

*bMostrar*<br/>
[en] Valor booleano que especifica si se debe mostrar u ocultar el botón. Si este parámetro es TRUE, se muestra el botón. Si el parámetro es FALSE, el botón está oculto.

### <a name="remarks"></a>Observaciones

Utilice esta función para ocultar o mostrar un botón de barra de herramientas determinado. Llame a la [CPane::AdjustSizeImmediate](../../mfc/reference/cpane-class.md#adjustsizeimmediate) método después de llamar a este método.

## <a name="cmfctoolbarbuttonshow"></a><a name="show"></a>CMFCToolBarButton::Show

Muestra u oculta el botón.

```
void Show(BOOL bShow);
```

### <a name="parameters"></a>Parámetros

*bMostrar*<br/>
[en] Valor booleano que especifica si se debe mostrar u ocultar el botón. Si este parámetro es TRUE, se muestra el botón. Si el parámetro es FALSE, el botón está oculto.

### <a name="remarks"></a>Observaciones

El marco de trabajo llama a este método para actualizar la visibilidad de los botones de la barra de herramientas cuando se cambia el tamaño de su barra de herramientas principal. El marco de trabajo llama a este método con *bShow* establecido en FALSE cuando el botón ya no se ajusta dentro de los límites de la barra de herramientas. El marco de trabajo llama a este método con *bShow* establecido en TRUE cuando después de cambiar el tamaño del botón de nuevo se ajusta dentro de los límites de la barra de herramientas.

Utilice el [CMFCToolBarButton::SetVisible](#setvisible) método para establecer la visibilidad general del botón.

Este método llama a la [CMFCToolBarButton::OnShow](#onshow) método después de actualizar el estado de visibilidad del botón.

## <a name="see-also"></a>Consulte también

[Gráfico de jerarquías](../../mfc/hierarchy-chart.md)<br/>
[Clases](../../mfc/reference/mfc-classes.md)<br/>
[CMFCToolBar (Clase)](../../mfc/reference/cmfctoolbar-class.md)<br/>
[CMFCToolBarImages (clase)](../../mfc/reference/cmfctoolbarimages-class.md)
